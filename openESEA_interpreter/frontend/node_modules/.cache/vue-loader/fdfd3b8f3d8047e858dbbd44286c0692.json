{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\MethodTreeSideBar.vue?vue&type=style&index=0&id=3ab8f39d&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\MethodTreeSideBar.vue","mtime":1707572265285},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1741014587743},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1741014602245},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1741014592996},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1741014585012},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLnAtdHJlZSB7DQogICAgICAgIGJhY2tncm91bmQ6IG5vbmU7DQogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTsNCiAgICB9DQogICAgLmRpcmVjdEluZGljYXRvcnM6aG92ZXIgew0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUVFRUVFOw0KICAgIH0NCg=="},{"version":3,"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\MethodTreeSideBar.vue"],"names":[],"mappings":";IA2GI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B","file":"C:/Users/Marc/source/repos/openESEA/openESEA_interpreter/frontend/src/components/MethodTreeSideBar.vue","sourceRoot":"","sourcesContent":["// Used by MethodIndicatorCreation.vue, MethodTopicCreation.vue\r\n\r\n<template>\r\n    <div style=\"width: 400px; border-right: 1px solid lightgrey;\" @drop='onDrop($event)'  @dragover.prevent @dragenter.prevent>\r\n        <div class=\"p-d-flex p-mt-2\">\r\n            <div v-for=\"item in libraryComponents\" :key=\"item\" class=\"p-col-6\" style=\"font-size: 20px;\" :style=\"(item === activeComponentType) ? 'border-bottom: 3px solid  #00695C; font-weight: bold;':'border-bottom: 3px solid lightgrey;'\" @click=\"activeComponentType = item\">\r\n                {{item}}\r\n            </div>\r\n        </div>\r\n        <method-sidebar-component v-if=\"activeComponentType === 'Indicators'\" :items=\"filteredDirectIndicators\" :active-item=\"activeDirectIndicator\" v-model:searchbar=\"searchbar\" item-type=\"direct\" />\r\n        <method-sidebar-component v-if=\"activeComponentType === 'Calculations'\" :items=\"filteredIndirectIndicators\" :active-item=\"activeIndirectIndicator\" v-model:searchbar=\"searchbar\" item-type=\"indirect\" />\r\n        <method-sidebar-component v-if=\"activeComponentType === 'Topics' && topicsdisplay\" :items=\"filteredTopics\" :active-item=\"activeTopic\" v-model:searchbar=\"searchbar\" item-type=\"topic\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapGetters, mapActions } from 'vuex'\r\n    import MethodSidebarComponent from '@/components/MethodSidebarComponent'\r\n\r\n    export default {\r\n        components: {\r\n            MethodSidebarComponent\r\n        },\r\n        props: {\r\n            topicsdisplay: {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                libraryComponents: ['Indicators', 'Calculations'], // , 'Topics'\r\n                activeComponentType: 'Indicators',\r\n                searchbar: ''\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('method', ['method']),\r\n            ...mapState('topic', { topics: 'topics', activeTopic: 'topic' }),\r\n            ...mapState('question', { activeQuestion: 'question', methodQuestions: 'questions' }),\r\n            ...mapState('directIndicator', { activeDirectIndicator: 'directIndicator', directIndicators: 'directIndicators' }),\r\n            ...mapState('indirectIndicator', { activeIndirectIndicator: 'indirectIndicator', indirectIndicators: 'indirectIndicators' }),\r\n\r\n            ...mapGetters('topic', ['methodTopics', 'subTopics']),\r\n            ...mapGetters('question', { topicQuestions: 'topicQuestions' }),\r\n            ...mapGetters('indirectIndicator', ['topicIndirectIndicators']),\r\n            filteredTopics () {\r\n                return this.topics.filter((topic) => { return (topic.name.toLowerCase().includes(this.searchbar.toLowerCase())) })\r\n            },\r\n            // For searching direct indicators\r\n            filteredDirectIndicators () {\r\n                const directindicators = this.directIndicators.filter((indicator) => { return (indicator.key?.toLowerCase().includes(this.searchbar.toLowerCase())) })\r\n                if (this.activeComponentOption === 'Unused') {\r\n                    return directindicators.filter(indicator => !(indicator.topic > 0))\r\n                } else if (this.activeComponentOption === 'Used') {\r\n                    return directindicators.filter(indicator => indicator.topic > 0)\r\n                } else {\r\n                    return directindicators\r\n                }\r\n            },\r\n            // For searching indirect indicators\r\n            filteredIndirectIndicators () {\r\n                if (this.indirectIndicators.length) {\r\n                return this.indirectIndicators.filter((indicator) => {\r\n                    return (indicator.key?.toLowerCase().includes(this.searchbar.toLowerCase()))\r\n                })\r\n                } else { return [] }\r\n            }\r\n        },\r\n        watch: {\r\n        },\r\n        created () {\r\n            this.fetchItems()\r\n        },\r\n        methods: {\r\n            ...mapActions('topic', ['fetchTopics', 'setTopic', 'patchTopic']),\r\n            ...mapActions('question', ['fetchQuestions', 'setQuestion']),\r\n            ...mapActions('directIndicator', ['fetchDirectIndicators']),\r\n            ...mapActions('indirectIndicator', ['fetchIndirectIndicators', 'setIndirectIndicator', 'updateIndirectIndicator']),\r\n            // Used when dragging and dropping an indicator into the method\r\n            async onDrop (evt) {\r\n                const myitem = evt.dataTransfer.getData('draggedItem')\r\n                const parseditem = JSON.parse(myitem)\r\n                if (!parseditem.id) { return }\r\n                console.log('-->', parseditem)\r\n                if (parseditem.objType === 'indicator') {\r\n                    const topicIndicators = this.directIndicators.filter(indicator => (indicator.topic === parseditem.topic && indicator.id !== parseditem.id))\r\n                    const ids = topicIndicators.map(indicator => indicator.id)\r\n                    await this.patchTopic({ mId: this.method.id, id: parseditem.topic, data: { direct_indicators: ids } })\r\n                } else if (parseditem.objType === 'calculation') {\r\n                    const topicIndirectIndicators = this.indirectIndicators.filter(indicator => (indicator.topic === parseditem.topic && indicator.id !== parseditem.id))\r\n                    const ids = topicIndirectIndicators.map(indicator => indicator.id)\r\n                    await this.patchTopic({ mId: this.method.id, id: parseditem.topic, data: { indirect_indicators: ids } })\r\n                }\r\n                this.fetchItems()\r\n            },\r\n            async fetchItems () {\r\n                await this.fetchQuestions({ mId: this.method.id, SuId: 0, SeId: 0 })\r\n                await this.fetchTopics({ mId: this.method.id })\r\n                await this.fetchDirectIndicators({ mId: this.method.id })\r\n                await this.fetchIndirectIndicators({ mId: this.method.id })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .p-tree {\r\n        background: none;\r\n        border: 1px solid lightgray;\r\n    }\r\n    .directIndicators:hover {\r\n        background-color: #EEEEEE;\r\n    }\r\n</style>\r\n"]}]}