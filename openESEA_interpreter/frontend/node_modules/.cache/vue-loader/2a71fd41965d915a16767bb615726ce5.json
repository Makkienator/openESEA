{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\RadialProgressBar.vue?vue&type=template&id=4c400df9","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\RadialProgressBar.vue","mtime":1707572265299},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1741014602863},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPHZ1ZS1lY2hhcnRzIDpvcHRpb249ImNyZWF0ZU9wdGlvbnMoY2hhcnREYXRhKSIgYXV0b3Jlc2l6ZT4NCiAgICA8L3Z1ZS1lY2hhcnRzPg0K"},{"version":3,"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\RadialProgressBar.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Marc/source/repos/openESEA/openESEA_interpreter/frontend/src/components/dashboard/visualisations/charts/RadialProgressBar.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <vue-echarts :option=\"createOptions(chartData)\" autoresize>\r\n    </vue-echarts>\r\n</template>\r\n\r\n<script>\r\nimport 'echarts'\r\nimport ECharts from 'vue-echarts'\r\nimport { use } from 'echarts/core'\r\nimport { PieChart } from 'echarts/charts'\r\nimport { CanvasRenderer } from 'echarts/renderers'\r\n\r\nuse([PieChart, CanvasRenderer])\r\n\r\nexport default {\r\n    components: {\r\n        'vue-echarts': ECharts\r\n    },\r\n    props: {\r\n        chartData: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        createOptions (chartData) {\r\n            const title = chartData?.title\r\n            const titleOptions = {\r\n                text: title,\r\n                left: 'center',\r\n                textStyle: {\r\n                    overflow: 'break',\r\n                    fontSize: 12,\r\n                    width: this.$parent.$el.clientWidth\r\n                }\r\n            }\r\n            const mapping = chartData?.mapping\r\n            const currentValueField = mapping?.['Current Value Field']?.key\r\n            const targetValueField = mapping?.['Target Value Field']?.key\r\n            if (!currentValueField) return { title: titleOptions }\r\n            const currentValueName = mapping?.['Current Value Field']?.name\r\n            const targetValueName = mapping?.['Target Value Field']?.name\r\n\r\n            const data = chartData.data\r\n            const chartOptions = chartData.options\r\n            const isPercentage = targetValueField === null || targetValueField === undefined || chartOptions?.isPercentage === true\r\n\r\n            const currentValue = data[0][currentValueField]\r\n            const targetValue = isPercentage ? 100 : data[0][targetValueField]\r\n\r\n            const currentValueNameRevised = !currentValueName ? [isPercentage ? 'Progress' : 'Current'] : currentValueName\r\n            const targetValueNameRevised = !targetValueName ? [isPercentage ? '' : 'Target'] : targetValueName\r\n            const currentValueText = currentValue + (isPercentage ? '%' : '')\r\n            var formattedText = '<b>' + currentValueNameRevised + '</b> ' + currentValueText\r\n            if (!isPercentage) {\r\n                formattedText += '<br />' +\r\n                    '<b>' + targetValueNameRevised + '</b> ' + targetValue\r\n            }\r\n\r\n            const showValueOptions = chartOptions?.showValue ? [{\r\n                    type: 'text',\r\n                    left: 'center',\r\n                    top: '55%',\r\n                    style: {\r\n                        text: currentValueText + (!isPercentage ? ' / ' + targetValue : ''),\r\n                        fontSize: 15,\r\n                        fontWeight: 'normal',\r\n                        fill: '#888'\r\n                    }\r\n                }] : []\r\n\r\n            const options = {\r\n                graphic: showValueOptions,\r\n                title: titleOptions,\r\n                tooltip: {\r\n                    trigger: 'item',\r\n                    axisPointer: {\r\n                        type: 'shadow'\r\n                    },\r\n                    formatter: formattedText\r\n                },\r\n                series: [\r\n                    {\r\n                        type: 'pie',\r\n                        radius: ['40%', '60%'],\r\n                        center: ['50%', '60%'],\r\n                        startAngle: 90,\r\n                        data: [\r\n                            {\r\n                                value: currentValue,\r\n                                label: {\r\n                                    show: false\r\n                                },\r\n                                labelLine: {\r\n                                    show: false\r\n                                },\r\n                                emphasis: {\r\n                                    scale: false\r\n                                }\r\n                            },\r\n                            {\r\n                                value: currentValue > targetValue ? 0 : targetValue - currentValue,\r\n                                itemStyle: {\r\n                                    color: 'rgba(180, 180, 180, 0.2)'\r\n                                },\r\n                                label: {\r\n                                    show: false\r\n                                },\r\n                                labelLine: {\r\n                                    show: false\r\n                                },\r\n                                cursor: 'unset',\r\n                                emphasis: {\r\n                                    disabled: true\r\n                                }\r\n                            }\r\n                        ],\r\n                        emphasis: {\r\n                            label: {\r\n                                show: false\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                legend: {\r\n                    show: false\r\n                }\r\n            }\r\n            return options\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]}]}