{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\audit\\single\\AuditQuestionSelection.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\audit\\single\\AuditQuestionSelection.vue","mtime":1707572265492},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmRpZmZlcmVuY2UudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaW50ZXJzZWN0aW9uLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmlzLWRpc2pvaW50LWZyb20udjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaXMtc3Vic2V0LW9mLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmlzLXN1cGVyc2V0LW9mLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LnN5bW1ldHJpYy1kaWZmZXJlbmNlLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LnVuaW9uLnYyLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoZWxwRGlhbG9nOiBmYWxzZSwKICAgICAgY3JpdGljYWxEaWFsb2c6IGZhbHNlLAogICAgICBleHBhbmRlZFJvd0dyb3VwczogbnVsbCwKICAgICAgc2VsZWN0ZWRRdWVzdGlvbnM6IFtdLAogICAgICBjcml0aWNhbERpYWxvZ0luZGljYXRvcjoge30sCiAgICAgIGNob3NlbkRpcmVjdEluZGljYXRvcnM6IFtdCiAgICAgIC8vIHF1ZXN0aW9uczogWwogICAgICAvLyAgICAgewogICAgICAvLyAgICAgICAgIG5hbWU6ICdXaGF0IGlzIHRoZSB0b3RhbCBudW1iZXIgb2YgbWVuIHN0YWZmPycsCiAgICAgIC8vICAgICAgICAgcmVzcG9uc2U6IDUsCiAgICAgIC8vICAgICAgICAgcmVjb21tZW5kYXRpb25zOiAnJywKICAgICAgLy8gICAgICAgICBzZWN0aW9uOiB7IG5hbWU6ICdHZW5kZXInIH0KICAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgICB7CiAgICAgIC8vICAgICAgICAgbmFtZTogJ1doYXQgaXMgdGhlIHRvdGFsIG51bWJlciBvZiB3b21lbiBzdGFmZj8nLAogICAgICAvLyAgICAgICAgIHJlc3BvbnNlOiA3LAogICAgICAvLyAgICAgICAgIHJlY29tbWVuZGF0aW9uczogJycsCiAgICAgIC8vICAgICAgICAgc2VjdGlvbjogeyBuYW1lOiAnR2VuZGVyJyB9CgogICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIHsKICAgICAgLy8gICAgICAgICBuYW1lOiAnV2hhdCBpcyB0aGUgYXZlcmFnZSBtb250aGx5IHNhbGFyeSBwZXIgZW1wbG95ZWU/JywKICAgICAgLy8gICAgICAgICByZXNwb25zZTogJyQ0MDAwJywKICAgICAgLy8gICAgICAgICByZWNvbW1lbmRhdGlvbnM6ICcnLAogICAgICAvLyAgICAgICAgIHNlY3Rpb246IHsgbmFtZTogJ1NhbGFyeScgfQogICAgICAvLyAgICAgfQogICAgICAvLyBdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhdWRpdEluZGljYXRvcnMnLCBbJ2luZGljYXRvcnMnLCAnc2VsZWN0ZWRJbmRpY2F0b3JzJ10pLAogICAgLi4ubWFwU3RhdGUoJ21ldGhvZCcsIFsnbWV0aG9kJ10pLAogICAgLi4ubWFwU3RhdGUoJ3N1cnZleVJlc3BvbnNlJywgWydzdXJ2ZXlSZXNwb25zZSddKSwKICAgIC4uLm1hcFN0YXRlKCdzdXJ2ZXlBdWRpdCcsIFsnc3VydmV5QXVkaXQnXSksCiAgICAuLi5tYXBTdGF0ZSgnZXNlYUFjY291bnQnLCBbJ2VzZWFBY2NvdW50J10pLAogICAgaW5kaWNhdG9yX25hbWUoKSB7CiAgICAgIGlmICgnbmFtZScgaW4gdGhpcy5jcml0aWNhbERpYWxvZ0luZGljYXRvcikgewogICAgICAgIHJldHVybiB0aGlzLmNyaXRpY2FsRGlhbG9nSW5kaWNhdG9yLm5hbWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdpbmRpY2F0b3InOwogICAgICB9CiAgICB9CiAgICAvLyBkaXJlY3RJbmRpY2F0b3JzICgpIHsKICAgIC8vICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFF1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uKSA9PiB7CiAgICAvLyAgICAgICAgIGlmIChxdWVzdGlvbi5hYnNvbHV0ZV93ZWlnaHRzLmxlbmd0aCkgeyByZXR1cm4gaXRlbSB9CiAgICAvLyAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIGRhdGEpCiAgICAvLyB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zZWxlY3RlZFF1ZXN0aW9ucyA9IHRoaXMuc2VsZWN0ZWRJbmRpY2F0b3JzOwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygnYXVkaXRJbmRpY2F0b3JzJywgWydzZWxlY3RJbmRpY2F0b3JzJ10pLAogICAgLi4ubWFwQWN0aW9ucygnc3VydmV5UmVzcG9uc2UnLCBbJ2ZldGNoU3VydmV5UmVzcG9uc2UnXSksCiAgICAuLi5tYXBBY3Rpb25zKCdxdWVzdGlvblJlc3BvbnNlJywgWyd1cGRhdGVRdWVzdGlvblJlc3BvbnNlJ10pLAogICAgYXN5bmMgc3RhcnRBdWRpdChzZWxlY3RlZFF1ZXN0aW9ucykgewogICAgICB2YXIgX3RoaXMkZXNlYUFjY291bnQsIF90aGlzJGVzZWFBY2NvdW50MjsKICAgICAgLy8gR2V0cyBEaXJlY3QgSW5kaWNhdG9ycyBiZWxvbmdpbmcgdG8gYW4gaW5kaXJlY3QgaW5kaWNhdG9yCiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hTdXJ2ZXlSZXNwb25zZSh7CiAgICAgICAgb0lkOiAoX3RoaXMkZXNlYUFjY291bnQgPSB0aGlzLmVzZWFBY2NvdW50KSA9PT0gbnVsbCB8fCBfdGhpcyRlc2VhQWNjb3VudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZXNlYUFjY291bnQub3JnYW5pc2F0aW9uLAogICAgICAgIGVhSWQ6IChfdGhpcyRlc2VhQWNjb3VudDIgPSB0aGlzLmVzZWFBY2NvdW50KSA9PT0gbnVsbCB8fCBfdGhpcyRlc2VhQWNjb3VudDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGVzZWFBY2NvdW50Mi5pZCwKICAgICAgICBpZDogYHN1cnZleT0ke3RoaXMuc3VydmV5QXVkaXQuc3VydmV5fWAKICAgICAgfSk7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGNob3NlbkRpcmVjdEluZGljYXRvcnMgPSBbXTsKICAgICAgc2VsZWN0ZWRRdWVzdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocXVlc3Rpb24pIHsKICAgICAgICBpZiAocXVlc3Rpb24gIT09IG51bGwgJiYgcXVlc3Rpb24gIT09IHZvaWQgMCAmJiBxdWVzdGlvbi5mb3JtdWxhKSB7CiAgICAgICAgICBjaG9zZW5EaXJlY3RJbmRpY2F0b3JzLnB1c2goc2VsZi5nZXRBbGxDaGlsZHJlbihxdWVzdGlvbi5hYnNvbHV0ZV93ZWlnaHRzKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNob3NlbkRpcmVjdEluZGljYXRvcnMucHVzaChxdWVzdGlvbi5rZXkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuY2hvc2VuRGlyZWN0SW5kaWNhdG9ycyA9IFsuLi5uZXcgU2V0KGNob3NlbkRpcmVjdEluZGljYXRvcnMuZmxhdCgpKV07CiAgICAgIHZhciBzZWxlY3RlZEluZGljYXRvcnMgPSBbXTsKICAgICAgZm9yIChjb25zdCBkaXJlY3RJbmRpY2F0b3Igb2YgdGhpcy5jaG9zZW5EaXJlY3RJbmRpY2F0b3JzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coZGlyZWN0SW5kaWNhdG9yKQogICAgICAgIGNvbnNvbGUubG9nKGRpcmVjdEluZGljYXRvcik7CiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5pbmRpY2F0b3JzLmZpbmQoaW5kaWNhdG9yID0+IGluZGljYXRvci5rZXkgPT09IGRpcmVjdEluZGljYXRvcik7CiAgICAgICAgaWYgKGluZGljYXRvcikgewogICAgICAgICAgLy8gY2hhbmdlIHN1cnZleVJlc3BvbnNlLnF1ZXN0aW9uX3Jlc3BvbnNlcyB0byBxdWVzdGlvblJlc3BvbnNlcyB0byBiZSBhYmxlIHRvIHNlZSB0aGUgdXBkYXRlZCBkYXRhYmFzZSBvbiB1cGRhdGVkIHF1ZXN0aW9uIHJlc3BvbnNlIGNoYW5nZXMhCiAgICAgICAgICBpbmRpY2F0b3IucXVlc3Rpb25fcmVzcG9uc2UgPSB0aGlzLnN1cnZleVJlc3BvbnNlLnF1ZXN0aW9uX3Jlc3BvbnNlcy5maW5kKHF1ZXN0aW9uUmVzcG9uc2UgPT4gcXVlc3Rpb25SZXNwb25zZS5kaXJlY3RfaW5kaWNhdG9yX2tleSA9PT0gaW5kaWNhdG9yLmtleSk7CiAgICAgICAgICBzZWxlY3RlZEluZGljYXRvcnMucHVzaChpbmRpY2F0b3IpOwogICAgICAgIH0KICAgICAgICAvLyBzaG91bGQgdXNlIHRoZXNlIGRpcmVjdCBpbmRpY2F0b3IgaWQncyB0byB1cGRhdGUgdGhlIHF1ZXN0aW9uIHJlc3BvbnNlcwogICAgICAgIC8vIGF3YWl0IHRoaXMudXBkYXRlUXVlc3Rpb25SZXNwb25zZSh7fSkKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZEluZGljYXRvcnMpOwogICAgICBhd2FpdCB0aGlzLnNlbGVjdEluZGljYXRvcnMoewogICAgICAgIGluZGljYXRvcnM6IHNlbGVjdGVkSW5kaWNhdG9ycwogICAgICB9KTsKICAgICAgLy8gVG9EbzogQ2hhbmdlIGF1ZGl0IHN0YXR1cyBvZiBxdWVzdGlvbiByZXNwb25zZXMgKGFsc28gaW4gYmFja2VuZCkhCiAgICAgIGZvciAodmFyIGluZGljYXRvciBvZiBzZWxlY3RlZEluZGljYXRvcnMpIHsKICAgICAgICBpZiAoaW5kaWNhdG9yLnF1ZXN0aW9uX3Jlc3BvbnNlLmF1ZGl0c3RhdHVzID09PSAnTm90IFVuZGVyIEF1ZGl0JykgewogICAgICAgICAgaW5kaWNhdG9yLnF1ZXN0aW9uX3Jlc3BvbnNlLmF1ZGl0c3RhdHVzID0gJ09wZW4nOwogICAgICAgIH0KICAgICAgICB0aGlzLnVwZGF0ZVF1ZXN0aW9uUmVzcG9uc2UoewogICAgICAgICAgb0lkOiAwLAogICAgICAgICAgZWFJZDogMCwKICAgICAgICAgIGlkOiBpbmRpY2F0b3IucXVlc3Rpb25fcmVzcG9uc2UuaWQsCiAgICAgICAgICBkYXRhOiBpbmRpY2F0b3IucXVlc3Rpb25fcmVzcG9uc2UKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2RvY3VtZW50YXRpb25yZXF1ZXN0JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIEVzZWFBY2NvdW50SWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5Fc2VhQWNjb3VudElkLAogICAgICAgICAgU3VydmV5SWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5TdXJ2ZXlJZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb3BlbkNyaXRpY2FsRGlhbG9nKGluZGljYXRvcikgewogICAgICB0aGlzLmNyaXRpY2FsRGlhbG9nSW5kaWNhdG9yID0gaW5kaWNhdG9yOwogICAgICB0aGlzLmNyaXRpY2FsRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBTaG93T3V0bGllckRldGVjdGlvbk1ldGhvZHMoKSB7CiAgICAgIC8vIFNob3cgb3V0bGllciBkZXRlY3Rpb24gbWV0aG9kcyBkaWFsb2cKICAgICAgLy8gY29uc29sZS5sb2coJy4uLicpCiAgICB9LAogICAgb25Sb3dHcm91cEV4cGFuZCgpIHt9LAogICAgb25Sb3dHcm91cENvbGxhcHNlKCkge30sCiAgICBnZXRBbGxDaGlsZHJlbihncm91cCwgY2hpbGRyZW4pIHsKICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBbXTsKICAgICAgLy8gY29uc29sZS5sb2codHlwZW9mIGdyb3VwLCBncm91cCwgY2hpbGRyZW4pCiAgICAgIGlmIChncm91cCkgewogICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyhncm91cCkpIHsKICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJykgewogICAgICAgICAgICB0aGlzLmdldEFsbENoaWxkcmVuKHZhbHVlLCBjaGlsZHJlbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGlsZHJlbi5wdXNoKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNoaWxkcmVuOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","mapActions","data","helpDialog","criticalDialog","expandedRowGroups","selectedQuestions","criticalDialogIndicator","chosenDirectIndicators","computed","indicator_name","name","mounted","selectedIndicators","methods","startAudit","_this$eseaAccount","_this$eseaAccount2","fetchSurveyResponse","oId","eseaAccount","organisation","eaId","id","surveyAudit","survey","self","forEach","question","formula","push","getAllChildren","absolute_weights","key","Set","flat","directIndicator","console","log","indicator","indicators","find","question_response","surveyResponse","question_responses","questionResponse","direct_indicator_key","selectIndicators","auditstatus","updateQuestionResponse","$router","params","EseaAccountId","$route","SurveyId","openCriticalDialog","ShowOutlierDetectionMethods","onRowGroupExpand","onRowGroupCollapse","group","children","value","Object","values","prototype","toString","call"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\audit\\single\\AuditQuestionSelection.vue"],"sourcesContent":["<template>\r\n    <div class=\"p-grid p-m-5\">\r\n        <div class=\"p-col-12 p-d-flex p-ai-center p-jc-between\">\r\n            <h2 class=\"p-text-left\">Audit Selection</h2>\r\n            <!-- {{selectedQuestions}} -->\r\n            <!-- {{chosenDirectIndicators}} -->\r\n            <Button @click=\"(helpDialog = !helpDialog)\" label=\"Help\" class=\"p-button-sm p-button-warning\" icon=\"pi pi-external-link\" />\r\n        </div>\r\n        <DataTable class=\"p-col-12\" :value=\"indicators\" rowGroupMode=\"rowspan\" groupRowsBy=\"section.name\" sortMode=\"single\" sortField=\"section.name\" :sortOrder=\"1\" responsiveLayout=\"scroll\"\r\n        v-model:expandedRowGroups=\"expandedRowGroups\" @rowgroupExpand=\"onRowGroupExpand\" @rowgroupCollapse=\"onRowGroupCollapse\" v-model:selection=\"selectedQuestions\" dataKey=\"name\">\r\n            <Column selectionMode=\"multiple\" headerStyle=\"width: 3em\"></Column>\r\n            <Column field=\"topic\" header=\"Topic\" sortable></Column>\r\n            <Column field=\"name\" header=\"Name\" sortable></Column>\r\n            <Column field=\"value\" header=\"Value\"></Column>\r\n            <Column field=\"critical_impact\" header=\"Critical Impact\" sortable>\r\n                <template #body=\"data\"> <!-- (row.data.critical_impact & row.data.outliers) -->\r\n                    <Button v-if=\"data.data.critical_impact\" label=\"Critical\" class=\"p-button-sm p-button-rounded p-py-1 p-button-danger\" @click=\"openCriticalDialog(data.data)\" />\r\n                </template>\r\n            </Column>\r\n            <Column header=\"Anomaly\" sortable>\r\n                <template #body=\"row\"> <!-- (row.data.critical_impact & row.data.outliers) -->\r\n                    <Button v-if=\"row.data.outliers\" label=\"Anomaly\" class=\"p-button-sm p-button-rounded p-py-1 p-button-danger\" />\r\n                </template>\r\n            </Column>\r\n            <Column headerStyle=\"width: 4rem; text-align: center\" bodyStyle=\"text-align: center; overflow: visible\">\r\n                <!-- <template #body=\"data\">\r\n                    <Button @click=\"ShowOutlierDetectionMethods(data)\" icon=\"pi pi-chart-bar\" class=\"p-buttom-sm\" style=\"width: 30px; height: 30px;\"></Button>\r\n                </template> -->\r\n            </Column>\r\n        </DataTable>\r\n        <div class=\"p-text-right p-col-12 p-as-end\">\r\n            <Button class=\"p-my-5\" label=\"Start audit for selected questions\" @click=\"startAudit(selectedQuestions)\" :disabled=\"!selectedQuestions.length\" icon=\"pi pi-check\" />\r\n        </div>\r\n        <Dialog v-model:visible=\"helpDialog\" style=\"width: 500px;\" header=\"Help\" :modal=\"true\" dismissableMask=\"true\">\r\n            <p>Please select the questions that you want to audit.</p>\r\n\r\n            <p>In the next step, you will be able to request documentation for your selected questions.</p>\r\n            <template #footer>\r\n                <Button label=\"Ok\" icon=\"pi pi-check\" @click=\"(helpDialog = !helpDialog)\" />\r\n            </template>\r\n        </Dialog>\r\n\r\n        <Dialog v-model:visible=\"criticalDialog\" style=\"width: 500px;\" :header=\"`Critical Impact: ${indicator_name}`\" :modal=\"true\" dismissableMask=\"true\">\r\n        <p class=\"p-text-justify\">This Indicator was flagged as critical due to it's indirect indicator parent: <b>'{{ criticalDialogIndicator.critical_impact_by.indicator }}'</b> which has an <b>impact of '{{ criticalDialogIndicator.critical_impact_by.impact }}'</b>\r\n        which would lower the <b>total score of '{{ criticalDialogIndicator.critical_impact_by.total_score }}'</b> to <b>'{{ (criticalDialogIndicator.critical_impact_by.total_score - criticalDialogIndicator.critical_impact_by.impact).toFixed(2) }}'</b>, which is below the <b>threshold of '{{method.certification_theshold}}'</b>.\r\n        </p>\r\n        </Dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            helpDialog: false,\r\n            criticalDialog: false,\r\n            expandedRowGroups: null,\r\n            selectedQuestions: [],\r\n            criticalDialogIndicator: {},\r\n            chosenDirectIndicators: []\r\n            // questions: [\r\n            //     {\r\n            //         name: 'What is the total number of men staff?',\r\n            //         response: 5,\r\n            //         recommendations: '',\r\n            //         section: { name: 'Gender' }\r\n            //     },\r\n            //     {\r\n            //         name: 'What is the total number of women staff?',\r\n            //         response: 7,\r\n            //         recommendations: '',\r\n            //         section: { name: 'Gender' }\r\n\r\n            //     },\r\n            //     {\r\n            //         name: 'What is the average monthly salary per employee?',\r\n            //         response: '$4000',\r\n            //         recommendations: '',\r\n            //         section: { name: 'Salary' }\r\n            //     }\r\n            // ]\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('auditIndicators', ['indicators', 'selectedIndicators']),\r\n        ...mapState('method', ['method']),\r\n        ...mapState('surveyResponse', ['surveyResponse']),\r\n        ...mapState('surveyAudit', ['surveyAudit']),\r\n        ...mapState('eseaAccount', ['eseaAccount']),\r\n        indicator_name () {\r\n            if ('name' in this.criticalDialogIndicator) {\r\n                return this.criticalDialogIndicator.name\r\n            } else {\r\n                return 'indicator'\r\n            }\r\n        }\r\n        // directIndicators () {\r\n        //     return this.selectedQuestions.map((question) => {\r\n        //         if (question.absolute_weights.length) { return item }\r\n        //         return Object.assign(item, data)\r\n        // }\r\n    },\r\n    mounted () {\r\n        this.selectedQuestions = this.selectedIndicators\r\n    },\r\n    methods: {\r\n        ...mapActions('auditIndicators', ['selectIndicators']),\r\n        ...mapActions('surveyResponse', ['fetchSurveyResponse']),\r\n        ...mapActions('questionResponse', ['updateQuestionResponse']),\r\n        async startAudit (selectedQuestions) {\r\n            // Gets Direct Indicators belonging to an indirect indicator\r\n            await this.fetchSurveyResponse({ oId: this.eseaAccount?.organisation, eaId: this.eseaAccount?.id, id: `survey=${this.surveyAudit.survey}` })\r\n            var self = this\r\n            var chosenDirectIndicators = []\r\n            selectedQuestions.forEach(function (question) {\r\n                if (question?.formula) {\r\n                chosenDirectIndicators.push(self.getAllChildren(question.absolute_weights))\r\n                } else {\r\n                    chosenDirectIndicators.push(question.key)\r\n                }\r\n            })\r\n            this.chosenDirectIndicators = [...new Set(chosenDirectIndicators.flat())]\r\n\r\n            var selectedIndicators = []\r\n            for (const directIndicator of this.chosenDirectIndicators) {\r\n                // console.log(directIndicator)\r\n                console.log(directIndicator)\r\n                const indicator = this.indicators.find(indicator => indicator.key === directIndicator)\r\n                if (indicator) {\r\n                    // change surveyResponse.question_responses to questionResponses to be able to see the updated database on updated question response changes!\r\n                    indicator.question_response = this.surveyResponse.question_responses.find(questionResponse => questionResponse.direct_indicator_key === indicator.key)\r\n                    selectedIndicators.push(indicator)\r\n                }\r\n                // should use these direct indicator id's to update the question responses\r\n                // await this.updateQuestionResponse({})\r\n            }\r\n            console.log(selectedIndicators)\r\n            await this.selectIndicators({ indicators: selectedIndicators })\r\n            // ToDo: Change audit status of question responses (also in backend)!\r\n            for (var indicator of selectedIndicators) {\r\n                if (indicator.question_response.auditstatus === 'Not Under Audit') {\r\n                    indicator.question_response.auditstatus = 'Open'\r\n                }\r\n                this.updateQuestionResponse({ oId: 0, eaId: 0, id: indicator.question_response.id, data: indicator.question_response })\r\n            }\r\n            this.$router.push({ name: 'documentationrequest', params: { EseaAccountId: this.$route.params.EseaAccountId, SurveyId: this.$route.params.SurveyId } })\r\n        },\r\n        openCriticalDialog (indicator) {\r\n            this.criticalDialogIndicator = indicator\r\n            this.criticalDialog = true\r\n        },\r\n        ShowOutlierDetectionMethods () {\r\n            // Show outlier detection methods dialog\r\n            // console.log('...')\r\n        },\r\n        onRowGroupExpand () {\r\n        },\r\n        onRowGroupCollapse () {\r\n        },\r\n        getAllChildren (group, children) {\r\n            children = children || []\r\n            // console.log(typeof group, group, children)\r\n            if (group) {\r\n                for (const value of Object.values(group)) {\r\n                    if (Object.prototype.toString.call(value) === '[object Object]') {\r\n                        this.getAllChildren(value, children)\r\n                    } else {\r\n                        children.push(value)\r\n                    }\r\n                }\r\n                return children\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}