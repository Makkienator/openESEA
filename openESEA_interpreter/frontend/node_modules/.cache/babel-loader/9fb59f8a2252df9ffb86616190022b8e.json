{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\PieChart.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\PieChart.vue","mtime":1707572265298},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgJ2VjaGFydHMnOwppbXBvcnQgRUNoYXJ0cyBmcm9tICd2dWUtZWNoYXJ0cyc7CmltcG9ydCB7IHVzZSB9IGZyb20gJ2VjaGFydHMvY29yZSc7CmltcG9ydCB7IFBpZUNoYXJ0IH0gZnJvbSAnZWNoYXJ0cy9jaGFydHMnOwppbXBvcnQgeyBDYW52YXNSZW5kZXJlciB9IGZyb20gJ2VjaGFydHMvcmVuZGVyZXJzJzsKdXNlKFtQaWVDaGFydCwgQ2FudmFzUmVuZGVyZXJdKTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgICd2dWUtZWNoYXJ0cyc6IEVDaGFydHMKICB9LAogIHByb3BzOiB7CiAgICBjaGFydERhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlT3B0aW9ucyhjaGFydERhdGEpIHsKICAgICAgdmFyIF9tYXBwaW5nJENhdGVnb3J5RmllLCBfbWFwcGluZyRWYWx1ZUZpZWxkLCBfY2hhcnRPcHRpb25zJGNhdGVnb3I7CiAgICAgIGNvbnN0IHRpdGxlID0gY2hhcnREYXRhLnRpdGxlOwogICAgICBjb25zdCB0aXRsZU9wdGlvbnMgPSB7CiAgICAgICAgdGV4dDogdGl0bGUsCiAgICAgICAgbGVmdDogJ2NlbnRlcicsCiAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICBvdmVyZmxvdzogJ2JyZWFrJywKICAgICAgICAgIGZvbnRTaXplOiAxMgogICAgICAgIH0KICAgICAgfTsKICAgICAgY29uc3QgbWFwcGluZyA9IGNoYXJ0RGF0YSA9PT0gbnVsbCB8fCBjaGFydERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYXJ0RGF0YS5tYXBwaW5nOwogICAgICBpZiAoIW1hcHBpbmcpIHJldHVybiB7CiAgICAgICAgdGl0bGU6IHRpdGxlT3B0aW9ucwogICAgICB9OwogICAgICBjb25zdCBjYXRlZ29yeUtleSA9IG1hcHBpbmcgPT09IG51bGwgfHwgbWFwcGluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9tYXBwaW5nJENhdGVnb3J5RmllID0gbWFwcGluZ1snQ2F0ZWdvcnkgRmllbGQnXSkgPT09IG51bGwgfHwgX21hcHBpbmckQ2F0ZWdvcnlGaWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tYXBwaW5nJENhdGVnb3J5RmllLmtleTsKICAgICAgY29uc3QgdmFsdWVLZXkgPSBtYXBwaW5nID09PSBudWxsIHx8IG1hcHBpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbWFwcGluZyRWYWx1ZUZpZWxkID0gbWFwcGluZ1snVmFsdWUgRmllbGQnXSkgPT09IG51bGwgfHwgX21hcHBpbmckVmFsdWVGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21hcHBpbmckVmFsdWVGaWVsZC5rZXk7CiAgICAgIGlmICghY2F0ZWdvcnlLZXkgfHwgIXZhbHVlS2V5KSByZXR1cm4gewogICAgICAgIHRpdGxlOiB0aXRsZU9wdGlvbnMKICAgICAgfTsKICAgICAgY29uc3QgZGF0YSA9IGNoYXJ0RGF0YS5kYXRhOwogICAgICBjb25zdCB1bnNvcnRlZERhdGEgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEubWFwKHJvdyA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiByb3dbdmFsdWVLZXldLAogICAgICAgICAgbmFtZTogcm93W2NhdGVnb3J5S2V5XQogICAgICAgIH07CiAgICAgIH0pOwogICAgICBjb25zdCBhbGxEYXRhID0gdW5zb3J0ZWREYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICBpZiAoYS52YWx1ZSA+IGIudmFsdWUpIHsKICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgaWYgKGEudmFsdWUgPCBiLnZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgaWYgKGEubmFtZSA+IGIubmFtZSkgewogICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0gZWxzZSBpZiAoYS5uYW1lIDwgYi5uYW1lKSB7CiAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY29uc3QgY2hhcnRPcHRpb25zID0gY2hhcnREYXRhLm9wdGlvbnM7CiAgICAgIGNvbnN0IGNhdGVnb3J5TGltaXQgPSAoX2NoYXJ0T3B0aW9ucyRjYXRlZ29yID0gY2hhcnRPcHRpb25zID09PSBudWxsIHx8IGNoYXJ0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hhcnRPcHRpb25zLmNhdGVnb3J5TGltaXQpICE9PSBudWxsICYmIF9jaGFydE9wdGlvbnMkY2F0ZWdvciAhPT0gdm9pZCAwID8gX2NoYXJ0T3B0aW9ucyRjYXRlZ29yIDogMDsKICAgICAgY29uc3Qgc2xpY2VkRGF0YSA9IGNhdGVnb3J5TGltaXQgPiAwID8gYWxsRGF0YS5zbGljZSgwLCBjYXRlZ29yeUxpbWl0KSA6IGFsbERhdGE7CiAgICAgIGNvbnN0IHNob3dMYWJlbHMgPSBmYWxzZTsKICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgICB0aXRsZTogdGl0bGVPcHRpb25zLAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdpdGVtJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBvcmllbnQ6ICdob3Jpem9udGFsJywKICAgICAgICAgIGJvdHRvbTogJ2xlZnQnCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIGRhdGE6IHNsaWNlZERhdGEsCiAgICAgICAgICByYWRpdXM6ICc2MCUnLAogICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgc2hvdzogc2hvd0xhYmVscywKICAgICAgICAgICAgb3ZlcmZsb3c6ICdub25lJywKICAgICAgICAgICAgZGlzdGFuY2U6IDUKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbExpbmU6IHsKICAgICAgICAgICAgc2hvdzogc2hvd0xhYmVscwogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQogIH0KfTs="},{"version":3,"names":["ECharts","use","PieChart","CanvasRenderer","components","props","chartData","type","Object","required","methods","createOptions","_mapping$CategoryFie","_mapping$ValueField","_chartOptions$categor","title","titleOptions","text","left","textStyle","overflow","fontSize","mapping","categoryKey","key","valueKey","data","unsortedData","map","row","value","name","allData","sort","a","b","chartOptions","options","categoryLimit","slicedData","slice","showLabels","tooltip","trigger","legend","orient","bottom","series","radius","label","show","distance","labelLine"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\PieChart.vue"],"sourcesContent":["<template>\r\n    <vue-echarts :option=\"createOptions(chartData)\" autoresize>\r\n    </vue-echarts>\r\n</template>\r\n\r\n<script>\r\nimport 'echarts'\r\nimport ECharts from 'vue-echarts'\r\nimport { use } from 'echarts/core'\r\nimport { PieChart } from 'echarts/charts'\r\nimport { CanvasRenderer } from 'echarts/renderers'\r\n\r\nuse([PieChart, CanvasRenderer])\r\n\r\nexport default {\r\n    components: {\r\n        'vue-echarts': ECharts\r\n    },\r\n    props: {\r\n        chartData: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        createOptions (chartData) {\r\n            const title = chartData.title\r\n            const titleOptions = {\r\n                text: title,\r\n                left: 'center',\r\n                textStyle: {\r\n                    overflow: 'break',\r\n                    fontSize: 12\r\n                }\r\n            }\r\n            const mapping = chartData?.mapping\r\n            if (!mapping) return { title: titleOptions }\r\n            const categoryKey = mapping?.['Category Field']?.key\r\n            const valueKey = mapping?.['Value Field']?.key\r\n            if (!categoryKey || !valueKey) return { title: titleOptions }\r\n            const data = chartData.data\r\n            const unsortedData = data?.map(row => { return { value: row[valueKey], name: row[categoryKey] } })\r\n            const allData = unsortedData.sort(function (a, b) { if (a.value > b.value) { return -1 } else if (a.value < b.value) { return 1 } else if (a.name > b.name) { return -1 } else if (a.name < b.name) { return 1 } else { return 0 } })\r\n\r\n            const chartOptions = chartData.options\r\n            const categoryLimit = chartOptions?.categoryLimit ?? 0\r\n            const slicedData = categoryLimit > 0 ? allData.slice(0, categoryLimit) : allData\r\n\r\n            const showLabels = false\r\n\r\n            const options = {\r\n                title: titleOptions,\r\n                tooltip: {\r\n                    trigger: 'item'\r\n                },\r\n                legend: {\r\n                    orient: 'horizontal',\r\n                    bottom: 'left'\r\n                },\r\n                series: [\r\n                    {\r\n                        type: 'pie',\r\n                        data: slicedData,\r\n                        radius: '60%',\r\n                        label: {\r\n                            show: showLabels,\r\n                            overflow: 'none',\r\n                            distance: 5\r\n                        },\r\n                        labelLine: {\r\n                            show: showLabels\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n            return options\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}