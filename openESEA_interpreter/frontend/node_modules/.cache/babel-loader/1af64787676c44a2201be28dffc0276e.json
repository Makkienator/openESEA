{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\EseaAccountForm.vue?vue&type=template&id=05b77f07","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\EseaAccountForm.vue","mtime":1707572265302},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1741014602863},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycyB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJwLWZpZWxkIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAicC1maWVsZCBwLW0tMCIKfTsKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJwLWVycm9yIHAtdGV4dC1pdGFsaWMiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJwLWQtZmxleCBwLWpjLWJldHdlZW4gcC1tdC01Igp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfRHJvcGRvd24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiRHJvcGRvd24iKTsKICBjb25zdCBfY29tcG9uZW50X0J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJCdXR0b24iKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJmb3JtIiwgewogICAgaWQ6ICJlc2VhYWNjb3VudGZvcm0iLAogICAgb25TdWJtaXQ6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gX3dpdGhNb2RpZmllcnMoKC4uLmFyZ3MpID0+ICRvcHRpb25zLmNyZWF0ZU5ld0VzZWFNZXRob2QgJiYgJG9wdGlvbnMuY3JlYXRlTmV3RXNlYU1ldGhvZCguLi5hcmdzKSwgWyJwcmV2ZW50Il0pKSwKICAgIGNsYXNzOiAicC1pbnB1dC1maWxsZWQgcC1mbHVpZCBwLXRleHQtbGVmdCIKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7CiAgICBmb3I6ICJtZXRob2QiCiAgfSwgW19jcmVhdGVUZXh0Vk5vZGUoIk1ldGhvZCIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgc3R5bGU6IHsKICAgICAgImNvbG9yIjogInJlZCIKICAgIH0KICB9LCAiKiIpXSwgLTEgLyogSE9JU1RFRCAqLykpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Ecm9wZG93biwgewogICAgaWQ6ICJtZXRob2QiLAogICAgbW9kZWxWYWx1ZTogJGRhdGEuZXNlYWFjY291bnRGb3JtLm1ldGhvZCwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gJGRhdGEuZXNlYWFjY291bnRGb3JtLm1ldGhvZCA9ICRldmVudCksCiAgICBvcHRpb25zOiBfY3R4Lm1ldGhvZHMsCiAgICBvcHRpb25MYWJlbDogIm5hbWUiLAogICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSBNZXRob2QiLAogICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyh7CiAgICAgICdwLWludmFsaWQnOiBfY3R4LnYkLmVzZWFhY2NvdW50Rm9ybS5tZXRob2QuJGVycm9yCiAgICB9KQogIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSIsICJvcHRpb25zIiwgImNsYXNzIl0pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgPGRpdiBjbGFzcz1cInAtZXJyb3IgcC10ZXh0LWl0YWxpY1wiIHYtZm9yPVwiZXJyb3IgaW4gbWV0aG9kRXJyb3JzXCIgOmtleT1cImVycm9yXCI+e3tlcnJvcn19PC9kaXY+ICIpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IF9jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgewogICAgZm9yOiAieWVhciIKICB9LCAiWWVhciIsIC0xIC8qIEhPSVNURUQgKi8pKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRHJvcGRvd24sIHsKICAgIGlkOiAibWV0aG9kIiwKICAgIG1vZGVsVmFsdWU6ICRkYXRhLmVzZWFhY2NvdW50Rm9ybS55ZWFyLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICRldmVudCA9PiAkZGF0YS5lc2VhYWNjb3VudEZvcm0ueWVhciA9ICRldmVudCksCiAgICBvcHRpb25zOiAkb3B0aW9ucy5wb3NzaWJsZXllYXJzLAogICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSBZZWFyIiwKICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoewogICAgICAncC1pbnZhbGlkJzogX2N0eC52JC5lc2VhYWNjb3VudEZvcm0ueWVhci4kZXJyb3IKICAgIH0pCiAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIiwgIm9wdGlvbnMiLCAiY2xhc3MiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2IGNsYXNzPVwicC1lcnJvciBwLXRleHQtaXRhbGljXCIgdi1mb3I9XCJlcnJvciBpbiBvcGVuaW5nRGF0ZUVycm9yc1wiIDprZXk9XCJlcnJvclwiPjxzbWFsbD57e2Vycm9yfX08L3NtYWxsPjwvZGl2PiAiKV0pLCAkb3B0aW9ucy5maWx0ZXJlZEVzZWFBY2NvdW50cy5sZW5ndGggPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zLCAiXCJUaGlzIG9yZ2FuaXNhdGlvbiBhbHJlYWR5IGhhcyBhbiBFc2VhIEFjY291bnQgZm9yIHRoaXMgbWV0aG9kIGFuZCB5ZWFyLlwiIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQnV0dG9uLCB7CiAgICBsYWJlbDogIkNhbmNlbCIsCiAgICBpY29uOiAicGkgcGktdGltZXMiLAogICAgY2xhc3M6ICJwLWJ1dHRvbi10ZXh0IiwKICAgIG9uQ2xpY2s6ICRvcHRpb25zLmNsb3NlRGlhbG9nLAogICAgc3R5bGU6IHsKICAgICAgIndpZHRoIjogIjEwMHB4IgogICAgfQogIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQnV0dG9uLCB7CiAgICB0eXBlOiAic3VibWl0IiwKICAgIGZvcm06ICJlc2VhYWNjb3VudGZvcm0iLAogICAgbGFiZWw6ICJDcmVhdGUiLAogICAgaWNvbjogInBpIHBpLWNoZWNrIiwKICAgIGNsYXNzOiAicC1idXR0b24tdGV4dCIsCiAgICBkaXNhYmxlZDogX2N0eC52JC5lc2VhYWNjb3VudEZvcm0uJGVycm9yIHx8ICRvcHRpb25zLmZpbHRlcmVkRXNlYUFjY291bnRzLmxlbmd0aCwKICAgIHN0eWxlOiB7CiAgICAgICJ3aWR0aCI6ICIxMDBweCIKICAgIH0KICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbImRpc2FibGVkIl0pXSldLCAzMiAvKiBORUVEX0hZRFJBVElPTiAqLyk7Cn0="},{"version":3,"names":["class","_createElementBlock","id","onSubmit","_cache","_withModifiers","args","$options","createNewEseaMethod","_createElementVNode","_hoisted_1","for","style","_createVNode","_component_Dropdown","$data","eseaaccountForm","method","$event","options","_ctx","methods","optionLabel","placeholder","_normalizeClass","v$","$error","_createCommentVNode","_hoisted_2","year","possibleyears","filteredEseaAccounts","length","_hoisted_3","_hoisted_4","_component_Button","label","icon","onClick","closeDialog","type","form","disabled"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\EseaAccountForm.vue"],"sourcesContent":["// used by OrganisationEseaAccounts.vue\r\n\r\n<template>\r\n    <form id=\"eseaaccountform\" @submit.prevent=\"createNewEseaMethod\" class=\"p-input-filled p-fluid p-text-left\">\r\n        <div class=\"p-field\">\r\n            <label for=\"method\">Method<span style=\"color:red\">*</span></label>\r\n            <Dropdown id=\"method\" v-model=\"eseaaccountForm.method\" :options=\"methods\"  optionLabel=\"name\" placeholder=\"Select a Method\" :class=\"{'p-invalid': v$.eseaaccountForm.method.$error}\" />\r\n            <!-- <div class=\"p-error p-text-italic\" v-for=\"error in methodErrors\" :key=\"error\">{{error}}</div> -->\r\n        </div>\r\n\r\n        <div class=\"p-field p-m-0\">\r\n            <label for=\"year\">Year</label>\r\n            <Dropdown id=\"method\" v-model=\"eseaaccountForm.year\" :options=\"possibleyears\" placeholder=\"Select a Year\" :class=\"{'p-invalid': v$.eseaaccountForm.year.$error}\" />\r\n            <!-- <div class=\"p-error p-text-italic\" v-for=\"error in openingDateErrors\" :key=\"error\"><small>{{error}}</small></div> -->\r\n        </div>\r\n        <div v-if=\"filteredEseaAccounts.length\" class=\"p-error p-text-italic\">\"This organisation already has an Esea Account for this method and year.\"</div>\r\n\r\n        <div class=\"p-d-flex p-jc-between p-mt-5\">\r\n            <Button label=\"Cancel\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"closeDialog\" style=\"width: 100px\" />\r\n            <Button type=\"submit\" form=\"eseaaccountform\" label=\"Create\" icon=\"pi pi-check\" class=\"p-button-text\" :disabled=\"v$.eseaaccountForm.$error || filteredEseaAccounts.length\" style=\"width: 100px\" />\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { required } from 'vuelidate/lib/validators'\r\n    import Dropdown from 'primevue/dropdown'\r\n    import { mapActions, mapState } from 'vuex'\r\n\r\n    export default {\r\n        components: {\r\n            Dropdown\r\n        },\r\n        props: {\r\n            eseaAccounts: {\r\n                type: Array\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                eseaaccountForm: {\r\n                    method: null,\r\n                    year: null\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('method', ['methods']),\r\n            ...mapState('eseaAccount', ['eseaAccount']),\r\n            filteredEseaAccounts () {\r\n                return this.eseaAccounts.filter(eseaAccount => eseaAccount.year === this.eseaaccountForm.year && eseaAccount.method_name.includes(this.eseaaccountForm.method.name)) // .filter(eseaAccount => { return eseaAccount.year.includes(2020) })\r\n            },\r\n            possibleyears () {\r\n                const currentyear = new Date().getFullYear()\r\n                const minyear = currentyear - 10\r\n                const years = []\r\n\r\n                for (let i = minyear; i <= currentyear; i++) {\r\n                    years.push(i)\r\n                }\r\n                return years\r\n            }\r\n        },\r\n        setup: () => ({ v$: useVuelidate() }),\r\n        validations: {\r\n            eseaaccountForm: {\r\n                method: { required },\r\n                year: { required }\r\n            }\r\n        },\r\n        async created () {\r\n            await this.fetchMethods({})\r\n        },\r\n        methods: {\r\n            ...mapActions('method', ['fetchMethods']),\r\n            ...mapActions('eseaAccount', ['createEseaAccount']),\r\n            async createNewEseaMethod () {\r\n                console.log('Validating new Esea Account...')\r\n                this.v$.eseaaccountForm.$touch()\r\n                if (this.v$.$invalid) { return }\r\n                await this.createEseaAccount({ oId: this.$route.params.OrganisationId, data: { method: this.eseaaccountForm.method.id, year: this.eseaaccountForm.year } })\r\n\r\n                if (this.eseaAccount.id) {\r\n                    this.$router.push({ name: 'organisationeseaaccount', params: { EseaAccountId: this.eseaAccount.id } })\r\n                }\r\n            },\r\n            closeDialog () {\r\n                this.$emit('closedialog')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n/<!-- <Calendar id=\"year\" v-model=\"eseaaccountForm.year\" placeholder=\"Year\" appendTo=\"body\" :showIcon=\"true\" view=\"year\" dateFormat=\"yy\"  yearRange=\"2000:2030\" />\r\n// <InputNumber id=\"integeronly\" v-model=\"eseaaccountForm.year\" :min=\"2000\" :max=\"2050\" /> -->\r\n"],"mappings":";;EAIaA,KAAK,EAAC;AAAS;;EAMfA,KAAK,EAAC;AAAe;;;EAKcA,KAAK,EAAC;;;EAEzCA,KAAK,EAAC;AAA8B;;;;uBAd7CC,mBAAA,CAkBO;IAlBDC,EAAE,EAAC,iBAAiB;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,mBAAA,IAAAD,QAAA,CAAAC,mBAAA,IAAAF,IAAA,CAAmB;IAAEN,KAAK,EAAC;MACnES,mBAAA,CAIM,OAJNC,UAIM,G,0BAHFD,mBAAA,CAAkE;IAA3DE,GAAG,EAAC;EAAQ,I,iBAAC,QAAM,GAAAF,mBAAA,CAAgC;IAA1BG,KAAiB,EAAjB;MAAA;IAAA;EAAiB,GAAC,GAAC,E,sBACnDC,YAAA,CAAuLC,mBAAA;IAA7KZ,EAAE,EAAC,QAAQ;gBAAUa,KAAA,CAAAC,eAAe,CAACC,MAAM;+DAAtBF,KAAA,CAAAC,eAAe,CAACC,MAAM,GAAAC,MAAA;IAAGC,OAAO,EAAEC,IAAA,CAAAC,OAAO;IAAGC,WAAW,EAAC,MAAM;IAACC,WAAW,EAAC,iBAAiB;IAAEvB,KAAK,EAAAwB,eAAA;MAAA,aAAgBJ,IAAA,CAAAK,EAAE,CAACT,eAAe,CAACC,MAAM,CAACS;IAAM;+DAClLC,mBAAA,yGAAsG,C,GAG1GlB,mBAAA,CAIM,OAJNmB,UAIM,G,0BAHFnB,mBAAA,CAA8B;IAAvBE,GAAG,EAAC;EAAM,GAAC,MAAI,sBACtBE,YAAA,CAAmKC,mBAAA;IAAzJZ,EAAE,EAAC,QAAQ;gBAAUa,KAAA,CAAAC,eAAe,CAACa,IAAI;+DAApBd,KAAA,CAAAC,eAAe,CAACa,IAAI,GAAAX,MAAA;IAAGC,OAAO,EAAEZ,QAAA,CAAAuB,aAAa;IAAEP,WAAW,EAAC,eAAe;IAAEvB,KAAK,EAAAwB,eAAA;MAAA,aAAgBJ,IAAA,CAAAK,EAAE,CAACT,eAAe,CAACa,IAAI,CAACH;IAAM;+DAC9JC,mBAAA,6HAA0H,C,GAEnHpB,QAAA,CAAAwB,oBAAoB,CAACC,MAAM,I,cAAtC/B,mBAAA,CAAqJ,OAArJgC,UAAqJ,EAA/E,6EAAyE,K,mCAE/IxB,mBAAA,CAGM,OAHNyB,UAGM,GAFFrB,YAAA,CAA4GsB,iBAAA;IAApGC,KAAK,EAAC,QAAQ;IAACC,IAAI,EAAC,aAAa;IAACrC,KAAK,EAAC,eAAe;IAAEsC,OAAK,EAAE/B,QAAA,CAAAgC,WAAW;IAAE3B,KAAoB,EAApB;MAAA;IAAA;wCACrFC,YAAA,CAAiMsB,iBAAA;IAAzLK,IAAI,EAAC,QAAQ;IAACC,IAAI,EAAC,iBAAiB;IAACL,KAAK,EAAC,QAAQ;IAACC,IAAI,EAAC,aAAa;IAACrC,KAAK,EAAC,eAAe;IAAE0C,QAAQ,EAAEtB,IAAA,CAAAK,EAAE,CAACT,eAAe,CAACU,MAAM,IAAInB,QAAA,CAAAwB,oBAAoB,CAACC,MAAM;IAAEpB,KAAoB,EAApB;MAAA;IAAA","ignoreList":[]}]}