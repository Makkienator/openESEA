{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\network\\NetworkSettings.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\network\\NetworkSettings.vue","mtime":1707572265518},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJzsKaW1wb3J0IHVzZVZ1ZWxpZGF0ZSBmcm9tICdAdnVlbGlkYXRlL2NvcmUnOwppbXBvcnQgaW1hZ2VWYWxpZGF0b3IgZnJvbSAnLi4vLi4vdXRpbHMvaW1hZ2VWYWxpZGF0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpc3B1YmxpY2Jvb2w6IFt7CiAgICAgICAgbmFtZTogJ1B1YmxpYycsCiAgICAgICAgdmFsdWU6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdQcml2YXRlJywKICAgICAgICB2YWx1ZTogZmFsc2UKICAgICAgfV0sCiAgICAgIGlzcHVibGljRGlhbG9nOiBmYWxzZSwKICAgICAgZGVsZXRlTmV0d29ya0RpYWxvZzogZmFsc2UsCiAgICAgIGZpbGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCduZXR3b3JrJywgWyduZXR3b3JrJ10pLAogICAgLi4ubWFwU3RhdGUoJ2F1dGhlbnRpY2F0aW9uJywgWydjdXJyZW50dXNlciddKQogIH0sCiAgc2V0dXA6ICgpID0+ICh7CiAgICB2JDogdXNlVnVlbGlkYXRlKCkKICB9KSwKICB2YWxpZGF0aW9uczogewogICAgbmV0d29yazogewogICAgICBuYW1lOiB7CiAgICAgICAgcmVxdWlyZWQKICAgICAgfSwKICAgICAgZGVzY3JpcHRpb246IHt9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubmV0d29yay5hY2Nlc0xldmVsICE9PSAnYWRtaW4nICYmIHRoaXMubmV0d29yay5hY2Nlc0xldmVsICE9PSAnbmV0d29yayBhZG1pbicpIHsKICAgICAgY29uc29sZS5sb2coJ1lvdSBtYXkgbm90IGNoYW5nZSBzZXR0aW5ncyEnKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICduZXR3b3Jrb3ZlcnZpZXcnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgTmV0d29ya0lkOiB0aGlzLm5ldHdvcmsuaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygnbmV0d29yaycsIFsnZmV0Y2hOZXR3b3JrJywgJ3VwZGF0ZU5ldHdvcmsnLCAnZGVsZXRlTmV0d29yayddKSwKICAgIGFzeW5jIHZhbGlkYXRlSW1hZ2UoZSkgewogICAgICB0aGlzLmZpbGUgPSBhd2FpdCBpbWFnZVZhbGlkYXRvcihlKTsKICAgIH0sCiAgICAvLyBVcGRhdGVzIE5ldHdvcmsgU2V0dGluZ3Mgd2hlbiB0aGUgJ1NhdmUgRGV0YWlscycgYnV0dG9uIGhhcyBiZWVuIGNsaWNrZWQKICAgIGFzeW5jIHVwZGF0ZURldGFpbHMoKSB7CiAgICAgIGlmICh0aGlzLnYkLm5ldHdvcmsuJGludmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLm5ldHdvcmspIHsKICAgICAgICBjb25zb2xlLmxvZygnPj4+Jywga2V5LCB0aGlzLm5ldHdvcmtba2V5XSk7CiAgICAgICAgaWYgKGtleSAhPT0gJ2ltYWdlJyAmJiAhQXJyYXkuaXNBcnJheSh0aGlzLm5ldHdvcmtba2V5XSkpIHsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHRoaXMubmV0d29ya1trZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZmlsZSkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCB0aGlzLmZpbGUpOwogICAgICB9CiAgICAgIGF3YWl0IHRoaXMudXBkYXRlTmV0d29yayhmb3JtRGF0YSk7CiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hOZXR3b3JrKHsKICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLk5ldHdvcmtJZAogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgYXN5bmMgcmVtb3ZlTmV0d29yaygpIHsKICAgICAgdmFyIF90aGlzJG5ldHdvcms7CiAgICAgIHRoaXMuZGVsZXRlTmV0d29ya0RpYWxvZyA9IGZhbHNlOwogICAgICBhd2FpdCB0aGlzLmRlbGV0ZU5ldHdvcmsoewogICAgICAgIGlkOiAoKF90aGlzJG5ldHdvcmsgPSB0aGlzLm5ldHdvcmspID09PSBudWxsIHx8IF90aGlzJG5ldHdvcmsgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG5ldHdvcmsuaWQpIHx8IDAKICAgICAgfSk7CiAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgc2V2ZXJpdHk6ICdzdWNjZXNzJywKICAgICAgICBzdW1tYXJ5OiAnU3VjY2VzZnVsJywKICAgICAgICBkZXRhaWw6ICdOZXR3b3JrIERlbGV0ZWQnLAogICAgICAgIGxpZmU6IDMwMDAKICAgICAgfSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbmV0d29ya3MnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","mapActions","required","useVuelidate","imageValidator","data","loading","ispublicbool","name","value","ispublicDialog","deleteNetworkDialog","file","computed","setup","v$","validations","network","description","created","accesLevel","console","log","$router","push","params","NetworkId","id","methods","validateImage","e","updateDetails","$invalid","formData","FormData","key","Array","isArray","append","updateNetwork","fetchNetwork","$route","removeNetwork","_this$network","deleteNetwork","$toast","add","severity","summary","detail","life"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\network\\NetworkSettings.vue"],"sourcesContent":["// http://localhost:8081/network/2/settings/\r\n\r\n<template>\r\n    <div class=\"p-px-5\" style=\"width: 500px;\">\r\n        <form id=\"settingsform\" v-on:submit.prevent=\"updateDetails\" class=\"p-grid p-fluid p-text-left p-my-5\">\r\n            <div class=\"p-col-12 p-field p-d-flex p-ai-center p-jc-center p-mb-5\">\r\n                <img :src=\"network.image\" alt=\"Network Image\" style=\"width: 150px; height: 150px; border-radius: 50%;\" format=\"image/jpeg\">\r\n                <div class=\"p-col p-grid p-ml-5\">\r\n                    <input id=\"uploadfile\" type=\"file\" accept=\"image/*\" @change=\"validateImage\" hidden />\r\n                    <label for=\"uploadfile\" class=\"p-col-12 imageupload p-text-center\">Change Network Image</label>\r\n                    <div class=\"\">{{file.name}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"p-col-12 p-field\">\r\n                <span class=\"p-float-label\">\r\n                    <InputText id=\"networkname\" v-model.trim=\"network.name\" :class=\"{'p-invalid': !network.name}\" class=\"p-text-italic\" />\r\n                    <label for=\"networkname\">Name</label>\r\n                </span>\r\n                <div class=\"p-error p-text-italic\" v-if=\"!network.name\">Name is required.</div>\r\n            </div>\r\n            <div class=\"p-col-12 p-field\">\r\n                <span class=\"p-float-label\">\r\n                    <Textarea id=\"networkdescription\" v-model.trim=\"network.description\" :autoResize=\"true\" rows=\"3\" />\r\n                    <label for=\"networkdescription\">Description</label>\r\n                </span>\r\n            </div>\r\n            <div class=\"p-col-12 p-d-flex p-ai-center p-jc-between p-mb-2\">\r\n                <span>Network Status</span>\r\n                <SelectButton id=\"ispublic\" v-model=\"network.ispublic\" :options=\"ispublicbool\" optionLabel=\"name\" optionValue=\"value\" />\r\n            </div>\r\n            <small class=\"p-text-italic\">*Public Networks are visible to anyone. Explicitly granted access is still required for cetain operations.</small>\r\n        </form>\r\n        <div class=\"p-col-12 p-d-flex p-jc-between\">\r\n            <Button type=\"submit\" form=\"settingsform\" :label=\"loading? 'Save...' : 'Save Details'\" :loading=\"loading\" class=\"p-button-primary\" style=\"width: 150px;\" :disabled=\"v$.$invalid\" />\r\n            <Button label=\"Delete Network\" class=\"p-button-danger\" @click=\"deleteNetworkDialog = true\" />\r\n        </div>\r\n\r\n        <Dialog v-model:visible=\"ispublicDialog\" style=\"width: 450px;\" header=\"Premium Feature\" :modal=\"true\" dismissableMask=\"true\">\r\n            <i class=\"pi pi-star p-mr-3\" style=\"font-size: 1.5rem\" />\r\n            <span>Go premium to make your network private!</span>\r\n            <template #footer>\r\n                    <Button label=\"No thanks\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"ispublicDialog = false\" />\r\n                    <Button label=\"What's Premium?\" icon=\"pi pi-question\" class=\"p-button-text\" @click=\"ispublicDialog = false\" />\r\n            </template>\r\n        </Dialog>\r\n\r\n        <Dialog v-if=\"network\" v-model:visible=\"deleteNetworkDialog\" style=\"width: 450px;\" header=\"Confirm\" :modal=\"true\" dismissableMask=\"true\">\r\n            <div class=\"confirmation-content\">\r\n                <i class=\"pi pi-exclamation-triangle p-mr-3\" style=\"font-size: 1.5rem\" />\r\n                <span>Are you sure you want to delete <b>{{network.name}}</b></span>\r\n            </div>\r\n            <template #footer>\r\n                <Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"deleteNetworkDialog = false\" />\r\n                <Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"removeNetwork()\" />\r\n            </template>\r\n        </Dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions } from 'vuex'\r\n    import { required } from 'vuelidate/lib/validators'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import imageValidator from '../../utils/imageValidator'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                loading: false,\r\n                ispublicbool: [\r\n                    { name: 'Public', value: true },\r\n                    { name: 'Private', value: false }\r\n                    ],\r\n                ispublicDialog: false,\r\n                deleteNetworkDialog: false,\r\n                file: false\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('network', ['network']),\r\n            ...mapState('authentication', ['currentuser'])\r\n        },\r\n        setup: () => ({ v$: useVuelidate() }),\r\n        validations: {\r\n            network: {\r\n                name: { required },\r\n                description: {}\r\n            }\r\n        },\r\n        created () {\r\n            if (this.network.accesLevel !== 'admin' && this.network.accesLevel !== 'network admin') {\r\n                console.log('You may not change settings!')\r\n                this.$router.push({ name: 'networkoverview', params: { NetworkId: this.network.id } })\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions('network', ['fetchNetwork', 'updateNetwork', 'deleteNetwork']),\r\n            async validateImage (e) {\r\n                this.file = await imageValidator(e)\r\n            },\r\n            // Updates Network Settings when the 'Save Details' button has been clicked\r\n            async updateDetails () {\r\n                if (this.v$.network.$invalid) { return }\r\n                this.loading = true\r\n                var formData = new FormData()\r\n                for (var key in this.network) {\r\n                    console.log('>>>', key, this.network[key])\r\n                    if (key !== 'image' && !Array.isArray(this.network[key])) {\r\n                        formData.append(key, this.network[key])\r\n                    }\r\n                }\r\n                if (this.file) {\r\n                    formData.append('image', this.file)\r\n                }\r\n                await this.updateNetwork(formData)\r\n                await this.fetchNetwork({ id: this.$route.params.NetworkId })\r\n                this.loading = false\r\n            },\r\n            async removeNetwork () {\r\n                this.deleteNetworkDialog = false\r\n                await this.deleteNetwork({ id: this.network?.id || 0 })\r\n                this.$toast.add({ severity: 'success', summary: 'Succesful', detail: 'Network Deleted', life: 3000 })\r\n                this.$router.push({ name: 'networks' })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .imageupload {\r\n    background-color: #2196F3;\r\n    color: white;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}