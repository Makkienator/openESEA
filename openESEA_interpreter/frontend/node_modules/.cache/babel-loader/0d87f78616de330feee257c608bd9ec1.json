{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\lists\\DashboardList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\lists\\DashboardList.vue","mtime":1707572265307},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUHJvZ3Jlc3NTcGlubmVyIGZyb20gJ3ByaW1ldnVlL3Byb2dyZXNzc3Bpbm5lcic7CmltcG9ydCBMaXN0QmFyIGZyb20gJ0AvY29tcG9uZW50cy9saXN0cy9MaXN0QmFyLyc7CmltcG9ydCBCdXR0b24gZnJvbSAncHJpbWV2dWUvYnV0dG9uJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFByb2dyZXNzU3Bpbm5lciwKICAgIExpc3RCYXIsCiAgICBCdXR0b24KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURpc3BsYXk6IGZhbHNlLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBmYWlsZWRMb2FkOiBmYWxzZSwKICAgICAgY3VzdG9tU2VhcmNoOiAnJywKICAgICAgc3R5bGVPYmplY3Q6IHsKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjRUZFRUVFJywKICAgICAgICBjdXJzb3I6ICdwb2ludGVyJwogICAgICB9LAogICAgICBjb2x1bW5zOiBbewogICAgICAgIGZpZWxkOiAnaWQnLAogICAgICAgIGhlYWRlcjogJ0lkJwogICAgICB9LCB7CiAgICAgICAgZmllbGQ6ICdzcGVjaWZpY2F0aW9uLk5hbWUnLAogICAgICAgIGhlYWRlcjogJ05hbWUnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdvcmdhbmlzYXRpb24nLCBbJ29yZ2FuaXNhdGlvbiddKSwKICAgIC4uLm1hcFN0YXRlKCdkYXNoYm9hcmQnLCBbJ2Rhc2hib2FyZHMnLCAnZGFzaGJvYXJkJ10pLAogICAgZmlsdGVyZWREYXNoYm9hcmRzKCkgewogICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmN1c3RvbVNlYXJjaC50b0xvd2VyQ2FzZSgpOwogICAgICByZXR1cm4gdGhpcy5kYXNoYm9hcmRzLmZpbHRlcihkYXNoYm9hcmQgPT4gewogICAgICAgIHZhciBfZGFzaGJvYXJkJHNwZWNpZmljYXQ7CiAgICAgICAgY29uc3QgaWQgPSBkYXNoYm9hcmQuaWQudG9TdHJpbmcoKTsKICAgICAgICBjb25zdCBuYW1lID0gKF9kYXNoYm9hcmQkc3BlY2lmaWNhdCA9IGRhc2hib2FyZC5zcGVjaWZpY2F0aW9uLk5hbWUpID09PSBudWxsIHx8IF9kYXNoYm9hcmQkc3BlY2lmaWNhdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Rhc2hib2FyZCRzcGVjaWZpY2F0LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIChpZCA/IGlkLmluY2x1ZGVzKHNlYXJjaCkgOiBmYWxzZSkgfHwgKG5hbWUgPyBuYW1lLmluY2x1ZGVzKHNlYXJjaCkgOiBmYWxzZSk7CiAgICAgIH0pLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICByZXR1cm4gYS5pZCA+IGIuaWQgPyAxIDogLTE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGFzaGJvYXJkcygpOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuZmFpbGVkTG9hZCA9IHRydWU7CiAgICB9LCAxMDAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdkYXNoYm9hcmQnLCBbJ2ZldGNoRGFzaGJvYXJkcycsICdkZWxldGVEYXNoYm9hcmQnXSksCiAgICBhc3luYyBnZXREYXNoYm9hcmRzKCkgewogICAgICBhd2FpdCB0aGlzLmZldGNoRGFzaGJvYXJkcyh7fSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGFzeW5jIHJlbW92ZU9yZ2FuaXNhdGlvbkRhc2hib2FyZChkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBhd2FpdCB0aGlzLmRlbGV0ZURhc2hib2FyZCh7CiAgICAgICAgb0lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuT3JnYW5pc2F0aW9uSWQsCiAgICAgICAgaWQ6IGRhdGEuaWQKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapActions","mapState","ProgressSpinner","ListBar","Button","components","data","tableDisplay","loading","failedLoad","customSearch","styleObject","backgroundColor","cursor","columns","field","header","computed","filteredDashboards","search","toLowerCase","dashboards","filter","dashboard","_dashboard$specificat","id","toString","name","specification","Name","includes","sort","a","b","created","getDashboards","setTimeout","methods","fetchDashboards","removeOrganisationDashboard","console","log","deleteDashboard","oId","$route","params","OrganisationId"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\lists\\DashboardList.vue"],"sourcesContent":["<!-- used by OrganisationDashboards.vue -->\r\n\r\n<template>\r\n    <list-bar v-model:tabledisplay=\"tableDisplay\" :includecheckbox=\"false\" name=\"Dashboards\">\r\n        <slot></slot>\r\n    </list-bar>\r\n    <ProgressSpinner v-if=\"loading && !failedLoad\" />\r\n    <div v-else-if=\"loading && failedLoad\" class=\"p-text-italic\">Dashboards could not be retrieved!</div>\r\n    <div v-else-if=\"dashboards.length\">\r\n        <div v-if=\"tableDisplay\" class=\"p-grid p-m-5\">\r\n            <div v-for=\"dashboard in filteredDashboards\" :key=\"dashboard.id\" class=\"p-col-12 p-md-6 p-lg-4\" style=\"width: 300px; height: auto;\">\r\n                <div class=\"p-p-3\" :class=\"dashboard.hover ? 'p-shadow-2 p-m-1' : 'p-shadow-1 p-m-2'\" :style=\"(dashboard.hover ? styleObject: '')\" @mouseover=\"dashboard.hover = true\" @mouseleave=\"dashboard.hover = false\" @click=\"this.$emit('goToSelectedDashboard', dashboard)\">\r\n                    <p class=\"p-text-bold\">{{dashboard.specification.Name}}</p>\r\n                    <p class=\"p-text-italic\">{{dashboard.id}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <DataTable v-else :value=\"filteredDashboards\" datakey=\"id\" selectionMode=\"single\" @row-select=\"$event => this.$emit('goToSelectedDashboard', $event.data)\" showGridlines autoLayout\r\n            :paginator=\"true\" :rows=\"10\" paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n            :rowsPerPageOptions=\"[5,10,25]\" currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} products\" class=\"p-datatable-striped\">\r\n\r\n            <Column v-for=\"col of columns\" :field=\"col.field\" :header=\"col.header\" :key=\"col.field\" bodyStyle=\"\">\r\n            </Column>\r\n            <Column v-if=\"(organisation?.accesLevel === 'organisation admin' || organisation?.accesLevel === 'admin')\" header=\"Actions\" headerStyle=\"width: 10rem; text-align: center\" bodyStyle=\"text-align: center; overflow: visible\">\r\n            <template #body=\"{data}\">\r\n                <div class=\"p-d-flex\">\r\n                    <Button label=\"Delete\" icon=\"pi pi-trash\" class=\"p-button-danger p-button-sm\" @click=\"removeOrganisationDashboard(data)\">\r\n                    </Button>\r\n                </div>\r\n            </template>\r\n        </Column>\r\n        </Datatable>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex'\r\n\r\nimport ProgressSpinner from 'primevue/progressspinner'\r\nimport ListBar from '@/components/lists/ListBar/'\r\nimport Button from 'primevue/button'\r\n\r\nexport default {\r\n    components: {\r\n        ProgressSpinner,\r\n        ListBar,\r\n        Button\r\n    },\r\n    data () {\r\n        return {\r\n            tableDisplay: false,\r\n            loading: true,\r\n            failedLoad: false,\r\n            customSearch: '',\r\n            styleObject: { backgroundColor: '#EFEEEE', cursor: 'pointer' },\r\n            columns: [\r\n                { field: 'id', header: 'Id' },\r\n                { field: 'specification.Name', header: 'Name' }\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('organisation', ['organisation']),\r\n        ...mapState('dashboard', ['dashboards', 'dashboard']),\r\n        filteredDashboards () {\r\n            const search = this.customSearch.toLowerCase()\r\n            return this.dashboards.filter((dashboard) => {\r\n                const id = dashboard.id.toString()\r\n                const name = dashboard.specification.Name?.toLowerCase()\r\n                return (id ? id.includes(search) : false) ||\r\n                    (name ? name.includes(search) : false)\r\n                }).sort((a, b) => { return a.id > b.id ? 1 : -1 })\r\n        }\r\n    },\r\n    created () {\r\n        this.getDashboards()\r\n        setTimeout(() => { this.failedLoad = true }, 10000)\r\n    },\r\n    methods: {\r\n        ...mapActions('dashboard', ['fetchDashboards', 'deleteDashboard']),\r\n        async getDashboards () {\r\n            await this.fetchDashboards({})\r\n            this.loading = false\r\n        },\r\n        async removeOrganisationDashboard (data) {\r\n            console.log(data)\r\n            await this.deleteDashboard({ oId: this.$route.params.OrganisationId, id: data.id })\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"mappings":";;AAoCA,SAASA,UAAU,EAAEC,QAAO,QAAS,MAAK;AAE1C,OAAOC,eAAc,MAAO,0BAAyB;AACrD,OAAOC,OAAM,MAAO,6BAA4B;AAChD,OAAOC,MAAK,MAAO,iBAAgB;AAEnC,eAAe;EACXC,UAAU,EAAE;IACRH,eAAe;IACfC,OAAO;IACPC;EACJ,CAAC;EACDE,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,YAAY,EAAE,KAAK;MACnBC,OAAO,EAAE,IAAI;MACbC,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE;QAAEC,eAAe,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC;MAC9DC,OAAO,EAAE,CACL;QAAEC,KAAK,EAAE,IAAI;QAAEC,MAAM,EAAE;MAAK,CAAC,EAC7B;QAAED,KAAK,EAAE,oBAAoB;QAAEC,MAAM,EAAE;MAAO;IAEtD;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGhB,QAAQ,CAAC,cAAc,EAAE,CAAC,cAAc,CAAC,CAAC;IAC7C,GAAGA,QAAQ,CAAC,WAAW,EAAE,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IACrDiB,kBAAiBA,CAAA,EAAK;MAClB,MAAMC,MAAK,GAAI,IAAI,CAACT,YAAY,CAACU,WAAW,CAAC;MAC7C,OAAO,IAAI,CAACC,UAAU,CAACC,MAAM,CAAEC,SAAS,IAAK;QAAA,IAAAC,qBAAA;QACzC,MAAMC,EAAC,GAAIF,SAAS,CAACE,EAAE,CAACC,QAAQ,CAAC;QACjC,MAAMC,IAAG,IAAAH,qBAAA,GAAID,SAAS,CAACK,aAAa,CAACC,IAAI,cAAAL,qBAAA,uBAA5BA,qBAAA,CAA8BJ,WAAW,CAAC;QACvD,OAAO,CAACK,EAAC,GAAIA,EAAE,CAACK,QAAQ,CAACX,MAAM,IAAI,KAAK,MACnCQ,IAAG,GAAIA,IAAI,CAACG,QAAQ,CAACX,MAAM,IAAI,KAAK;MACzC,CAAC,CAAC,CAACY,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAAE,OAAOD,CAAC,CAACP,EAAC,GAAIQ,CAAC,CAACR,EAAC,GAAI,IAAI,CAAC;MAAE,CAAC;IACzD;EACJ,CAAC;EACDS,OAAMA,CAAA,EAAK;IACP,IAAI,CAACC,aAAa,CAAC;IACnBC,UAAU,CAAC,MAAM;MAAE,IAAI,CAAC3B,UAAS,GAAI,IAAG;IAAE,CAAC,EAAE,KAAK;EACtD,CAAC;EACD4B,OAAO,EAAE;IACL,GAAGrC,UAAU,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;IAClE,MAAMmC,aAAYA,CAAA,EAAK;MACnB,MAAM,IAAI,CAACG,eAAe,CAAC,CAAC,CAAC;MAC7B,IAAI,CAAC9B,OAAM,GAAI,KAAI;IACvB,CAAC;IACD,MAAM+B,2BAA0BA,CAAGjC,IAAI,EAAE;MACrCkC,OAAO,CAACC,GAAG,CAACnC,IAAI;MAChB,MAAM,IAAI,CAACoC,eAAe,CAAC;QAAEC,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,cAAc;QAAErB,EAAE,EAAEnB,IAAI,CAACmB;MAAG,CAAC;IACtF;EACJ;AACJ","ignoreList":[]}]}