{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\SectioonForm.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\SectioonForm.vue","mtime":1707572265305},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBpc0VxdWFsLCBjbG9uZURlZXAgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgSGFuZGxlVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi8uLi91dGlscy9IYW5kbGVWYWxpZGF0aW9uRXJyb3JzJzsKaW1wb3J0IHVzZVZ1ZWxpZGF0ZSBmcm9tICdAdnVlbGlkYXRlL2NvcmUnOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJy4uLy4uL3V0aWxzL3ZhbGlkYXRvcnMnOwppbXBvcnQgU2VjdGlvb25DYXJkIGZyb20gJ0AvY29tcG9uZW50cy9jYXJkcy9TZWN0aW9vbkNhcmQnOwppbXBvcnQgUHJvZ3Jlc3NTcGlubmVyIGZyb20gJ3ByaW1ldnVlL3Byb2dyZXNzc3Bpbm5lcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTZWN0aW9vbkNhcmQsCiAgICBQcm9ncmVzc1NwaW5uZXIKICB9LAogIHByb3BzOiB7CiAgICBzZWN0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBhY3RpdmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBlcnJvcnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiAoe30pCiAgICB9LAogICAgY2hlY2tTYXZpbmdTdGF0dXM6IHsKICAgICAgdHlwZTogQm9vbGVhbgogICAgfQogIH0sCiAgc2V0dXA6ICgpID0+ICh7CiAgICB2JDogdXNlVnVlbGlkYXRlKCkKICB9KSwKICB2YWxpZGF0aW9uczogewogICAgbGF6eVNlY3Rpb246IHsKICAgICAgdGl0bGU6IHsKICAgICAgICByZXF1aXJlZAogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGF6eVNlY3Rpb246IGNsb25lRGVlcCh0aGlzLnNlY3Rpb24pIHx8IHt9LAogICAgICAvLyBzZWxlY3RlZFF1ZXN0aW9uczogdGhpcy5zZWN0aW9uPy5xdWVzdGlvbnMgfHwgW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmYWlsZWRUb1VwRGF0ZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGl0bGVFcnJvcnMoKSB7CiAgICAgIHJldHVybiBIYW5kbGVWYWxpZGF0aW9uRXJyb3JzKHRoaXMudiQubGF6eVNlY3Rpb24udGl0bGUsIHRoaXMuZXJyb3JzLnRpdGxlKTsKICAgIH0sCiAgICB2YWxpZCgpIHsKICAgICAgcmV0dXJuICF0aGlzLnYkLmxhenlTZWN0aW9uLiRpbnZhbGlkICYmIHRoaXMubGF6eVNlY3Rpb24uaWQgPiAwICYmIHRoaXMudXB0b2RhdGU7CiAgICB9LAogICAgdXB0b2RhdGUoKSB7CiAgICAgIHJldHVybiBpc0VxdWFsKHRoaXMuc2VjdGlvbiwgdGhpcy5sYXp5U2VjdGlvbik7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2VjdGlvbih2YWwpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIGlmIChpc0VxdWFsKHRoaXMubGF6eVNlY3Rpb24sIHZhbCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5sYXp5U2VjdGlvbiA9IGNsb25lRGVlcCh2YWwpOwogICAgfSwKICAgIGxhenlTZWN0aW9uOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5mYWlsZWRUb1VwRGF0ZSA9IGZhbHNlOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgaWYgKGlzRXF1YWwodGhpcy5zZWN0aW9uLCB0aGlzLmxhenlTZWN0aW9uKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnYkLmxhenlTZWN0aW9uLiR0b3VjaCgpOwogICAgICAgICAgaWYgKHRoaXMudiQubGF6eVNlY3Rpb24uJGludmFsaWQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy51cGRhdGVUaGlzU2VjdGlvbigpOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICBjaGVja1NhdmluZ1N0YXR1cygpIHsKICAgICAgdGhpcy4kZW1pdCgnc2F2aW5nc3RhdHVzJywgdGhpcy52JC5sYXp5U2VjdGlvbi4kaW52YWxpZCk7CiAgICB9CiAgfSwKICAvLyBjcmVhdGVkICgpIHsKICAvLyAgICAgdGhpcy5sYXp5U2VjdGlvbiA9IGNsb25lRGVlcCh0aGlzLnNlY3Rpb24pCiAgLy8gfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdzZWN0aW9uJywgWyd1cGRhdGVTZWN0aW9uJywgJ2RlbGV0ZVNlY3Rpb24nXSksCiAgICBhc3luYyB1cGRhdGVUaGlzU2VjdGlvbigpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5mYWlsZWRUb1VwRGF0ZSA9IGZhbHNlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmZhaWxlZFRvVXBEYXRlID0gdHJ1ZTsKICAgICAgfSwgNTAwMCk7CiAgICAgIGF3YWl0IHRoaXMudXBkYXRlU2VjdGlvbih7CiAgICAgICAgbUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgc0lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuU3VydmV5SWQsCiAgICAgICAgc2VjdGlvbjogdGhpcy5sYXp5U2VjdGlvbgogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyByZW1vdmVTZWN0aW9uKCkgewogICAgICBhd2FpdCB0aGlzLmRlbGV0ZVNlY3Rpb24oewogICAgICAgIG1JZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgIHNJZDogdGhpcy4kcm91dGUucGFyYW1zLlN1cnZleUlkLAogICAgICAgIGlkOiB0aGlzLmxhenlTZWN0aW9uLmlkCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapActions","isEqual","cloneDeep","HandleValidationErrors","useVuelidate","required","SectioonCard","ProgressSpinner","components","props","section","type","Object","active","Boolean","default","errors","checkSavingStatus","setup","v$","validations","lazySection","title","data","loading","failedToUpDate","computed","titleErrors","valid","$invalid","id","uptodate","watch","val","handler","setTimeout","$touch","updateThisSection","deep","$emit","methods","updateSection","mId","$route","params","sId","SurveyId","removeSection","deleteSection"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\SectioonForm.vue"],"sourcesContent":["// used by SurveyCreation.vue\r\n\r\n<template>\r\n    <form v-if=\"active\" ref=\"form\"  class=\"p-d-flex p-ai-center p-fluid p-input-filled p-text-center p-pt-1\" @submit.prevent=\"!v$.$invalid\"\r\n    :style=\"[(active) ? 'border: 2px solid #9ecaed;':'border: 1px solid lightgrey;',\r\n    (valid) ? '': 'border: 1px solid rgba(255, 0, 0, 0.5);']\" style=\"width: 100%;\">\r\n        <div class=\"p-d-flex p-px-2 p-ai-center\" style=\"width: 100%;\">\r\n            <div class=\"p-pl-2\" style=\"width: 40px;\">\r\n                <ProgressSpinner v-if=\"(loading && !failedToUpDate)\" style=\"width: 35px;\"/>\r\n                <i v-else-if=\"!valid\" class=\"pi pi-refresh p-d-flex p-jc-center p-ai-center p-m-0 p-p-0\" style=\"font-size: 30px; color: #ff6666; cursor: pointer;\" @click=\"updateThisSection()\" />\r\n                <i v-if=\"valid\" class=\"pi pi-check p-d-flex p-jc-center p-ai-center p-m-0 p-p-0\" style=\"font-size: 30px; color: #9ecaed;\" />\r\n            </div>\r\n            <div class=\"p-grid p-mx-5 p-pt-5\" style=\"width: 100%;\">\r\n                <div style=\"width: 100%;\">\r\n                    <div class=\"p-field\">\r\n                        <span class=\"p-float-label\">\r\n                            <InputText id=\"sectiontitle\" ref=\"input\" v-model.lazy=\"lazySection.title\" :class=\"{'p-invalid': v$.lazySection.title.$invalid}\" @blur=\"v$.lazySection.title.$touch()\" />\r\n                            <label for=\"sectiontitle\">Title</label>\r\n                        </span>\r\n                        <div class=\"p-error p-text-italic p-text-left\" v-for=\"error in titleErrors\" :key=\"error\"><small>{{error}}</small></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <i class=\"pi pi-trash p-d-flex p-jc-center p-ai-center p-pr-5\" style=\"width: 40px; font-size: 30px; color: #ff6666; cursor: pointer;\" @click=\"removeSection()\" />\r\n        </div>\r\n    </form>\r\n    <sectioon-card v-else :title=\"lazySection.title\" :style=\"[(valid) ? 'border: 1px solid green;': 'border: 1px solid rgba(255, 0, 0, 0.3);']\" />\r\n</template>\r\n\r\n<script>\r\n    import { mapActions } from 'vuex'\r\n    import { isEqual, cloneDeep } from 'lodash'\r\n    import HandleValidationErrors from '../../utils/HandleValidationErrors'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { required } from '../../utils/validators'\r\n    import SectioonCard from '@/components/cards/SectioonCard'\r\n    import ProgressSpinner from 'primevue/progressspinner'\r\n\r\n    export default {\r\n        components: {\r\n            SectioonCard,\r\n            ProgressSpinner\r\n        },\r\n        props: {\r\n            section: {\r\n                type: Object,\r\n                required: true\r\n            },\r\n            active: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            errors: {\r\n                type: Object,\r\n                default: () => ({})\r\n            },\r\n            checkSavingStatus: {\r\n                type: Boolean\r\n            }\r\n        },\r\n        setup: () => ({ v$: useVuelidate() }),\r\n        validations: {\r\n            lazySection: {\r\n                title: { required }\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                lazySection: cloneDeep(this.section) || { },\r\n                // selectedQuestions: this.section?.questions || [],\r\n                loading: false,\r\n                failedToUpDate: false\r\n            }\r\n        },\r\n        computed: {\r\n            titleErrors () {\r\n                return HandleValidationErrors(\r\n                    this.v$.lazySection.title,\r\n                    this.errors.title\r\n                )\r\n            },\r\n            valid () {\r\n                return (!this.v$.lazySection.$invalid && (this.lazySection.id > 0) && this.uptodate)\r\n            },\r\n            uptodate () {\r\n                return (isEqual(this.section, this.lazySection))\r\n            }\r\n        },\r\n        watch: {\r\n            section (val) {\r\n                this.loading = false\r\n                if (isEqual(this.lazySection, val)) { return }\r\n                this.lazySection = cloneDeep(val)\r\n            },\r\n            lazySection: {\r\n                handler (val) {\r\n                    this.failedToUpDate = false\r\n                    setTimeout(() => {\r\n                        if (isEqual(this.section, this.lazySection)) { return }\r\n                        this.v$.lazySection.$touch()\r\n                        if (this.v$.lazySection.$invalid) { return }\r\n                        this.updateThisSection()\r\n                    }, 200)\r\n                },\r\n                deep: true\r\n            },\r\n            checkSavingStatus () {\r\n                this.$emit('savingstatus', this.v$.lazySection.$invalid)\r\n            }\r\n        },\r\n        // created () {\r\n        //     this.lazySection = cloneDeep(this.section)\r\n        // },\r\n        methods: {\r\n            ...mapActions('section', ['updateSection', 'deleteSection']),\r\n            async updateThisSection () {\r\n                this.loading = true\r\n                this.failedToUpDate = false\r\n                setTimeout(() => { this.failedToUpDate = true }, 5000)\r\n                await this.updateSection({\r\n                    mId: this.$route.params.id,\r\n                    sId: this.$route.params.SurveyId,\r\n                    section: this.lazySection\r\n                })\r\n            },\r\n            async removeSection () {\r\n                await this.deleteSection({ mId: this.$route.params.id, sId: this.$route.params.SurveyId, id: this.lazySection.id })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":"AA8BI,SAASA,UAAS,QAAS,MAAK;AAChC,SAASC,OAAO,EAAEC,SAAQ,QAAS,QAAO;AAC1C,OAAOC,sBAAqB,MAAO,oCAAmC;AACtE,OAAOC,YAAW,MAAO,iBAAgB;AACzC,SAASC,QAAO,QAAS,wBAAuB;AAChD,OAAOC,YAAW,MAAO,iCAAgC;AACzD,OAAOC,eAAc,MAAO,0BAAyB;AAErD,eAAe;EACXC,UAAU,EAAE;IACRF,YAAY;IACZC;EACJ,CAAC;EACDE,KAAK,EAAE;IACHC,OAAO,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZP,QAAQ,EAAE;IACd,CAAC;IACDQ,MAAM,EAAE;MACJF,IAAI,EAAEG,OAAO;MACbC,OAAO,EAAE;IACb,CAAC;IACDC,MAAM,EAAE;MACJL,IAAI,EAAEC,MAAM;MACZG,OAAO,EAAEA,CAAA,MAAO,CAAC,CAAC;IACtB,CAAC;IACDE,iBAAiB,EAAE;MACfN,IAAI,EAAEG;IACV;EACJ,CAAC;EACDI,KAAK,EAAEA,CAAA,MAAO;IAAEC,EAAE,EAAEf,YAAY,CAAC;EAAE,CAAC,CAAC;EACrCgB,WAAW,EAAE;IACTC,WAAW,EAAE;MACTC,KAAK,EAAE;QAAEjB;MAAS;IACtB;EACJ,CAAC;EACDkB,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHF,WAAW,EAAEnB,SAAS,CAAC,IAAI,CAACQ,OAAO,KAAK,CAAE,CAAC;MAC3C;MACAc,OAAO,EAAE,KAAK;MACdC,cAAc,EAAE;IACpB;EACJ,CAAC;EACDC,QAAQ,EAAE;IACNC,WAAUA,CAAA,EAAK;MACX,OAAOxB,sBAAsB,CACzB,IAAI,CAACgB,EAAE,CAACE,WAAW,CAACC,KAAK,EACzB,IAAI,CAACN,MAAM,CAACM,KAChB;IACJ,CAAC;IACDM,KAAIA,CAAA,EAAK;MACL,OAAQ,CAAC,IAAI,CAACT,EAAE,CAACE,WAAW,CAACQ,QAAO,IAAM,IAAI,CAACR,WAAW,CAACS,EAAC,GAAI,CAAC,IAAK,IAAI,CAACC,QAAQ;IACvF,CAAC;IACDA,QAAOA,CAAA,EAAK;MACR,OAAQ9B,OAAO,CAAC,IAAI,CAACS,OAAO,EAAE,IAAI,CAACW,WAAW,CAAC;IACnD;EACJ,CAAC;EACDW,KAAK,EAAE;IACHtB,OAAMA,CAAGuB,GAAG,EAAE;MACV,IAAI,CAACT,OAAM,GAAI,KAAI;MACnB,IAAIvB,OAAO,CAAC,IAAI,CAACoB,WAAW,EAAEY,GAAG,CAAC,EAAE;QAAE;MAAO;MAC7C,IAAI,CAACZ,WAAU,GAAInB,SAAS,CAAC+B,GAAG;IACpC,CAAC;IACDZ,WAAW,EAAE;MACTa,OAAMA,CAAGD,GAAG,EAAE;QACV,IAAI,CAACR,cAAa,GAAI,KAAI;QAC1BU,UAAU,CAAC,MAAM;UACb,IAAIlC,OAAO,CAAC,IAAI,CAACS,OAAO,EAAE,IAAI,CAACW,WAAW,CAAC,EAAE;YAAE;UAAO;UACtD,IAAI,CAACF,EAAE,CAACE,WAAW,CAACe,MAAM,CAAC;UAC3B,IAAI,IAAI,CAACjB,EAAE,CAACE,WAAW,CAACQ,QAAQ,EAAE;YAAE;UAAO;UAC3C,IAAI,CAACQ,iBAAiB,CAAC;QAC3B,CAAC,EAAE,GAAG;MACV,CAAC;MACDC,IAAI,EAAE;IACV,CAAC;IACDrB,iBAAgBA,CAAA,EAAK;MACjB,IAAI,CAACsB,KAAK,CAAC,cAAc,EAAE,IAAI,CAACpB,EAAE,CAACE,WAAW,CAACQ,QAAQ;IAC3D;EACJ,CAAC;EACD;EACA;EACA;EACAW,OAAO,EAAE;IACL,GAAGxC,UAAU,CAAC,SAAS,EAAE,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;IAC5D,MAAMqC,iBAAgBA,CAAA,EAAK;MACvB,IAAI,CAACb,OAAM,GAAI,IAAG;MAClB,IAAI,CAACC,cAAa,GAAI,KAAI;MAC1BU,UAAU,CAAC,MAAM;QAAE,IAAI,CAACV,cAAa,GAAI,IAAG;MAAE,CAAC,EAAE,IAAI;MACrD,MAAM,IAAI,CAACgB,aAAa,CAAC;QACrBC,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACd,EAAE;QAC1Be,GAAG,EAAE,IAAI,CAACF,MAAM,CAACC,MAAM,CAACE,QAAQ;QAChCpC,OAAO,EAAE,IAAI,CAACW;MAClB,CAAC;IACL,CAAC;IACD,MAAM0B,aAAYA,CAAA,EAAK;MACnB,MAAM,IAAI,CAACC,aAAa,CAAC;QAAEN,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACd,EAAE;QAAEe,GAAG,EAAE,IAAI,CAACF,MAAM,CAACC,MAAM,CAACE,QAAQ;QAAEhB,EAAE,EAAE,IAAI,CAACT,WAAW,CAACS;MAAG,CAAC;IACtH;EACJ;AACJ","ignoreList":[]}]}