{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\survey\\SurveyResults.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\survey\\SurveyResults.vue","mtime":1707572265528},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBTdXJ2ZXlRdWVzdGlvblJlc3VsdHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zdXJ2ZXkvU3VydmV5UXVlc3Rpb25SZXN1bHRzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFN1cnZleVF1ZXN0aW9uUmVzdWx0cwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvcGljTnVtYmVyOiAwLAogICAgICBhbW91bnREaXNwbGF5QnV0dG9uVmFsdWU6IHsKICAgICAgICBuYW1lOiAnUGVyY2VudGFnZXMnLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sCiAgICAgIGFtb3VudERpc3BsYXlCdXR0b25PcHRpb25zOiBbewogICAgICAgIG5hbWU6ICdQZXJjZW50YWdlcycsCiAgICAgICAgdmFsdWU6IDEKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdOdW1iZXJzJywKICAgICAgICB2YWx1ZTogMAogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnb3JnYW5pc2F0aW9uJywgWydvcmdhbmlzYXRpb24nXSksCiAgICAuLi5tYXBTdGF0ZSgnZXNlYUFjY291bnQnLCBbJ2VzZWFBY2NvdW50J10pLAogICAgLi4ubWFwU3RhdGUoJ3N1cnZleScsIFsnc3VydmV5J10pLAogICAgLi4ubWFwU3RhdGUoJ3N1cnZleVJlc3VsdHMnLCBbJ3N1cnZleVJlc3VsdCddKSwKICAgIGFuc3dlcnMoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3VydmV5UmVzdWx0LmluZGljYXRvcnMpOwogICAgICByZXR1cm4gdGhpcy5zdXJ2ZXlSZXN1bHQuaW5kaWNhdG9ycyB8fCB7fTsKICAgIH0sCiAgICBjYWxjdWxhdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpcyRzdXJ2ZXlSZXN1bHQ7CiAgICAgIGNvbnN0IGNhbGN1bGF0aW9ucyA9IHt9OwogICAgICBpZiAoKF90aGlzJHN1cnZleVJlc3VsdCA9IHRoaXMuc3VydmV5UmVzdWx0KSAhPT0gbnVsbCAmJiBfdGhpcyRzdXJ2ZXlSZXN1bHQgIT09IHZvaWQgMCAmJiBfdGhpcyRzdXJ2ZXlSZXN1bHQuY2FsY3VsYXRpb25zLmxlbmd0aCkgewogICAgICAgIHRoaXMuc3VydmV5UmVzdWx0LmNhbGN1bGF0aW9ucy5mb3JFYWNoKGNhbGN1bGF0aW9uID0+IHsKICAgICAgICAgIGNhbGN1bGF0aW9uc1tjYWxjdWxhdGlvbi50b3BpY10gPSAhY2FsY3VsYXRpb25zW2NhbGN1bGF0aW9uLnRvcGljXSA/IFtjYWxjdWxhdGlvbl0gOiBbLi4uY2FsY3VsYXRpb25zW2NhbGN1bGF0aW9uLnRvcGljXSwgY2FsY3VsYXRpb25dOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBjYWxjdWxhdGlvbnM7CiAgICB9LAogICAgbWV0aG9kSWQoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMubWV0aG9kSWQsIDEwKTsKICAgIH0KICB9LAogIGJlZm9yZVJvdXRlVXBkYXRlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB0aGlzLmluaXRpYWxpemUoKTsKICAgIG5leHQoKTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRpYWxpemUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoJ3N1cnZleScsIFsnZmV0Y2hTdXJ2ZXknXSksCiAgICAuLi5tYXBBY3Rpb25zKCdzdXJ2ZXlSZXN1bHRzJywgWydmZXRjaFN1cnZleVJlc3VsdHMnXSksCiAgICBhc3luYyBpbml0aWFsaXplKCkgewogICAgICB2YXIgX3RoaXMkZXNlYUFjY291bnQkbWV0LCBfdGhpcyRlc2VhQWNjb3VudDsKICAgICAgY29uc3Qgc3VydmV5SWQgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuc3VydmV5SWQsIDEwKTsKICAgICAgYXdhaXQgdGhpcy5mZXRjaFN1cnZleSh7CiAgICAgICAgbUlkOiAoX3RoaXMkZXNlYUFjY291bnQkbWV0ID0gdGhpcy5lc2VhQWNjb3VudC5tZXRob2QpID09PSBudWxsIHx8IF90aGlzJGVzZWFBY2NvdW50JG1ldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZXNlYUFjY291bnQkbWV0LmlkLAogICAgICAgIGlkOiBzdXJ2ZXlJZAogICAgICB9KTsKICAgICAgLy8gaWYgKHRoaXMuc3VydmV5Lm1ldGhvZCAhPT0gdGhpcy5tZXRob2RJZCkgewogICAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbWV0aG9kcycgfSkKICAgICAgLy8gfQogICAgICB0aGlzLmZldGNoU3VydmV5UmVzdWx0cyh7CiAgICAgICAgb0lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuT3JnYW5pc2F0aW9uSWQsCiAgICAgICAgZWFJZDogKF90aGlzJGVzZWFBY2NvdW50ID0gdGhpcy5lc2VhQWNjb3VudCkgPT09IG51bGwgfHwgX3RoaXMkZXNlYUFjY291bnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGVzZWFBY2NvdW50LmlkCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","mapActions","SurveyQuestionResults","components","data","topicNumber","amountDisplayButtonValue","name","value","amountDisplayButtonOptions","computed","answers","console","log","surveyResult","indicators","calculations","_this$surveyResult","length","forEach","calculation","topic","methodId","parseInt","$route","params","beforeRouteUpdate","to","from","next","initialize","created","methods","_this$eseaAccount$met","_this$eseaAccount","surveyId","fetchSurvey","mId","eseaAccount","method","id","fetchSurveyResults","oId","OrganisationId","eaId"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\survey\\SurveyResults.vue"],"sourcesContent":["<template>\r\n    <div class=\"p-d-flex p-grid p-nested-grid p-jc-center p-m-0\">\r\n        <div class=\"p-grid p-col-12 p-ai-center\" style=\"background-color: #dcedc8;\">\r\n            <div class=\"p-col-4\">\r\n                <SelectButton v-model=\"amountDisplayButtonValue\" :options=\"amountDisplayButtonOptions\" optionLabel=\"name\" />\r\n            </div>\r\n            <div class=\"p-col-8 p-text-left\">\r\n            <h1>{{survey.name}}</h1>\r\n            <h3>{{survey.description}}</h3>\r\n            <p>Respondents: {{ surveyResult.responses }} of {{ surveyResult.respondents }} </p>\r\n            {{surveyResult}}\r\n            <!-- {{survey.topics[0].sub_topics[0].questions}} -->\r\n            </div>\r\n        </div>\r\n        <div class=\"p-grid p-col-6 p-p-3\" style=\"min-width: 800px;\">\r\n            <div v-for=\"section in survey.sections\" :key=\"section.id\" class=\"p-grid p-col-12 p-p-5\" style=\"background-color: #F5F5F5; border-radius: 10px;\">\r\n                <div class=\"p-col-12 p-text-left\"><h3>Topic: '{{section.title}}</h3></div>\r\n                <survey-question-results\r\n\t\t\t\t\tv-for=\"question in section.questions\"\r\n\t\t\t\t\t:key=\"`question-${question.id}`\"\r\n\t\t\t\t\t:question=\"question\"\r\n\t\t\t\t\t:answers=\"answers[question.key]\"\r\n\t\t\t\t\t:amountdisplaychoice=\"amountDisplayButtonValue\"\r\n\t\t\t\t\tclass=\"p-col-12 mt-6 p-m-2\"\r\n\t\t\t\t/>\r\n\r\n                <!-- <div v-for=\"subtopic in topic.sub_topics\" :key=\"subtopic.id\" class=\"p-col-12 p-p-3 p-my-3\" style=\"background-color: white; border-radius: 10px;\">\r\n                    <div class=\"p-col-12 p-text-left\"><h3>Topic: '{{subtopic.name}}</h3></div>\r\n                    <survey-question-results\r\n\t\t\t\t\t\tv-for=\"question in subtopic.questions\"\r\n\t\t\t\t\t\t:key=\"`question-${question.id}`\"\r\n\t\t\t\t\t\t:question=\"question\"\r\n\t\t\t\t\t\t:answers=\"answers[question.key]\"\r\n                        :amountdisplaychoice=\"amountDisplayButtonValue\"\r\n\t\t\t\t\t\tclass=\"mt-6\"\r\n\t\t\t\t\t/>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions } from 'vuex'\r\n    import SurveyQuestionResults from '../../components/survey/SurveyQuestionResults'\r\n    export default {\r\n        components: {\r\n            SurveyQuestionResults\r\n        },\r\n        data () {\r\n            return {\r\n                topicNumber: 0,\r\n                amountDisplayButtonValue: { name: 'Percentages', value: 1 },\r\n                amountDisplayButtonOptions: [\r\n                    { name: 'Percentages', value: 1 },\r\n                    { name: 'Numbers', value: 0 }\r\n                    ]\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('organisation', ['organisation']),\r\n            ...mapState('eseaAccount', ['eseaAccount']),\r\n            ...mapState('survey', ['survey']),\r\n            ...mapState('surveyResults', ['surveyResult']),\r\n            answers () {\r\n                console.log(this.surveyResult.indicators)\r\n                return this.surveyResult.indicators || {}\r\n            },\r\n            calculations () {\r\n                const calculations = {}\r\n                if (this.surveyResult?.calculations.length) {\r\n                    this.surveyResult.calculations.forEach((calculation) => {\r\n                        calculations[calculation.topic] = !calculations[calculation.topic]\r\n                            ? [calculation] : [...calculations[calculation.topic], calculation]\r\n                    })\r\n                }\r\n                return calculations\r\n            },\r\n            methodId () {\r\n                return parseInt(this.$route.params.methodId, 10)\r\n            }\r\n        },\r\n        beforeRouteUpdate (to, from, next) {\r\n            this.initialize()\r\n            next()\r\n        },\r\n        created () {\r\n            this.initialize()\r\n        },\r\n        methods: {\r\n            ...mapActions('survey', ['fetchSurvey']),\r\n            ...mapActions('surveyResults', ['fetchSurveyResults']),\r\n            async initialize () {\r\n                const surveyId = parseInt(this.$route.params.surveyId, 10)\r\n                await this.fetchSurvey({ mId: this.eseaAccount.method?.id, id: surveyId })\r\n                // if (this.survey.method !== this.methodId) {\r\n                //     this.$router.push({ name: 'methods' })\r\n                // }\r\n                this.fetchSurveyResults({ oId: this.$route.params.OrganisationId, eaId: this.eseaAccount?.id })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}