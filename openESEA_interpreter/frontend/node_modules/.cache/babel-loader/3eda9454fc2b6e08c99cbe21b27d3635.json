{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\store\\modules\\method\\audit\\survey_audit.js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\store\\modules\\method\\audit\\survey_audit.js","mtime":1707572265422},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1741014586138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0IFN1cnZleUF1ZGl0U2VydmljZSBmcm9tICdAL3NlcnZpY2VzL1N1cnZleUF1ZGl0U2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBzdXJ2ZXlBdWRpdHM6IFtdLAogICAgc3VydmV5QXVkaXQ6IHt9LAogICAgZXJyb3I6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFN1cnZleUF1ZGl0cyhzdGF0ZSwgewogICAgICBkYXRhCiAgICB9KSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBzdGF0ZS5zdXJ2ZXlBdWRpdHMgPSBkYXRhOwogICAgfSwKICAgIHNldFN1cnZleUF1ZGl0KHN0YXRlLCB7CiAgICAgIGRhdGEKICAgIH0pIHsKICAgICAgc3RhdGUuc3VydmV5QXVkaXQgPSBkYXRhIHx8IHt9OwogICAgfSwKICAgIHVwZGF0ZVN1cnZleUF1ZGl0KHN0YXRlLCB7CiAgICAgIGRhdGEsCiAgICAgIGlkCiAgICB9KSB7CiAgICAgIHN0YXRlLnN1cnZleUF1ZGl0cyA9IHN0YXRlLnN1cnZleUF1ZGl0cy5tYXAoaXRlbSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uaWQgIT09IGlkKSB7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLml0ZW0sCiAgICAgICAgICAuLi5kYXRhCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0RXJyb3Ioc3RhdGUsIHsKICAgICAgZXJyb3IKICAgIH0pIHsKICAgICAgY29uc29sZS5sb2coJ215IGVycm9yOicsIGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgc3RhdGUuZXJyb3IgPSAoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLnJlc3BvbnNlLmRhdGEpIHx8IFtdOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgYXN5bmMgZmV0Y2hTdXJ2ZXlBdWRpdHMoewogICAgICBjb21taXQKICAgIH0sIHBheWxvYWQpIHsKICAgICAgY29uc3QgewogICAgICAgIHJlc3BvbnNlLAogICAgICAgIGVycm9yCiAgICAgIH0gPSBhd2FpdCBTdXJ2ZXlBdWRpdFNlcnZpY2UuZ2V0KHBheWxvYWQpOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ3NldEVycm9yJywgewogICAgICAgICAgZXJyb3IKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29tbWl0KCdzZXRTdXJ2ZXlBdWRpdHMnLCByZXNwb25zZSk7CiAgICB9LAogICAgYXN5bmMgZmV0Y2hTdXJ2ZXlBdWRpdCh7CiAgICAgIGNvbW1pdAogICAgfSwgcGF5bG9hZCkgewogICAgICBjb25zdCB7CiAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgZXJyb3IKICAgICAgfSA9IGF3YWl0IFN1cnZleUF1ZGl0U2VydmljZS5nZXQocGF5bG9hZCk7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCB7CiAgICAgICAgICBlcnJvcgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb21taXQoJ3NldFN1cnZleUF1ZGl0JywgcmVzcG9uc2UpOwogICAgfSwKICAgIGFzeW5jIGNyZWF0ZVN1cnZleUF1ZGl0KHsKICAgICAgY29tbWl0LAogICAgICBkaXNwYXRjaAogICAgfSwgewogICAgICBvSWQsCiAgICAgIGVhSWQsCiAgICAgIGRhdGEKICAgIH0pIHsKICAgICAgY29uc3QgewogICAgICAgIHJlc3BvbnNlLAogICAgICAgIGVycm9yCiAgICAgIH0gPSBhd2FpdCBTdXJ2ZXlBdWRpdFNlcnZpY2UucG9zdCh7CiAgICAgICAgb0lkLAogICAgICAgIGVhSWQsCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9KTsKICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCdzZXRFcnJvcicsIHsKICAgICAgICAgIGVycm9yCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGF3YWl0IGRpc3BhdGNoKCdmZXRjaFN1cnZleUF1ZGl0cycsIHsKICAgICAgICBvSWQsCiAgICAgICAgZWFJZAogICAgICB9KTsKICAgICAgYXdhaXQgY29tbWl0KCdzZXRTdXJ2ZXlBdWRpdCcsIHJlc3BvbnNlKTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVTdXJ2ZXlBdWRpdCh7CiAgICAgIGNvbW1pdAogICAgfSwgewogICAgICBvSWQsCiAgICAgIGVhSWQsCiAgICAgIGRhdGEKICAgIH0pIHsKICAgICAgY29uc3QgewogICAgICAgIHJlc3BvbnNlLAogICAgICAgIGVycm9yCiAgICAgIH0gPSBhd2FpdCBTdXJ2ZXlBdWRpdFNlcnZpY2UucHV0KHsKICAgICAgICBvSWQsCiAgICAgICAgZWFJZCwKICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICBkYXRhLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ3NldEVycm9yJywgewogICAgICAgICAgZXJyb3IKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2coJ2FjY291bnQgYXVkaXQ6JywgcmVzcG9uc2UuZGF0YSkKICAgICAgY29tbWl0KCd1cGRhdGVTdXJ2ZXlBdWRpdCcsIHJlc3BvbnNlKTsKICAgICAgY29tbWl0KCdzZXRTdXJ2ZXlBdWRpdCcsIHJlc3BvbnNlKTsKICAgIH0sCiAgICBzZXRTdXJ2ZXlBdWRpdCh7CiAgICAgIHN0YXRlLAogICAgICBjb21taXQKICAgIH0sIHsKICAgICAgaWQKICAgIH0pIHsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHN0YXRlLnN1cnZleUF1ZGl0LmZpbmQocyA9PiBzLmlkID09PSBpZCk7CiAgICAgICAgY29tbWl0KCdzZXRTdXJ2ZXlBdWRpdCcsIHsKICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoJ3NldFN1cnZleUF1ZGl0Jywge30pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["SurveyAuditService","namespaced","state","surveyAudits","surveyAudit","error","mutations","setSurveyAudits","data","console","log","setSurveyAudit","updateSurveyAudit","id","map","item","setError","response","actions","fetchSurveyAudits","commit","payload","get","fetchSurveyAudit","createSurveyAudit","dispatch","oId","eaId","post","put","headers","find","s"],"sources":["C:/Users/Marc/source/repos/openESEA/openESEA_interpreter/frontend/src/store/modules/method/audit/survey_audit.js"],"sourcesContent":["import SurveyAuditService from '@/services/SurveyAuditService'\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        surveyAudits: [],\r\n        surveyAudit: {},\r\n        error: []\r\n    },\r\n    mutations: {\r\n        setSurveyAudits (state, { data }) {\r\n            console.log(data)\r\n            state.surveyAudits = data\r\n        },\r\n        setSurveyAudit (state, { data }) {\r\n            state.surveyAudit = data || {}\r\n        },\r\n        updateSurveyAudit (state, { data, id }) {\r\n            state.surveyAudits = state.surveyAudits.map((item) => {\r\n                if (item.id !== id) { return item }\r\n                return { ...item, ...data }\r\n            })\r\n        },\r\n        setError (state, { error }) {\r\n            console.log('my error:', error?.response.data)\r\n            state.error = error?.response.data || []\r\n        }\r\n    },\r\n    actions: {\r\n        async fetchSurveyAudits ({ commit }, payload) {\r\n            const { response, error } = await SurveyAuditService.get(payload)\r\n            if (error) {\r\n                commit('setError', { error })\r\n                return\r\n            }\r\n            commit('setSurveyAudits', response)\r\n        },\r\n        async fetchSurveyAudit ({ commit }, payload) {\r\n            const { response, error } = await SurveyAuditService.get(payload)\r\n            if (error) {\r\n                commit('setError', { error })\r\n                return\r\n            }\r\n            commit('setSurveyAudit', response)\r\n        },\r\n        async createSurveyAudit ({ commit, dispatch }, { oId, eaId, data }) {\r\n            const { response, error } = await SurveyAuditService.post({ oId, eaId, data: data })\r\n            if (error) {\r\n                commit('setError', { error })\r\n                return\r\n            }\r\n            await dispatch('fetchSurveyAudits', { oId, eaId })\r\n            await commit('setSurveyAudit', response)\r\n        },\r\n        async updateSurveyAudit ({ commit }, { oId, eaId, data }) {\r\n            const { response, error } = await SurveyAuditService.put({ oId, eaId, id: data.id, data, headers: { 'Content-Type': 'multipart/form-data' } })\r\n            if (error) {\r\n                commit('setError', { error })\r\n                return\r\n            }\r\n            // console.log('account audit:', response.data)\r\n            commit('updateSurveyAudit', response)\r\n            commit('setSurveyAudit', response)\r\n        },\r\n        setSurveyAudit ({ state, commit }, { id }) {\r\n            if (id) {\r\n                const data = state.surveyAudit.find(s => s.id === id)\r\n                commit('setSurveyAudit', { data: data })\r\n            } else {\r\n                commit('setSurveyAudit', {})\r\n            }\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}