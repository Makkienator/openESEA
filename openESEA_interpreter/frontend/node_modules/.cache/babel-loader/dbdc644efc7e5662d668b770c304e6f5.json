{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\method\\MethodIndicatorCreation.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\method\\MethodIndicatorCreation.vue","mtime":1707572265508},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgTWV0aG9kVHJlZVNpZGViYXIgZnJvbSAnQC9jb21wb25lbnRzL01ldGhvZFRyZWVTaWRlQmFyJzsKaW1wb3J0IEluZGlyZWN0SW5kaWNhdG9yRWRpdEZvcm0gZnJvbSAnQC9jb21wb25lbnRzL2Zvcm1zL0luZGlyZWN0SW5kaWNhdG9yRWRpdEZvcm0nOwppbXBvcnQgRGlyZWN0SW5kaWNhdG9yRWRpdEZvcm0gZnJvbSAnQC9jb21wb25lbnRzL2Zvcm1zL0RpcmVjdEluZGljYXRvckVkaXRGb3JtJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1ldGhvZFRyZWVTaWRlYmFyLAogICAgSW5kaXJlY3RJbmRpY2F0b3JFZGl0Rm9ybSwKICAgIERpcmVjdEluZGljYXRvckVkaXRGb3JtCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hlY2tTYXZpbmdTdGF0dXM6IGZhbHNlLAogICAgICBpbmRpY2F0b3JzU2F2aW5nU3RhdHVzOiB7fSwKICAgICAgdG86IG51bGwsCiAgICAgIGFsbG93Um91dGluZzogZmFsc2UsCiAgICAgIHVuc2F2ZWRDaGFuZ2VzRGlhbG9nOiBmYWxzZSwKICAgICAgZGlzY2FyZFVuc2F2ZWRDaGFuZ2VzOiBmYWxzZSwKICAgICAgYWRkQmFyOiBbewogICAgICAgIGNob2ljZTogJ2luZGljYXRvcicKICAgICAgfSwgewogICAgICAgIGNob2ljZTogJ2NhbGN1bGF0aW9uJwogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnbWV0aG9kJywgWydtZXRob2QnLCAnZXJyb3InXSksCiAgICAuLi5tYXBTdGF0ZSgnZGlyZWN0SW5kaWNhdG9yJywgewogICAgICBhY3RpdmVEaXJlY3RJbmRpY2F0b3I6ICdkaXJlY3RJbmRpY2F0b3InLAogICAgICBkaXJlY3RJbmRpY2F0b3JzOiAnZGlyZWN0SW5kaWNhdG9ycycsCiAgICAgIGRpcmVjdEluZGljYXRvckVycm9yczogJ2Vycm9ycycKICAgIH0pLAogICAgLi4ubWFwU3RhdGUoJ2luZGlyZWN0SW5kaWNhdG9yJywgewogICAgICBhY3RpdmVJbmRpcmVjdEluZGljYXRvcjogJ2luZGlyZWN0SW5kaWNhdG9yJywKICAgICAgaW5kaXJlY3RJbmRpY2F0b3JzOiAnaW5kaXJlY3RJbmRpY2F0b3JzJywKICAgICAgaW5kaXJlY3RJbmRpY2F0b3JFcnJvcnM6ICdlcnJvcnMnCiAgICB9KSwKICAgIGl0ZW1zKCkgewogICAgICB0aGlzLmRpcmVjdEluZGljYXRvcnMuZm9yRWFjaChkaXJlY3QgPT4gewogICAgICAgIGRpcmVjdC5vYmpUeXBlID0gJ2RpcmVjdC1pbmRpY2F0b3InOwogICAgICB9KTsKICAgICAgdGhpcy5pbmRpcmVjdEluZGljYXRvcnMuZm9yRWFjaChpbmRpcmVjdCA9PiB7CiAgICAgICAgaW5kaXJlY3Qub2JqVHlwZSA9ICdpbmRpcmVjdC1pbmRpY2F0b3InOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0SW5kaWNhdG9ycy5jb25jYXQodGhpcy5pbmRpcmVjdEluZGljYXRvcnMpOwogICAgfSwKICAgIC8vIGFjdGl2ZUl0ZW0ub2JqVHlwZSBkZWNpZGVzIHdoaWNoIEVkaXRGb3JtIHdpbGwgYmUgc2hvd24KICAgIGFjdGl2ZUl0ZW0oKSB7CiAgICAgIGxldCBvYmpUeXBlID0gbnVsbDsKICAgICAgbGV0IGlkID0gbnVsbDsKICAgICAgaWYgKHRoaXMuYWN0aXZlRGlyZWN0SW5kaWNhdG9yLmlkKSB7CiAgICAgICAgb2JqVHlwZSA9ICdkaXJlY3QtaW5kaWNhdG9yJzsKICAgICAgICBpZCA9IHRoaXMuYWN0aXZlRGlyZWN0SW5kaWNhdG9yLmlkOwogICAgICB9CiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGlyZWN0SW5kaWNhdG9yLmlkKSB7CiAgICAgICAgb2JqVHlwZSA9ICdpbmRpcmVjdC1pbmRpY2F0b3InOwogICAgICAgIGlkID0gdGhpcy5hY3RpdmVJbmRpcmVjdEluZGljYXRvci5pZDsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIG9ialR5cGUsCiAgICAgICAgaWQKICAgICAgfTsKICAgIH0sCiAgICBlcnJvcnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2RpcmVjdC1pbmRpY2F0b3InOiB0aGlzLmRpcmVjdEluZGljYXRvckVycm9ycywKICAgICAgICAnaW5kaXJlY3QtaW5kaWNhdG9yJzogdGhpcy5pbmRpcmVjdEluZGljYXRvckVycm9ycwogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGluZGljYXRvcnNTYXZpbmdTdGF0dXM6IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmluZGljYXRvcnNTYXZpbmdTdGF0dXMpOwogICAgICAgIGlmIChPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gdGhpcy5pdGVtcy5sZW5ndGggJiAhT2JqZWN0LmtleXModGhpcy5kaXJlY3RJbmRpY2F0b3JFcnJvcnMpLmxlbmd0aCAmICFPYmplY3Qua2V5cyh0aGlzLmluZGlyZWN0SW5kaWNhdG9yRXJyb3JzKS5sZW5ndGgpIHsKICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbCkgewogICAgICAgICAgICBpZiAodmFsW2tleV0pIHsKICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcnNTYXZpbmdTdGF0dXMgPSB7fTsKICAgICAgICAgICAgICB0aGlzLnVuc2F2ZWRDaGFuZ2VzRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYWxsb3dSb3V0aW5nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMudG8pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgaWYgKCF0aGlzLml0ZW1zLmxlbmd0aCkgewogICAgICB0aGlzLmFsbG93Um91dGluZyA9IHRydWU7CiAgICB9CiAgICBpZiAodGhpcy5hbGxvd1JvdXRpbmcgfHwgdGhpcy5kaXNjYXJkVW5zYXZlZENoYW5nZXMpIHsKICAgICAgLy8gICYgIXRoaXMuZGlzY2FyZFVuc2F2ZWRDaGFuZ2VzCiAgICAgIG5leHQodHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnRvID0gdG87CiAgICAgIHRoaXMuYWxsb3dSb3V0aW5nID0gZmFsc2U7CiAgICAgIHRoaXMuY2hlY2tTYXZpbmdTdGF0dXMgPSAhdGhpcy5jaGVja1NhdmluZ1N0YXR1czsKICAgICAgbmV4dChmYWxzZSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0aWFsaXplKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdtZXRob2QnLCBbJ2ZldGNoTWV0aG9kJ10pLAogICAgLi4ubWFwQWN0aW9ucygnZGlyZWN0SW5kaWNhdG9yJywgWydmZXRjaERpcmVjdEluZGljYXRvcnMnLCAnc2V0RGlyZWN0SW5kaWNhdG9yJywgJ2FkZE5ld0RpcmVjdEluZGljYXRvcicsICd1cGRhdGVEaXJlY3RJbmRpY2F0b3InLCAnZGVsZXRlRGlyZWN0SW5kaWNhdG9yJ10pLAogICAgLi4ubWFwQWN0aW9ucygnaW5kaXJlY3RJbmRpY2F0b3InLCBbJ2ZldGNoSW5kaXJlY3RJbmRpY2F0b3JzJywgJ3NldEluZGlyZWN0SW5kaWNhdG9yJywgJ2FkZE5ld0luZGlyZWN0SW5kaWNhdG9yJywgJ3VwZGF0ZUluZGlyZWN0SW5kaWNhdG9yJywgJ2RlbGV0ZUluZGlyZWN0SW5kaWNhdG9yJ10pLAogICAgYXN5bmMgaW5pdGlhbGl6ZSgpIHsKICAgICAgY29uc3QgbWV0aG9kSWQgPSBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIDEwKTsKICAgICAgLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIHVybCBtZXRob2QncyBpZCBjb3JyZXNwb25kcyB0byB0aGUgaWQgb2YgdGhlIG1ldGhvZCBpbiB0aGUgbG9jYWwgc3RvcmFnZQogICAgICBpZiAodGhpcy5tZXRob2QuaWQgIT09IG1ldGhvZElkKSB7CiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaE1ldGhvZCh7CiAgICAgICAgICBpZDogbWV0aG9kSWQKICAgICAgICB9KTsKICAgICAgICBpZiAodGhpcy5lcnJvcikgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnbWV0aG9kcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBhd2FpdCB0aGlzLmZldGNoRGlyZWN0SW5kaWNhdG9ycyh7CiAgICAgICAgbUlkOiB0aGlzLm1ldGhvZC5pZAogICAgICB9KTsKICAgICAgYXdhaXQgdGhpcy5mZXRjaEluZGlyZWN0SW5kaWNhdG9ycyh7CiAgICAgICAgbUlkOiB0aGlzLm1ldGhvZC5pZAogICAgICB9KTsKICAgIH0sCiAgICAvLyBBZGQgZWl0aGVyIGEgZGlyZWN0IG9yIGluZGlyZWN0IGluZGljYXRvcgogICAgYWRkQmFyTWV0aG9kKGNob2ljZSkgewogICAgICBpZiAoY2hvaWNlID09PSAnaW5kaWNhdG9yJykgewogICAgICAgIHRoaXMuYWRkRGlyZWN0SW5kaWNhdG9yKCk7CiAgICAgIH0KICAgICAgaWYgKGNob2ljZSA9PT0gJ2NhbGN1bGF0aW9uJykgewogICAgICAgIHRoaXMuYWRkSW5kaXJlY3RJbmRpY2F0b3IoKTsKICAgICAgfQogICAgfSwKICAgIGFkZERpcmVjdEluZGljYXRvcigpIHsKICAgICAgLy8gY2FsbCBhZGROZXdEaXJlY3RJbmRpY2F0b3IgYWN0aW9uIGluIGRpcmVjdF9pbmRpY2F0b3IuanMgZmlsZS4gUGF5bG9hZCBpcyBtZXRob2QgaWQuCiAgICAgIHRoaXMuYWRkTmV3RGlyZWN0SW5kaWNhdG9yKHsKICAgICAgICBtSWQ6IHRoaXMubWV0aG9kLmlkCiAgICAgIH0pOwogICAgICB0aGlzLnNldEluZGlyZWN0SW5kaWNhdG9yKCk7CiAgICB9LAogICAgYWRkSW5kaXJlY3RJbmRpY2F0b3IoKSB7CiAgICAgIHRoaXMuYWRkTmV3SW5kaXJlY3RJbmRpY2F0b3IoewogICAgICAgIG1JZDogdGhpcy5tZXRob2QuaWQKICAgICAgfSk7CiAgICAgIHRoaXMuc2V0RGlyZWN0SW5kaWNhdG9yKCk7CiAgICB9LAogICAgLy8gQWN0aXZhdGVzICg9RXhwYW5kcykgaW5kaWNhdG9yIG9uY2UgaXQncyBjbGlja2VkCiAgICB0b2dnbGVBY3RpdmUoaXRlbSkgewogICAgICBjb25zdCB7CiAgICAgICAgb2JqVHlwZQogICAgICB9ID0gaXRlbTsKICAgICAgaWYgKG9ialR5cGUgPT09ICdkaXJlY3QtaW5kaWNhdG9yJyAmJiBpdGVtLmlkICE9PSB0aGlzLmFjdGl2ZURpcmVjdEluZGljYXRvci5pZCkgewogICAgICAgIHRoaXMuc2V0RGlyZWN0SW5kaWNhdG9yKGl0ZW0pOwogICAgICAgIHRoaXMuc2V0SW5kaXJlY3RJbmRpY2F0b3IoKTsKICAgICAgfSBlbHNlIGlmIChvYmpUeXBlID09PSAnaW5kaXJlY3QtaW5kaWNhdG9yJyAmJiBpdGVtLmlkICE9PSB0aGlzLmFjdGl2ZUluZGlyZWN0SW5kaWNhdG9yLmlkKSB7CiAgICAgICAgdGhpcy5zZXRJbmRpcmVjdEluZGljYXRvcihpdGVtKTsKICAgICAgICB0aGlzLnNldERpcmVjdEluZGljYXRvcigpOwogICAgICB9CiAgICB9LAogICAgLy8gVXBkYXRlcyBpbmRpY2F0b3Igd2l0aCBuZXcgaW5mb3JtYXRpb24gKGN0cmwgZiBAaW5wdXQ9InNhdmVBY3RpdmUpCiAgICBzYXZlQWN0aXZlKHR5cGUsIG9iamVjdCkgewogICAgICBpZiAob2JqZWN0LnRhcmdldCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBDaGVja3Mgd2hldGhlciB0aGUgJGV2ZW50IGNvbnRhaW5zIGFuIG9iamVjdCBvciBvbmx5IGFuIGlucHV0RXZlbnQKICAgICAgaWYgKHR5cGUgPT09ICdkaXJlY3QtaW5kaWNhdG9yJykgewogICAgICAgIHRoaXMudXBkYXRlRGlyZWN0SW5kaWNhdG9yKHsKICAgICAgICAgIG1JZDogdGhpcy5tZXRob2QuaWQsCiAgICAgICAgICBkaXJlY3RJbmRpY2F0b3I6IG9iamVjdAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0eXBlID09PSAnaW5kaXJlY3QtaW5kaWNhdG9yJykgewogICAgICAgIHRoaXMudXBkYXRlSW5kaXJlY3RJbmRpY2F0b3IoewogICAgICAgICAgbUlkOiB0aGlzLm1ldGhvZC5pZCwKICAgICAgICAgIGluZGlyZWN0SW5kaWNhdG9yOiBvYmplY3QKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUFjdGl2ZShvYmpUeXBlLCBvYmplY3QpIHsKICAgICAgaWYgKG9ialR5cGUgPT09ICdkaXJlY3QtaW5kaWNhdG9yJykgewogICAgICAgIHRoaXMuZGVsZXRlRGlyZWN0SW5kaWNhdG9yKHsKICAgICAgICAgIG1JZDogdGhpcy5tZXRob2QuaWQsCiAgICAgICAgICBTdUlkOiAwLAogICAgICAgICAgU2VJZDogMCwKICAgICAgICAgIGlkOiBvYmplY3QuaWQKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAob2JqVHlwZSA9PT0gJ2luZGlyZWN0LWluZGljYXRvcicpIHsKICAgICAgICB0aGlzLmRlbGV0ZUluZGlyZWN0SW5kaWNhdG9yKHsKICAgICAgICAgIG1JZDogdGhpcy5tZXRob2QuaWQsCiAgICAgICAgICBTdUlEOiAwLAogICAgICAgICAgU2VJZDogMCwKICAgICAgICAgIGlkOiBvYmplY3QuaWQKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNhdmluZ1N0YXR1cyhpbmRpY2F0b3IsIHN0YXR1cykgewogICAgICBjb25zdCBrZXkgPSBpbmRpY2F0b3Iub2JqVHlwZSArIGluZGljYXRvci5pZDsKICAgICAgdGhpcy5pbmRpY2F0b3JzU2F2aW5nU3RhdHVzW2tleV0gPSBzdGF0dXM7CiAgICB9LAogICAgdW5zYXZlZENoYW5nZXNDaG9pY2UoY2hvaWNlKSB7CiAgICAgIHRoaXMudW5zYXZlZENoYW5nZXNEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5kaXNjYXJkVW5zYXZlZENoYW5nZXMgPSBjaG9pY2U7CiAgICAgIGlmIChjaG9pY2UpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLnRvKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","mapActions","MethodTreeSidebar","IndirectIndicatorEditForm","DirectIndicatorEditForm","components","data","checkSavingStatus","indicatorsSavingStatus","to","allowRouting","unsavedChangesDialog","discardUnsavedChanges","addBar","choice","computed","activeDirectIndicator","directIndicators","directIndicatorErrors","activeIndirectIndicator","indirectIndicators","indirectIndicatorErrors","items","forEach","direct","objType","indirect","concat","activeItem","id","errors","watch","handler","val","console","log","Object","keys","length","key","$router","push","deep","beforeRouteLeave","from","next","created","initialize","methods","methodId","parseInt","$route","params","method","fetchMethod","error","name","fetchDirectIndicators","mId","fetchIndirectIndicators","addBarMethod","addDirectIndicator","addIndirectIndicator","addNewDirectIndicator","setIndirectIndicator","addNewIndirectIndicator","setDirectIndicator","toggleActive","item","saveActive","type","object","target","updateDirectIndicator","directIndicator","updateIndirectIndicator","indirectIndicator","deleteActive","deleteDirectIndicator","SuId","SeId","deleteIndirectIndicator","SuID","savingStatus","indicator","status","unsavedChangesChoice"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\method\\MethodIndicatorCreation.vue"],"sourcesContent":["// http://localhost:8081/methods/3/indicator-creation\r\n\r\n<template>\r\n    <div class=\"p-d-flex\" style=\"height: calc(100vh - 145px);\">\r\n        <method-tree-sidebar style=\"height: 100%; flex: 0 0 400px;\" />\r\n        <div class=\"p-px-5\" style=\"width: 100%; overflow-y: auto;\">\r\n            <div v-for=\"indicator in items\" :key=\"indicator.key\">\r\n                <component :is=\"`${indicator.objType}-edit-form`\" :errors=\"errors[indicator.objType] && errors[indicator.objType][indicator.id]\" :check-saving-status=\"checkSavingStatus\" @savingstatus=\"savingStatus(indicator, $event)\"\r\n                :direct-indicator=\"indicator\" :indirect-indicator=\"indicator\" :active=\"activeItem.objType === indicator.objType && activeItem.id === indicator.id\"\r\n                @input=\"saveActive(indicator.objType, $event)\" @click=\"toggleActive(indicator)\" @delete=\"deleteActive(indicator.objType, $event)\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"p-d-flex p-ai-center p-shadow-2\" style=\"position: fixed; top: 45%; right: 0px; width: 100px; background-color: #fcfcfc; border: 1px solid grey;\">\r\n        <div>\r\n            <div v-for=\"option in addBar\" :key=\"option.choice\" class=\"p-d-flex p-jc-center p-ai-center\" style=\"height: 100px; width: 100px; border: 1px solid lightgrey\" :style=\"(option.hover ? 'background-color: lightgrey;' : '')\" @mouseover=\"option.hover=true\" @mouseleave=\"option.hover=false\" @click=\"addBarMethod(option.choice)\">\r\n                <div>\r\n                    <i :class=\"option.icon? option.icon : 'pi pi-plus'\" />\r\n                    <p class=\"p-text-italic p-m-2\">{{option.choice}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Dialog v-model:visible=\"unsavedChangesDialog\" style=\"width: 600px;\" header=\"Unsaved Changes\" :modal=\"true\" :dismissableMask=\"true\">\r\n        <div class=\"confirmation-content\">\r\n            This page contains unsaved changes, leaving the page now will destroy these. Do you still wish to leave the page?\r\n        </div>\r\n        <template #footer>\r\n            <Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"unsavedChangesChoice(true)\" />\r\n            <Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"unsavedChangesChoice(false)\"/>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions } from 'vuex'\r\n    import MethodTreeSidebar from '@/components/MethodTreeSideBar'\r\n    import IndirectIndicatorEditForm from '@/components/forms/IndirectIndicatorEditForm'\r\n    import DirectIndicatorEditForm from '@/components/forms/DirectIndicatorEditForm'\r\n\r\n    export default {\r\n        components: {\r\n            MethodTreeSidebar,\r\n            IndirectIndicatorEditForm,\r\n            DirectIndicatorEditForm\r\n        },\r\n        data () {\r\n            return {\r\n                checkSavingStatus: false,\r\n                indicatorsSavingStatus: {},\r\n                to: null,\r\n                allowRouting: false,\r\n                unsavedChangesDialog: false,\r\n                discardUnsavedChanges: false,\r\n                addBar: [\r\n                    { choice: 'indicator' },\r\n                    { choice: 'calculation' }\r\n                ]\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('method', ['method', 'error']),\r\n            ...mapState('directIndicator', { activeDirectIndicator: 'directIndicator', directIndicators: 'directIndicators', directIndicatorErrors: 'errors' }),\r\n            ...mapState('indirectIndicator', { activeIndirectIndicator: 'indirectIndicator', indirectIndicators: 'indirectIndicators', indirectIndicatorErrors: 'errors' }),\r\n            items () {\r\n                this.directIndicators.forEach(direct => { direct.objType = 'direct-indicator' })\r\n                this.indirectIndicators.forEach(indirect => { indirect.objType = 'indirect-indicator' })\r\n                return this.directIndicators.concat(this.indirectIndicators)\r\n            },\r\n            // activeItem.objType decides which EditForm will be shown\r\n            activeItem () {\r\n                let objType = null\r\n                let id = null\r\n                if (this.activeDirectIndicator.id) {\r\n                    objType = 'direct-indicator'\r\n                    id = this.activeDirectIndicator.id\r\n                }\r\n                if (this.activeIndirectIndicator.id) {\r\n                    objType = 'indirect-indicator'\r\n                    id = this.activeIndirectIndicator.id\r\n                }\r\n                return { objType, id }\r\n            },\r\n            errors () {\r\n                return {\r\n                    'direct-indicator': this.directIndicatorErrors,\r\n                    'indirect-indicator': this.indirectIndicatorErrors\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            indicatorsSavingStatus: {\r\n                handler (val) {\r\n                    console.log(this.indicatorsSavingStatus)\r\n                    if ((Object.keys(val).length === this.items.length) & (!Object.keys(this.directIndicatorErrors).length) & (!Object.keys(this.indirectIndicatorErrors).length)) {\r\n                        for (const key in val) {\r\n                            if (val[key]) {\r\n                                this.indicatorsSavingStatus = {}\r\n                                this.unsavedChangesDialog = true\r\n                                return\r\n                            }\r\n                        }\r\n                        this.allowRouting = true\r\n                        this.$router.push(this.to)\r\n                    }\r\n                },\r\n                deep: true\r\n            }\r\n        },\r\n        beforeRouteLeave (to, from, next) {\r\n            if (!this.items.length) { this.allowRouting = true }\r\n            if (this.allowRouting || this.discardUnsavedChanges) { //  & !this.discardUnsavedChanges\r\n                next(true)\r\n            } else {\r\n                this.to = to\r\n                this.allowRouting = false\r\n                this.checkSavingStatus = !this.checkSavingStatus\r\n                next(false)\r\n            }\r\n        },\r\n        created () {\r\n            this.initialize()\r\n        },\r\n        methods: {\r\n            ...mapActions('method', ['fetchMethod']),\r\n            ...mapActions('directIndicator', ['fetchDirectIndicators', 'setDirectIndicator', 'addNewDirectIndicator', 'updateDirectIndicator', 'deleteDirectIndicator']),\r\n            ...mapActions('indirectIndicator', ['fetchIndirectIndicators', 'setIndirectIndicator', 'addNewIndirectIndicator', 'updateIndirectIndicator', 'deleteIndirectIndicator']),\r\n            async initialize () {\r\n                const methodId = parseInt(this.$route.params.id, 10)\r\n                // Checks whether the url method's id corresponds to the id of the method in the local storage\r\n                if (this.method.id !== methodId) {\r\n                    await this.fetchMethod({ id: methodId })\r\n                    if (this.error) {\r\n                        this.$router.push({ name: 'methods' })\r\n                    }\r\n                }\r\n                await this.fetchDirectIndicators({ mId: this.method.id })\r\n                await this.fetchIndirectIndicators({ mId: this.method.id })\r\n            },\r\n            // Add either a direct or indirect indicator\r\n            addBarMethod (choice) {\r\n                if (choice === 'indicator') { this.addDirectIndicator() }\r\n                if (choice === 'calculation') { this.addIndirectIndicator() }\r\n            },\r\n            addDirectIndicator () {\r\n                // call addNewDirectIndicator action in direct_indicator.js file. Payload is method id.\r\n                this.addNewDirectIndicator({ mId: this.method.id })\r\n                this.setIndirectIndicator()\r\n            },\r\n            addIndirectIndicator () {\r\n                this.addNewIndirectIndicator({ mId: this.method.id })\r\n                this.setDirectIndicator()\r\n            },\r\n            // Activates (=Expands) indicator once it's clicked\r\n            toggleActive (item) {\r\n                const { objType } = item\r\n                if (objType === 'direct-indicator' && item.id !== this.activeDirectIndicator.id) {\r\n                    this.setDirectIndicator(item)\r\n                    this.setIndirectIndicator()\r\n                } else if (objType === 'indirect-indicator' && item.id !== this.activeIndirectIndicator.id) {\r\n                    this.setIndirectIndicator(item)\r\n                    this.setDirectIndicator()\r\n                }\r\n            },\r\n            // Updates indicator with new information (ctrl f @input=\"saveActive)\r\n            saveActive (type, object) {\r\n                if (object.target) { return } // Checks whether the $event contains an object or only an inputEvent\r\n                if (type === 'direct-indicator') { this.updateDirectIndicator({ mId: this.method.id, directIndicator: object }) }\r\n                if (type === 'indirect-indicator') { this.updateIndirectIndicator({ mId: this.method.id, indirectIndicator: object }) }\r\n            },\r\n            deleteActive (objType, object) {\r\n                if (objType === 'direct-indicator') { this.deleteDirectIndicator({ mId: this.method.id, SuId: 0, SeId: 0, id: object.id }) }\r\n                if (objType === 'indirect-indicator') { this.deleteIndirectIndicator({ mId: this.method.id, SuID: 0, SeId: 0, id: object.id }) }\r\n            },\r\n            savingStatus (indicator, status) {\r\n                const key = indicator.objType + indicator.id\r\n                this.indicatorsSavingStatus[key] = status\r\n            },\r\n            unsavedChangesChoice (choice) {\r\n                this.unsavedChangesDialog = false\r\n                this.discardUnsavedChanges = choice\r\n                if (choice) {\r\n                    this.$router.push(this.to)\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}