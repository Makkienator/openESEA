{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\primevue\\utils\\utils.esm.js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\primevue\\utils\\utils.esm.js","mtime":1741014671392},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWxhc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWxhc3QtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuZGlmZmVyZW5jZS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5pbnRlcnNlY3Rpb24udjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaXMtZGlzam9pbnQtZnJvbS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5pcy1zdWJzZXQtb2YudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaXMtc3VwZXJzZXQtb2YudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuc3ltbWV0cmljLWRpZmZlcmVuY2UudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQudW5pb24udjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShvLCBhbGxvd0FycmF5TGlrZSkgewogIHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07CiAgaWYgKCFpdCkgewogICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDMobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgewogICAgICBpZiAoaXQpIG8gPSBpdDsKICAgICAgdmFyIGkgPSAwOwogICAgICB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzOiBGLAogICAgICAgIG46IGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsKICAgICAgICAgICAgZG9uZTogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRvbmU6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZTogb1tpKytdCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgZTogZnVuY3Rpb24gZShfZSkgewogICAgICAgICAgdGhyb3cgX2U7CiAgICAgICAgfSwKICAgICAgICBmOiBGCiAgICAgIH07CiAgICB9CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgfQogIHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwKICAgIGRpZEVyciA9IGZhbHNlLAogICAgZXJyOwogIHJldHVybiB7CiAgICBzOiBmdW5jdGlvbiBzKCkgewogICAgICBpdCA9IGl0LmNhbGwobyk7CiAgICB9LAogICAgbjogZnVuY3Rpb24gbigpIHsKICAgICAgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7CiAgICAgIG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7CiAgICAgIHJldHVybiBzdGVwOwogICAgfSwKICAgIGU6IGZ1bmN0aW9uIGUoX2UyKSB7CiAgICAgIGRpZEVyciA9IHRydWU7CiAgICAgIGVyciA9IF9lMjsKICAgIH0sCiAgICBmOiBmdW5jdGlvbiBmKCkgewogICAgICB0cnkgewogICAgICAgIGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFsicmV0dXJuIl0gIT0gbnVsbCkgaXRbInJldHVybiJdKCk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgaWYgKGRpZEVycikgdGhyb3cgZXJyOwogICAgICB9CiAgICB9CiAgfTsKfQpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkkMyhhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzJDMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5JDMoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCQzKCk7Cn0KZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkJDMoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7Cn0KZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheSQzKGl0ZXIpIHsKICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlclsiQEBpdGVyYXRvciJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyQzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKGFycik7Cn0KZnVuY3Rpb24gX3R5cGVvZiQzKG8pIHsKICAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOwoKICByZXR1cm4gX3R5cGVvZiQzID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgewogICAgcmV0dXJuIHR5cGVvZiBvOwogIH0gOiBmdW5jdGlvbiAobykgewogICAgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsKICB9LCBfdHlwZW9mJDMobyk7Cn0KZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkkMShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzJDEoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQkMShhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCQxKCk7Cn0KZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCQxKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7Cn0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDMobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDMobywgbWluTGVuKTsKICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7CiAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsKICBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7Cn0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMyhhcnIsIGxlbikgewogIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsKICByZXR1cm4gYXJyMjsKfQpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQkMShyLCBsKSB7CiAgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgclsiQEBpdGVyYXRvciJdOwogIGlmIChudWxsICE9IHQpIHsKICAgIHZhciBlLAogICAgICBuLAogICAgICBpLAogICAgICB1LAogICAgICBhID0gW10sCiAgICAgIGYgPSAhMCwKICAgICAgbyA9ICExOwogICAgdHJ5IHsKICAgICAgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgewogICAgICAgIGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsKICAgICAgICBmID0gITE7CiAgICAgIH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsKICAgIH0gY2F0Y2ggKHIpIHsKICAgICAgbyA9ICEwLCBuID0gcjsKICAgIH0gZmluYWxseSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKCFmICYmIG51bGwgIT0gdFsicmV0dXJuIl0gJiYgKHUgPSB0WyJyZXR1cm4iXSgpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgaWYgKG8pIHRocm93IG47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBhOwogIH0KfQpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMkMShhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9CnZhciBEb21IYW5kbGVyID0gewogIGlubmVyV2lkdGg6IGZ1bmN0aW9uIGlubmVyV2lkdGgoZWwpIHsKICAgIGlmIChlbCkgewogICAgICB2YXIgd2lkdGggPSBlbC5vZmZzZXRXaWR0aDsKICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7CiAgICAgIHdpZHRoICs9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQpOwogICAgICByZXR1cm4gd2lkdGg7CiAgICB9CiAgICByZXR1cm4gMDsKICB9LAogIHdpZHRoOiBmdW5jdGlvbiB3aWR0aChlbCkgewogICAgaWYgKGVsKSB7CiAgICAgIHZhciB3aWR0aCA9IGVsLm9mZnNldFdpZHRoOwogICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgd2lkdGggLT0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCk7CiAgICAgIHJldHVybiB3aWR0aDsKICAgIH0KICAgIHJldHVybiAwOwogIH0sCiAgZ2V0V2luZG93U2Nyb2xsVG9wOiBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxUb3AoKSB7CiAgICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgcmV0dXJuICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jLnNjcm9sbFRvcCkgLSAoZG9jLmNsaWVudFRvcCB8fCAwKTsKICB9LAogIGdldFdpbmRvd1Njcm9sbExlZnQ6IGZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbExlZnQoKSB7CiAgICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgcmV0dXJuICh3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jLnNjcm9sbExlZnQpIC0gKGRvYy5jbGllbnRMZWZ0IHx8IDApOwogIH0sCiAgZ2V0T3V0ZXJXaWR0aDogZnVuY3Rpb24gZ2V0T3V0ZXJXaWR0aChlbCwgbWFyZ2luKSB7CiAgICBpZiAoZWwpIHsKICAgICAgdmFyIHdpZHRoID0gZWwub2Zmc2V0V2lkdGg7CiAgICAgIGlmIChtYXJnaW4pIHsKICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgICB3aWR0aCArPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkxlZnQpICsgcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5SaWdodCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHdpZHRoOwogICAgfQogICAgcmV0dXJuIDA7CiAgfSwKICBnZXRPdXRlckhlaWdodDogZnVuY3Rpb24gZ2V0T3V0ZXJIZWlnaHQoZWwsIG1hcmdpbikgewogICAgaWYgKGVsKSB7CiAgICAgIHZhciBoZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQ7CiAgICAgIGlmIChtYXJnaW4pIHsKICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgICBoZWlnaHQgKz0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Ub3ApICsgcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pOwogICAgICB9CiAgICAgIHJldHVybiBoZWlnaHQ7CiAgICB9CiAgICByZXR1cm4gMDsKICB9LAogIGdldENsaWVudEhlaWdodDogZnVuY3Rpb24gZ2V0Q2xpZW50SGVpZ2h0KGVsLCBtYXJnaW4pIHsKICAgIGlmIChlbCkgewogICAgICB2YXIgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0OwogICAgICBpZiAobWFyZ2luKSB7CiAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7CiAgICAgICAgaGVpZ2h0ICs9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luVG9wKSArIHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luQm90dG9tKTsKICAgICAgfQogICAgICByZXR1cm4gaGVpZ2h0OwogICAgfQogICAgcmV0dXJuIDA7CiAgfSwKICBnZXRWaWV3cG9ydDogZnVuY3Rpb24gZ2V0Vmlld3BvcnQoKSB7CiAgICB2YXIgd2luID0gd2luZG93LAogICAgICBkID0gZG9jdW1lbnQsCiAgICAgIGUgPSBkLmRvY3VtZW50RWxlbWVudCwKICAgICAgZyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSwKICAgICAgdyA9IHdpbi5pbm5lcldpZHRoIHx8IGUuY2xpZW50V2lkdGggfHwgZy5jbGllbnRXaWR0aCwKICAgICAgaCA9IHdpbi5pbm5lckhlaWdodCB8fCBlLmNsaWVudEhlaWdodCB8fCBnLmNsaWVudEhlaWdodDsKICAgIHJldHVybiB7CiAgICAgIHdpZHRoOiB3LAogICAgICBoZWlnaHQ6IGgKICAgIH07CiAgfSwKICBnZXRPZmZzZXQ6IGZ1bmN0aW9uIGdldE9mZnNldChlbCkgewogICAgaWYgKGVsKSB7CiAgICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG9wOiByZWN0LnRvcCArICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwKSwKICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyAod2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwKQogICAgICB9OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgdG9wOiAnYXV0bycsCiAgICAgIGxlZnQ6ICdhdXRvJwogICAgfTsKICB9LAogIGluZGV4OiBmdW5jdGlvbiBpbmRleChlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudCkgewogICAgICB2YXIgX3RoaXMkZ2V0UGFyZW50Tm9kZTsKICAgICAgdmFyIGNoaWxkcmVuID0gKF90aGlzJGdldFBhcmVudE5vZGUgPSB0aGlzLmdldFBhcmVudE5vZGUoZWxlbWVudCkpID09PSBudWxsIHx8IF90aGlzJGdldFBhcmVudE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldFBhcmVudE5vZGUuY2hpbGROb2RlczsKICAgICAgdmFyIG51bSA9IDA7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoY2hpbGRyZW5baV0gPT09IGVsZW1lbnQpIHJldHVybiBudW07CiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLm5vZGVUeXBlID09PSAxKSBudW0rKzsKICAgICAgfQogICAgfQogICAgcmV0dXJuIC0xOwogIH0sCiAgYWRkTXVsdGlwbGVDbGFzc2VzOiBmdW5jdGlvbiBhZGRNdWx0aXBsZUNsYXNzZXMoZWxlbWVudCwgY2xhc3NOYW1lcykgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGlmIChlbGVtZW50ICYmIGNsYXNzTmFtZXMpIHsKICAgICAgW2NsYXNzTmFtZXNdLmZsYXQoKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoY05hbWVzKSB7CiAgICAgICAgcmV0dXJuIGNOYW1lcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLmFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgcmVtb3ZlTXVsdGlwbGVDbGFzc2VzOiBmdW5jdGlvbiByZW1vdmVNdWx0aXBsZUNsYXNzZXMoZWxlbWVudCwgY2xhc3NOYW1lcykgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICBpZiAoZWxlbWVudCAmJiBjbGFzc05hbWVzKSB7CiAgICAgIFtjbGFzc05hbWVzXS5mbGF0KCkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGNOYW1lcykgewogICAgICAgIHJldHVybiBjTmFtZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIucmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7CiAgICBpZiAoZWxlbWVudCAmJiBjbGFzc05hbWUgJiYgIXRoaXMuaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSkgewogICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lOwogICAgfQogIH0sCiAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKGVsZW1lbnQgJiYgY2xhc3NOYW1lKSB7CiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7ZWxzZSBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcYnwkKScsICdnaScpLCAnICcpOwogICAgfQogIH0sCiAgaGFzQ2xhc3M6IGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKGVsZW1lbnQpIHsKICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtlbHNlIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9LAogIGFkZFN0eWxlczogZnVuY3Rpb24gYWRkU3R5bGVzKGVsZW1lbnQpIHsKICAgIHZhciBzdHlsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgaWYgKGVsZW1lbnQpIHsKICAgICAgT2JqZWN0LmVudHJpZXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkkMShfcmVmLCAyKSwKICAgICAgICAgIGtleSA9IF9yZWYyWzBdLAogICAgICAgICAgdmFsdWUgPSBfcmVmMlsxXTsKICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtrZXldID0gdmFsdWU7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZmluZDogZnVuY3Rpb24gZmluZChlbGVtZW50LCBzZWxlY3RvcikgewogICAgcmV0dXJuIHRoaXMuaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSA6IFtdOwogIH0sCiAgZmluZFNpbmdsZTogZnVuY3Rpb24gZmluZFNpbmdsZShlbGVtZW50LCBzZWxlY3RvcikgewogICAgcmV0dXJuIHRoaXMuaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSA6IG51bGw7CiAgfSwKICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUpIHsKICAgIHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIGlmICh0eXBlKSB7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMpOwogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2hpbGRyZW4gPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgIGNoaWxkcmVuW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgfQogICAgICBlbGVtZW50LmFwcGVuZC5hcHBseShlbGVtZW50LCBjaGlsZHJlbik7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9LAogIHNldEF0dHJpYnV0ZTogZnVuY3Rpb24gc2V0QXR0cmlidXRlKGVsZW1lbnQpIHsKICAgIHZhciBhdHRyaWJ1dGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5pc0VsZW1lbnQoZWxlbWVudCkgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTsKICAgIH0KICB9LAogIHNldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICB2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICBpZiAodGhpcy5pc0VsZW1lbnQoZWxlbWVudCkpIHsKICAgICAgdmFyIGNvbXB1dGVkU3R5bGVzID0gZnVuY3Rpb24gY29tcHV0ZWRTdHlsZXMocnVsZSwgdmFsdWUpIHsKICAgICAgICB2YXIgX2VsZW1lbnQkJGF0dHJzLCBfZWxlbWVudCQkYXR0cnMyOwogICAgICAgIHZhciBzdHlsZXMgPSBlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQgIT09IHZvaWQgMCAmJiAoX2VsZW1lbnQkJGF0dHJzID0gZWxlbWVudC4kYXR0cnMpICE9PSBudWxsICYmIF9lbGVtZW50JCRhdHRycyAhPT0gdm9pZCAwICYmIF9lbGVtZW50JCRhdHRyc1tydWxlXSA/IFtlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCB8fCAoX2VsZW1lbnQkJGF0dHJzMiA9IGVsZW1lbnQuJGF0dHJzKSA9PT0gbnVsbCB8fCBfZWxlbWVudCQkYXR0cnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWxlbWVudCQkYXR0cnMyW3J1bGVdXSA6IFtdOwogICAgICAgIHJldHVybiBbdmFsdWVdLmZsYXQoKS5yZWR1Y2UoZnVuY3Rpb24gKGN2LCB2KSB7CiAgICAgICAgICBpZiAodiAhPT0gbnVsbCAmJiB2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdmFyIHR5cGUgPSBfdHlwZW9mJDModik7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgIGN2LnB1c2godik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICB2YXIgX2N2ID0gQXJyYXkuaXNBcnJheSh2KSA/IGNvbXB1dGVkU3R5bGVzKHJ1bGUsIHYpIDogT2JqZWN0LmVudHJpZXModikubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkkMShfcmVmMywgMiksCiAgICAgICAgICAgICAgICAgIF9rID0gX3JlZjRbMF0sCiAgICAgICAgICAgICAgICAgIF92ID0gX3JlZjRbMV07CiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZSA9PT0gJ3N0eWxlJyAmJiAoISFfdiB8fCBfdiA9PT0gMCkgPyAiIi5jb25jYXQoX2sucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKSwgIjoiKS5jb25jYXQoX3YpIDogISFfdiA/IF9rIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGN2ID0gX2N2Lmxlbmd0aCA/IGN2LmNvbmNhdChfY3YuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gISFjOwogICAgICAgICAgICAgIH0pKSA6IGN2OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gY3Y7CiAgICAgICAgfSwgc3R5bGVzKTsKICAgICAgfTsKICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheSQxKF9yZWY1LCAyKSwKICAgICAgICAgIGtleSA9IF9yZWY2WzBdLAogICAgICAgICAgdmFsdWUgPSBfcmVmNlsxXTsKICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkgewogICAgICAgICAgdmFyIG1hdGNoZWRFdmVudCA9IGtleS5tYXRjaCgvXm9uKC4rKS8pOwogICAgICAgICAgaWYgKG1hdGNoZWRFdmVudCkgewogICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobWF0Y2hlZEV2ZW50WzFdLnRvTG93ZXJDYXNlKCksIHZhbHVlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncC1iaW5kJykgewogICAgICAgICAgICBfdGhpczMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCB2YWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWx1ZSA9IGtleSA9PT0gJ2NsYXNzJyA/IF90b0NvbnN1bWFibGVBcnJheSQzKG5ldyBTZXQoY29tcHV0ZWRTdHlsZXMoJ2NsYXNzJywgdmFsdWUpKSkuam9pbignICcpLnRyaW0oKSA6IGtleSA9PT0gJ3N0eWxlJyA/IGNvbXB1dGVkU3R5bGVzKCdzdHlsZScsIHZhbHVlKS5qb2luKCc7JykudHJpbSgpIDogdmFsdWU7CiAgICAgICAgICAgIChlbGVtZW50LiRhdHRycyA9IGVsZW1lbnQuJGF0dHJzIHx8IHt9KSAmJiAoZWxlbWVudC4kYXR0cnNba2V5XSA9IHZhbHVlKTsKICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGdldEF0dHJpYnV0ZTogZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICh0aGlzLmlzRWxlbWVudChlbGVtZW50KSkgewogICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsKICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHsKICAgICAgICByZXR1cm4gK3ZhbHVlOwogICAgICB9CiAgICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnIHx8IHZhbHVlID09PSAnZmFsc2UnKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAndHJ1ZSc7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9LAogIGlzQXR0cmlidXRlRXF1YWxzOiBmdW5jdGlvbiBpc0F0dHJpYnV0ZUVxdWFscyhlbGVtZW50LCBuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIHRoaXMuaXNFbGVtZW50KGVsZW1lbnQpID8gdGhpcy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSkgPT09IHZhbHVlIDogZmFsc2U7CiAgfSwKICBpc0F0dHJpYnV0ZU5vdEVxdWFsczogZnVuY3Rpb24gaXNBdHRyaWJ1dGVOb3RFcXVhbHMoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHsKICAgIHJldHVybiAhdGhpcy5pc0F0dHJpYnV0ZUVxdWFscyhlbGVtZW50LCBuYW1lLCB2YWx1ZSk7CiAgfSwKICBnZXRIZWlnaHQ6IGZ1bmN0aW9uIGdldEhlaWdodChlbCkgewogICAgaWYgKGVsKSB7CiAgICAgIHZhciBoZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpOwogICAgICBoZWlnaHQgLT0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSArIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpOwogICAgICByZXR1cm4gaGVpZ2h0OwogICAgfQogICAgcmV0dXJuIDA7CiAgfSwKICBnZXRXaWR0aDogZnVuY3Rpb24gZ2V0V2lkdGgoZWwpIHsKICAgIGlmIChlbCkgewogICAgICB2YXIgd2lkdGggPSBlbC5vZmZzZXRXaWR0aDsKICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7CiAgICAgIHdpZHRoIC09IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQpICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKTsKICAgICAgcmV0dXJuIHdpZHRoOwogICAgfQogICAgcmV0dXJuIDA7CiAgfSwKICBhYnNvbHV0ZVBvc2l0aW9uOiBmdW5jdGlvbiBhYnNvbHV0ZVBvc2l0aW9uKGVsZW1lbnQsIHRhcmdldCkgewogICAgdmFyIGd1dHRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgIGlmIChlbGVtZW50KSB7CiAgICAgIHZhciBlbGVtZW50RGltZW5zaW9ucyA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID8gewogICAgICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoLAogICAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQKICAgICAgfSA6IHRoaXMuZ2V0SGlkZGVuRWxlbWVudERpbWVuc2lvbnMoZWxlbWVudCk7CiAgICAgIHZhciBlbGVtZW50T3V0ZXJIZWlnaHQgPSBlbGVtZW50RGltZW5zaW9ucy5oZWlnaHQ7CiAgICAgIHZhciBlbGVtZW50T3V0ZXJXaWR0aCA9IGVsZW1lbnREaW1lbnNpb25zLndpZHRoOwogICAgICB2YXIgdGFyZ2V0T3V0ZXJIZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgdGFyZ2V0T3V0ZXJXaWR0aCA9IHRhcmdldC5vZmZzZXRXaWR0aDsKICAgICAgdmFyIHRhcmdldE9mZnNldCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHdpbmRvd1Njcm9sbFRvcCA9IHRoaXMuZ2V0V2luZG93U2Nyb2xsVG9wKCk7CiAgICAgIHZhciB3aW5kb3dTY3JvbGxMZWZ0ID0gdGhpcy5nZXRXaW5kb3dTY3JvbGxMZWZ0KCk7CiAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMuZ2V0Vmlld3BvcnQoKTsKICAgICAgdmFyIHRvcCwKICAgICAgICBsZWZ0LAogICAgICAgIG9yaWdpbiA9ICd0b3AnOwogICAgICBpZiAodGFyZ2V0T2Zmc2V0LnRvcCArIHRhcmdldE91dGVySGVpZ2h0ICsgZWxlbWVudE91dGVySGVpZ2h0ID4gdmlld3BvcnQuaGVpZ2h0KSB7CiAgICAgICAgdG9wID0gdGFyZ2V0T2Zmc2V0LnRvcCArIHdpbmRvd1Njcm9sbFRvcCAtIGVsZW1lbnRPdXRlckhlaWdodDsKICAgICAgICBvcmlnaW4gPSAnYm90dG9tJzsKICAgICAgICBpZiAodG9wIDwgMCkgewogICAgICAgICAgdG9wID0gd2luZG93U2Nyb2xsVG9wOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0b3AgPSB0YXJnZXRPdXRlckhlaWdodCArIHRhcmdldE9mZnNldC50b3AgKyB3aW5kb3dTY3JvbGxUb3A7CiAgICAgIH0KICAgICAgaWYgKHRhcmdldE9mZnNldC5sZWZ0ICsgZWxlbWVudE91dGVyV2lkdGggPiB2aWV3cG9ydC53aWR0aCkgbGVmdCA9IE1hdGgubWF4KDAsIHRhcmdldE9mZnNldC5sZWZ0ICsgd2luZG93U2Nyb2xsTGVmdCArIHRhcmdldE91dGVyV2lkdGggLSBlbGVtZW50T3V0ZXJXaWR0aCk7ZWxzZSBsZWZ0ID0gdGFyZ2V0T2Zmc2V0LmxlZnQgKyB3aW5kb3dTY3JvbGxMZWZ0OwogICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCc7CiAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnOwogICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjsKICAgICAgZ3V0dGVyICYmIChlbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9IG9yaWdpbiA9PT0gJ2JvdHRvbScgPyAnY2FsYyh2YXIoLS1wLWFuY2hvci1ndXR0ZXIpICogLTEpJyA6ICdjYWxjKHZhcigtLXAtYW5jaG9yLWd1dHRlcikpJyk7CiAgICB9CiAgfSwKICByZWxhdGl2ZVBvc2l0aW9uOiBmdW5jdGlvbiByZWxhdGl2ZVBvc2l0aW9uKGVsZW1lbnQsIHRhcmdldCkgewogICAgdmFyIGd1dHRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgIGlmIChlbGVtZW50KSB7CiAgICAgIHZhciBlbGVtZW50RGltZW5zaW9ucyA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID8gewogICAgICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoLAogICAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQKICAgICAgfSA6IHRoaXMuZ2V0SGlkZGVuRWxlbWVudERpbWVuc2lvbnMoZWxlbWVudCk7CiAgICAgIHZhciB0YXJnZXRIZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgdGFyZ2V0T2Zmc2V0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgdmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KCk7CiAgICAgIHZhciB0b3AsCiAgICAgICAgbGVmdCwKICAgICAgICBvcmlnaW4gPSAndG9wJzsKICAgICAgaWYgKHRhcmdldE9mZnNldC50b3AgKyB0YXJnZXRIZWlnaHQgKyBlbGVtZW50RGltZW5zaW9ucy5oZWlnaHQgPiB2aWV3cG9ydC5oZWlnaHQpIHsKICAgICAgICB0b3AgPSAtMSAqIGVsZW1lbnREaW1lbnNpb25zLmhlaWdodDsKICAgICAgICBvcmlnaW4gPSAnYm90dG9tJzsKICAgICAgICBpZiAodGFyZ2V0T2Zmc2V0LnRvcCArIHRvcCA8IDApIHsKICAgICAgICAgIHRvcCA9IC0xICogdGFyZ2V0T2Zmc2V0LnRvcDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9wID0gdGFyZ2V0SGVpZ2h0OwogICAgICB9CiAgICAgIGlmIChlbGVtZW50RGltZW5zaW9ucy53aWR0aCA+IHZpZXdwb3J0LndpZHRoKSB7CiAgICAgICAgLy8gZWxlbWVudCB3aWRlciB0aGVuIHZpZXdwb3J0IGFuZCBjYW5ub3QgZml0IG9uIHNjcmVlbiAoYWxpZ24gYXQgbGVmdCBzaWRlIG9mIHZpZXdwb3J0KQogICAgICAgIGxlZnQgPSB0YXJnZXRPZmZzZXQubGVmdCAqIC0xOwogICAgICB9IGVsc2UgaWYgKHRhcmdldE9mZnNldC5sZWZ0ICsgZWxlbWVudERpbWVuc2lvbnMud2lkdGggPiB2aWV3cG9ydC53aWR0aCkgewogICAgICAgIC8vIGVsZW1lbnQgd2lkZXIgdGhlbiB2aWV3cG9ydCBidXQgY2FuIGJlIGZpdCBvbiBzY3JlZW4gKGFsaWduIGF0IHJpZ2h0IHNpZGUgb2Ygdmlld3BvcnQpCiAgICAgICAgbGVmdCA9ICh0YXJnZXRPZmZzZXQubGVmdCArIGVsZW1lbnREaW1lbnNpb25zLndpZHRoIC0gdmlld3BvcnQud2lkdGgpICogLTE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZWxlbWVudCBmaXRzIG9uIHNjcmVlbiAoYWxpZ24gd2l0aCB0YXJnZXQpCiAgICAgICAgbGVmdCA9IDA7CiAgICAgIH0KICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnOwogICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47CiAgICAgIGd1dHRlciAmJiAoZWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSBvcmlnaW4gPT09ICdib3R0b20nID8gJ2NhbGModmFyKC0tcC1hbmNob3ItZ3V0dGVyKSAqIC0xKScgOiAnY2FsYyh2YXIoLS1wLWFuY2hvci1ndXR0ZXIpKScpOwogICAgfQogIH0sCiAgbmVzdGVkUG9zaXRpb246IGZ1bmN0aW9uIG5lc3RlZFBvc2l0aW9uKGVsZW1lbnQsIGxldmVsKSB7CiAgICBpZiAoZWxlbWVudCkgewogICAgICB2YXIgcGFyZW50SXRlbSA9IGVsZW1lbnQucGFyZW50RWxlbWVudDsKICAgICAgdmFyIGVsZW1lbnRPZmZzZXQgPSB0aGlzLmdldE9mZnNldChwYXJlbnRJdGVtKTsKICAgICAgdmFyIHZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydCgpOwogICAgICB2YXIgc3VibGlzdFdpZHRoID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgPyBlbGVtZW50Lm9mZnNldFdpZHRoIDogdGhpcy5nZXRIaWRkZW5FbGVtZW50T3V0ZXJXaWR0aChlbGVtZW50KTsKICAgICAgdmFyIGl0ZW1PdXRlcldpZHRoID0gdGhpcy5nZXRPdXRlcldpZHRoKHBhcmVudEl0ZW0uY2hpbGRyZW5bMF0pOwogICAgICB2YXIgbGVmdDsKICAgICAgaWYgKHBhcnNlSW50KGVsZW1lbnRPZmZzZXQubGVmdCwgMTApICsgaXRlbU91dGVyV2lkdGggKyBzdWJsaXN0V2lkdGggPiB2aWV3cG9ydC53aWR0aCAtIHRoaXMuY2FsY3VsYXRlU2Nyb2xsYmFyV2lkdGgoKSkgewogICAgICAgIGlmIChwYXJzZUludChlbGVtZW50T2Zmc2V0LmxlZnQsIDEwKSA8IHN1Ymxpc3RXaWR0aCkgewogICAgICAgICAgLy8gZm9yIHRvbyBzbWFsbCBzY3JlZW5zCiAgICAgICAgICBpZiAobGV2ZWwgJSAyID09PSAxKSB7CiAgICAgICAgICAgIGxlZnQgPSBwYXJzZUludChlbGVtZW50T2Zmc2V0LmxlZnQsIDEwKSA/ICctJyArIHBhcnNlSW50KGVsZW1lbnRPZmZzZXQubGVmdCwgMTApICsgJ3B4JyA6ICcxMDAlJzsKICAgICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgJSAyID09PSAwKSB7CiAgICAgICAgICAgIGxlZnQgPSB2aWV3cG9ydC53aWR0aCAtIHN1Ymxpc3RXaWR0aCAtIHRoaXMuY2FsY3VsYXRlU2Nyb2xsYmFyV2lkdGgoKSArICdweCc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxlZnQgPSAnLTEwMCUnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBsZWZ0ID0gJzEwMCUnOwogICAgICB9CiAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gJzBweCc7CiAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQ7CiAgICB9CiAgfSwKICBnZXRQYXJlbnROb2RlOiBmdW5jdGlvbiBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIHsKICAgIHZhciBwYXJlbnQgPSBlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIGlmIChwYXJlbnQgJiYgcGFyZW50IGluc3RhbmNlb2YgU2hhZG93Um9vdCAmJiBwYXJlbnQuaG9zdCkgewogICAgICBwYXJlbnQgPSBwYXJlbnQuaG9zdDsKICAgIH0KICAgIHJldHVybiBwYXJlbnQ7CiAgfSwKICBnZXRQYXJlbnRzOiBmdW5jdGlvbiBnZXRQYXJlbnRzKGVsZW1lbnQpIHsKICAgIHZhciBwYXJlbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudE5vZGUoZWxlbWVudCk7CiAgICByZXR1cm4gcGFyZW50ID09PSBudWxsID8gcGFyZW50cyA6IHRoaXMuZ2V0UGFyZW50cyhwYXJlbnQsIHBhcmVudHMuY29uY2F0KFtwYXJlbnRdKSk7CiAgfSwKICBnZXRTY3JvbGxhYmxlUGFyZW50czogZnVuY3Rpb24gZ2V0U2Nyb2xsYWJsZVBhcmVudHMoZWxlbWVudCkgewogICAgdmFyIHNjcm9sbGFibGVQYXJlbnRzID0gW107CiAgICBpZiAoZWxlbWVudCkgewogICAgICB2YXIgcGFyZW50cyA9IHRoaXMuZ2V0UGFyZW50cyhlbGVtZW50KTsKICAgICAgdmFyIG92ZXJmbG93UmVnZXggPSAvKGF1dG98c2Nyb2xsKS87CiAgICAgIHZhciBvdmVyZmxvd0NoZWNrID0gZnVuY3Rpb24gb3ZlcmZsb3dDaGVjayhub2RlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBzdHlsZURlY2xhcmF0aW9uID0gd2luZG93WydnZXRDb21wdXRlZFN0eWxlJ10obm9kZSwgbnVsbCk7CiAgICAgICAgICByZXR1cm4gb3ZlcmZsb3dSZWdleC50ZXN0KHN0eWxlRGVjbGFyYXRpb24uZ2V0UHJvcGVydHlWYWx1ZSgnb3ZlcmZsb3cnKSkgfHwgb3ZlcmZsb3dSZWdleC50ZXN0KHN0eWxlRGVjbGFyYXRpb24uZ2V0UHJvcGVydHlWYWx1ZSgnb3ZlcmZsb3dYJykpIHx8IG92ZXJmbG93UmVnZXgudGVzdChzdHlsZURlY2xhcmF0aW9uLmdldFByb3BlcnR5VmFsdWUoJ292ZXJmbG93WScpKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKHBhcmVudHMpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcGFyZW50ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgc2Nyb2xsU2VsZWN0b3JzID0gcGFyZW50Lm5vZGVUeXBlID09PSAxICYmIHBhcmVudC5kYXRhc2V0WydzY3JvbGxzZWxlY3RvcnMnXTsKICAgICAgICAgIGlmIChzY3JvbGxTZWxlY3RvcnMpIHsKICAgICAgICAgICAgdmFyIHNlbGVjdG9ycyA9IHNjcm9sbFNlbGVjdG9ycy5zcGxpdCgnLCcpOwogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEoc2VsZWN0b3JzKSwKICAgICAgICAgICAgICBfc3RlcDI7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciBlbCA9IHRoaXMuZmluZFNpbmdsZShwYXJlbnQsIHNlbGVjdG9yKTsKICAgICAgICAgICAgICAgIGlmIChlbCAmJiBvdmVyZmxvd0NoZWNrKGVsKSkgewogICAgICAgICAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50cy5wdXNoKGVsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocGFyZW50Lm5vZGVUeXBlICE9PSA5ICYmIG92ZXJmbG93Q2hlY2socGFyZW50KSkgewogICAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50cy5wdXNoKHBhcmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBzY3JvbGxhYmxlUGFyZW50czsKICB9LAogIGdldEhpZGRlbkVsZW1lbnRPdXRlckhlaWdodDogZnVuY3Rpb24gZ2V0SGlkZGVuRWxlbWVudE91dGVySGVpZ2h0KGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB2YXIgZWxlbWVudEhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKICAgICAgcmV0dXJuIGVsZW1lbnRIZWlnaHQ7CiAgICB9CiAgICByZXR1cm4gMDsKICB9LAogIGdldEhpZGRlbkVsZW1lbnRPdXRlcldpZHRoOiBmdW5jdGlvbiBnZXRIaWRkZW5FbGVtZW50T3V0ZXJXaWR0aChlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudCkgewogICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgdmFyIGVsZW1lbnRXaWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7CiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnOwogICAgICByZXR1cm4gZWxlbWVudFdpZHRoOwogICAgfQogICAgcmV0dXJuIDA7CiAgfSwKICBnZXRIaWRkZW5FbGVtZW50RGltZW5zaW9uczogZnVuY3Rpb24gZ2V0SGlkZGVuRWxlbWVudERpbWVuc2lvbnMoZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQpIHsKICAgICAgdmFyIGRpbWVuc2lvbnMgPSB7fTsKICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgIGRpbWVuc2lvbnMud2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoOwogICAgICBkaW1lbnNpb25zLmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKICAgICAgcmV0dXJuIGRpbWVuc2lvbnM7CiAgICB9CiAgICByZXR1cm4gMDsKICB9LAogIGZhZGVJbjogZnVuY3Rpb24gZmFkZUluKGVsZW1lbnQsIGR1cmF0aW9uKSB7CiAgICBpZiAoZWxlbWVudCkgewogICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICB2YXIgbGFzdCA9ICtuZXcgRGF0ZSgpOwogICAgICB2YXIgb3BhY2l0eSA9IDA7CiAgICAgIHZhciB0aWNrID0gZnVuY3Rpb24gdGljaygpIHsKICAgICAgICBvcGFjaXR5ID0gK2VsZW1lbnQuc3R5bGUub3BhY2l0eSArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxhc3QpIC8gZHVyYXRpb247CiAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eTsKICAgICAgICBsYXN0ID0gK25ldyBEYXRlKCk7CiAgICAgICAgaWYgKCtvcGFjaXR5IDwgMSkgewogICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljaykgfHwgc2V0VGltZW91dCh0aWNrLCAxNik7CiAgICAgICAgfQogICAgICB9OwogICAgICB0aWNrKCk7CiAgICB9CiAgfSwKICBmYWRlT3V0OiBmdW5jdGlvbiBmYWRlT3V0KGVsZW1lbnQsIG1zKSB7CiAgICBpZiAoZWxlbWVudCkgewogICAgICB2YXIgb3BhY2l0eSA9IDEsCiAgICAgICAgaW50ZXJ2YWwgPSA1MCwKICAgICAgICBkdXJhdGlvbiA9IG1zLAogICAgICAgIGdhcCA9IGludGVydmFsIC8gZHVyYXRpb247CiAgICAgIHZhciBmYWRpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgb3BhY2l0eSAtPSBnYXA7CiAgICAgICAgaWYgKG9wYWNpdHkgPD0gMCkgewogICAgICAgICAgb3BhY2l0eSA9IDA7CiAgICAgICAgICBjbGVhckludGVydmFsKGZhZGluZyk7CiAgICAgICAgfQogICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7CiAgICAgIH0sIGludGVydmFsKTsKICAgIH0KICB9LAogIGdldFVzZXJBZ2VudDogZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkgewogICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgfSwKICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gYXBwZW5kQ2hpbGQoZWxlbWVudCwgdGFyZ2V0KSB7CiAgICBpZiAodGhpcy5pc0VsZW1lbnQodGFyZ2V0KSkgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW1lbnQpO2Vsc2UgaWYgKHRhcmdldC5lbCAmJiB0YXJnZXQuZWxFbGVtZW50KSB0YXJnZXQuZWxFbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXBwZW5kICcgKyB0YXJnZXQgKyAnIHRvICcgKyBlbGVtZW50KTsKICB9LAogIGlzRWxlbWVudDogZnVuY3Rpb24gaXNFbGVtZW50KG9iaikgewogICAgcmV0dXJuICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mJDMoSFRNTEVsZW1lbnQpKSA9PT0gJ29iamVjdCcgPyBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA6IG9iaiAmJiBfdHlwZW9mJDMob2JqKSA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsICYmIG9iai5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2Ygb2JqLm5vZGVOYW1lID09PSAnc3RyaW5nJzsKICB9LAogIHNjcm9sbEluVmlldzogZnVuY3Rpb24gc2Nyb2xsSW5WaWV3KGNvbnRhaW5lciwgaXRlbSkgewogICAgdmFyIGJvcmRlclRvcFZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlclRvcFdpZHRoJyk7CiAgICB2YXIgYm9yZGVyVG9wID0gYm9yZGVyVG9wVmFsdWUgPyBwYXJzZUZsb2F0KGJvcmRlclRvcFZhbHVlKSA6IDA7CiAgICB2YXIgcGFkZGluZ1RvcFZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmdUb3AnKTsKICAgIHZhciBwYWRkaW5nVG9wID0gcGFkZGluZ1RvcFZhbHVlID8gcGFyc2VGbG9hdChwYWRkaW5nVG9wVmFsdWUpIDogMDsKICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgdmFyIGl0ZW1SZWN0ID0gaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIHZhciBvZmZzZXQgPSBpdGVtUmVjdC50b3AgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCAtIChjb250YWluZXJSZWN0LnRvcCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSAtIGJvcmRlclRvcCAtIHBhZGRpbmdUb3A7CiAgICB2YXIgc2Nyb2xsID0gY29udGFpbmVyLnNjcm9sbFRvcDsKICAgIHZhciBlbGVtZW50SGVpZ2h0ID0gY29udGFpbmVyLmNsaWVudEhlaWdodDsKICAgIHZhciBpdGVtSGVpZ2h0ID0gdGhpcy5nZXRPdXRlckhlaWdodChpdGVtKTsKICAgIGlmIChvZmZzZXQgPCAwKSB7CiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGwgKyBvZmZzZXQ7CiAgICB9IGVsc2UgaWYgKG9mZnNldCArIGl0ZW1IZWlnaHQgPiBlbGVtZW50SGVpZ2h0KSB7CiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGwgKyBvZmZzZXQgLSBlbGVtZW50SGVpZ2h0ICsgaXRlbUhlaWdodDsKICAgIH0KICB9LAogIGNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7CiAgICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZW1wdHkpIHsKICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZW1wdHkoKTsKICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yYW5nZUNvdW50ID4gMCAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA+IDApIHsKICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRbJ3NlbGVjdGlvbiddICYmIGRvY3VtZW50WydzZWxlY3Rpb24nXS5lbXB0eSkgewogICAgICB0cnkgewogICAgICAgIGRvY3VtZW50WydzZWxlY3Rpb24nXS5lbXB0eSgpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIC8vaWdub3JlIElFIGJ1ZwogICAgICB9CiAgICB9CiAgfSwKICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7ZWxzZSBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKSByZXR1cm4gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTtlbHNlIGlmIChkb2N1bWVudFsnc2VsZWN0aW9uJ10pIHJldHVybiBkb2N1bWVudFsnc2VsZWN0aW9uJ10uY3JlYXRlUmFuZ2UoKS50ZXh0OwogICAgcmV0dXJuIG51bGw7CiAgfSwKICBjYWxjdWxhdGVTY3JvbGxiYXJXaWR0aDogZnVuY3Rpb24gY2FsY3VsYXRlU2Nyb2xsYmFyV2lkdGgoKSB7CiAgICBpZiAodGhpcy5jYWxjdWxhdGVkU2Nyb2xsYmFyV2lkdGggIT0gbnVsbCkgcmV0dXJuIHRoaXMuY2FsY3VsYXRlZFNjcm9sbGJhcldpZHRoOwogICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy5hZGRTdHlsZXMoc2Nyb2xsRGl2LCB7CiAgICAgIHdpZHRoOiAnMTAwcHgnLAogICAgICBoZWlnaHQ6ICcxMDBweCcsCiAgICAgIG92ZXJmbG93OiAnc2Nyb2xsJywKICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgIHRvcDogJy05OTk5cHgnCiAgICB9KTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTsKICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDsKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTsKICAgIHRoaXMuY2FsY3VsYXRlZFNjcm9sbGJhcldpZHRoID0gc2Nyb2xsYmFyV2lkdGg7CiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7CiAgfSwKICBjYWxjdWxhdGVCb2R5U2Nyb2xsYmFyV2lkdGg6IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvZHlTY3JvbGxiYXJXaWR0aCgpIHsKICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDsKICB9LAogIGdldEJyb3dzZXI6IGZ1bmN0aW9uIGdldEJyb3dzZXIoKSB7CiAgICBpZiAoIXRoaXMuYnJvd3NlcikgewogICAgICB2YXIgbWF0Y2hlZCA9IHRoaXMucmVzb2x2ZVVzZXJBZ2VudCgpOwogICAgICB0aGlzLmJyb3dzZXIgPSB7fTsKICAgICAgaWYgKG1hdGNoZWQuYnJvd3NlcikgewogICAgICAgIHRoaXMuYnJvd3NlclttYXRjaGVkLmJyb3dzZXJdID0gdHJ1ZTsKICAgICAgICB0aGlzLmJyb3dzZXJbJ3ZlcnNpb24nXSA9IG1hdGNoZWQudmVyc2lvbjsKICAgICAgfQogICAgICBpZiAodGhpcy5icm93c2VyWydjaHJvbWUnXSkgewogICAgICAgIHRoaXMuYnJvd3Nlclsnd2Via2l0J10gPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuYnJvd3Nlclsnd2Via2l0J10pIHsKICAgICAgICB0aGlzLmJyb3dzZXJbJ3NhZmFyaSddID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXMuYnJvd3NlcjsKICB9LAogIHJlc29sdmVVc2VyQWdlbnQ6IGZ1bmN0aW9uIHJlc29sdmVVc2VyQWdlbnQoKSB7CiAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgbWF0Y2ggPSAvKGNocm9tZSlbIF0oW1x3Ll0rKS8uZXhlYyh1YSkgfHwgLyh3ZWJraXQpWyBdKFtcdy5dKykvLmV4ZWModWEpIHx8IC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIF0oW1x3Ll0rKS8uZXhlYyh1YSkgfHwgLyhtc2llKSAoW1x3Ll0rKS8uZXhlYyh1YSkgfHwgdWEuaW5kZXhPZignY29tcGF0aWJsZScpIDwgMCAmJiAvKG1vemlsbGEpKD86Lio/IHJ2OihbXHcuXSspfCkvLmV4ZWModWEpIHx8IFtdOwogICAgcmV0dXJuIHsKICAgICAgYnJvd3NlcjogbWF0Y2hbMV0gfHwgJycsCiAgICAgIHZlcnNpb246IG1hdGNoWzJdIHx8ICcwJwogICAgfTsKICB9LAogIGlzVmlzaWJsZTogZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQub2Zmc2V0UGFyZW50ICE9IG51bGw7CiAgfSwKICBpbnZva2VFbGVtZW50TWV0aG9kOiBmdW5jdGlvbiBpbnZva2VFbGVtZW50TWV0aG9kKGVsZW1lbnQsIG1ldGhvZE5hbWUsIGFyZ3MpIHsKICAgIGVsZW1lbnRbbWV0aG9kTmFtZV0uYXBwbHkoZWxlbWVudCwgYXJncyk7CiAgfSwKICBpc0V4aXN0OiBmdW5jdGlvbiBpc0V4aXN0KGVsZW1lbnQpIHsKICAgIHJldHVybiAhIShlbGVtZW50ICE9PSBudWxsICYmIHR5cGVvZiBlbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBlbGVtZW50Lm5vZGVOYW1lICYmIHRoaXMuZ2V0UGFyZW50Tm9kZShlbGVtZW50KSk7CiAgfSwKICBpc0NsaWVudDogZnVuY3Rpb24gaXNDbGllbnQoKSB7CiAgICByZXR1cm4gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTsKICB9LAogIGZvY3VzOiBmdW5jdGlvbiBmb2N1cyhlbCwgb3B0aW9ucykgewogICAgZWwgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZWwgJiYgZWwuZm9jdXMob3B0aW9ucyk7CiAgfSwKICBpc0ZvY3VzYWJsZUVsZW1lbnQ6IGZ1bmN0aW9uIGlzRm9jdXNhYmxlRWxlbWVudChlbGVtZW50KSB7CiAgICB2YXIgc2VsZWN0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgcmV0dXJuIHRoaXMuaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5tYXRjaGVzKCJidXR0b246bm90KFt0YWJpbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSIuY29uY2F0KHNlbGVjdG9yLCAiLFxuICAgICAgICAgICAgICAgIFtocmVmXVtjbGllbnRIZWlnaHRdW2NsaWVudFdpZHRoXTpub3QoW3RhYmluZGV4ID0gXCItMVwiXSk6bm90KFtkaXNhYmxlZF0pOm5vdChbc3R5bGUqPVwiZGlzcGxheTpub25lXCJdKTpub3QoW2hpZGRlbl0pIikuY29uY2F0KHNlbGVjdG9yLCAiLFxuICAgICAgICAgICAgICAgIGlucHV0Om5vdChbdGFiaW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSkiKS5jb25jYXQoc2VsZWN0b3IsICIsXG4gICAgICAgICAgICAgICAgc2VsZWN0Om5vdChbdGFiaW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSkiKS5jb25jYXQoc2VsZWN0b3IsICIsXG4gICAgICAgICAgICAgICAgdGV4dGFyZWE6bm90KFt0YWJpbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSIpLmNvbmNhdChzZWxlY3RvciwgIixcbiAgICAgICAgICAgICAgICBbdGFiSW5kZXhdOm5vdChbdGFiSW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSkiKS5jb25jYXQoc2VsZWN0b3IsICIsXG4gICAgICAgICAgICAgICAgW2NvbnRlbnRlZGl0YWJsZV06bm90KFt0YWJJbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSIpLmNvbmNhdChzZWxlY3RvcikpIDogZmFsc2U7CiAgfSwKICBnZXRGb2N1c2FibGVFbGVtZW50czogZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWxlbWVudCkgewogICAgdmFyIHNlbGVjdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJzsKICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IHRoaXMuZmluZChlbGVtZW50LCAiYnV0dG9uOm5vdChbdGFiaW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSkiLmNvbmNhdChzZWxlY3RvciwgIixcbiAgICAgICAgICAgICAgICBbaHJlZl1bY2xpZW50SGVpZ2h0XVtjbGllbnRXaWR0aF06bm90KFt0YWJpbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSIpLmNvbmNhdChzZWxlY3RvciwgIixcbiAgICAgICAgICAgICAgICBpbnB1dDpub3QoW3RhYmluZGV4ID0gXCItMVwiXSk6bm90KFtkaXNhYmxlZF0pOm5vdChbc3R5bGUqPVwiZGlzcGxheTpub25lXCJdKTpub3QoW2hpZGRlbl0pIikuY29uY2F0KHNlbGVjdG9yLCAiLFxuICAgICAgICAgICAgICAgIHNlbGVjdDpub3QoW3RhYmluZGV4ID0gXCItMVwiXSk6bm90KFtkaXNhYmxlZF0pOm5vdChbc3R5bGUqPVwiZGlzcGxheTpub25lXCJdKTpub3QoW2hpZGRlbl0pIikuY29uY2F0KHNlbGVjdG9yLCAiLFxuICAgICAgICAgICAgICAgIHRleHRhcmVhOm5vdChbdGFiaW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSkiKS5jb25jYXQoc2VsZWN0b3IsICIsXG4gICAgICAgICAgICAgICAgW3RhYkluZGV4XTpub3QoW3RhYkluZGV4ID0gXCItMVwiXSk6bm90KFtkaXNhYmxlZF0pOm5vdChbc3R5bGUqPVwiZGlzcGxheTpub25lXCJdKTpub3QoW2hpZGRlbl0pIikuY29uY2F0KHNlbGVjdG9yLCAiLFxuICAgICAgICAgICAgICAgIFtjb250ZW50ZWRpdGFibGVdOm5vdChbdGFiSW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSkiKS5jb25jYXQoc2VsZWN0b3IpKTsKICAgIHZhciB2aXNpYmxlRm9jdXNhYmxlRWxlbWVudHMgPSBbXTsKICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShmb2N1c2FibGVFbGVtZW50cyksCiAgICAgIF9zdGVwMzsKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGZvY3VzYWJsZUVsZW1lbnQgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZm9jdXNhYmxlRWxlbWVudCkuZGlzcGxheSAhPSAnbm9uZScgJiYgZ2V0Q29tcHV0ZWRTdHlsZShmb2N1c2FibGVFbGVtZW50KS52aXNpYmlsaXR5ICE9ICdoaWRkZW4nKSB2aXNpYmxlRm9jdXNhYmxlRWxlbWVudHMucHVzaChmb2N1c2FibGVFbGVtZW50KTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICB9CiAgICByZXR1cm4gdmlzaWJsZUZvY3VzYWJsZUVsZW1lbnRzOwogIH0sCiAgZ2V0Rmlyc3RGb2N1c2FibGVFbGVtZW50OiBmdW5jdGlvbiBnZXRGaXJzdEZvY3VzYWJsZUVsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IpIHsKICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IHRoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWxlbWVudCwgc2VsZWN0b3IpOwogICAgcmV0dXJuIGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA+IDAgPyBmb2N1c2FibGVFbGVtZW50c1swXSA6IG51bGw7CiAgfSwKICBnZXRMYXN0Rm9jdXNhYmxlRWxlbWVudDogZnVuY3Rpb24gZ2V0TGFzdEZvY3VzYWJsZUVsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IpIHsKICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IHRoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWxlbWVudCwgc2VsZWN0b3IpOwogICAgcmV0dXJuIGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA+IDAgPyBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxXSA6IG51bGw7CiAgfSwKICBnZXROZXh0Rm9jdXNhYmxlRWxlbWVudDogZnVuY3Rpb24gZ2V0TmV4dEZvY3VzYWJsZUVsZW1lbnQoY29udGFpbmVyLCBlbGVtZW50LCBzZWxlY3RvcikgewogICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRzID0gdGhpcy5nZXRGb2N1c2FibGVFbGVtZW50cyhjb250YWluZXIsIHNlbGVjdG9yKTsKICAgIHZhciBpbmRleCA9IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA+IDAgPyBmb2N1c2FibGVFbGVtZW50cy5maW5kSW5kZXgoZnVuY3Rpb24gKGVsKSB7CiAgICAgIHJldHVybiBlbCA9PT0gZWxlbWVudDsKICAgIH0pIDogLTE7CiAgICB2YXIgbmV4dEluZGV4ID0gaW5kZXggPiAtMSAmJiBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPj0gaW5kZXggKyAxID8gaW5kZXggKyAxIDogLTE7CiAgICByZXR1cm4gbmV4dEluZGV4ID4gLTEgPyBmb2N1c2FibGVFbGVtZW50c1tuZXh0SW5kZXhdIDogbnVsbDsKICB9LAogIGdldFByZXZpb3VzRWxlbWVudFNpYmxpbmc6IGZ1bmN0aW9uIGdldFByZXZpb3VzRWxlbWVudFNpYmxpbmcoZWxlbWVudCwgc2VsZWN0b3IpIHsKICAgIHZhciBwcmV2aW91c0VsZW1lbnQgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7CiAgICB3aGlsZSAocHJldmlvdXNFbGVtZW50KSB7CiAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHsKICAgICAgICByZXR1cm4gcHJldmlvdXNFbGVtZW50OwogICAgICB9IGVsc2UgewogICAgICAgIHByZXZpb3VzRWxlbWVudCA9IHByZXZpb3VzRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9LAogIGdldE5leHRFbGVtZW50U2libGluZzogZnVuY3Rpb24gZ2V0TmV4dEVsZW1lbnRTaWJsaW5nKGVsZW1lbnQsIHNlbGVjdG9yKSB7CiAgICB2YXIgbmV4dEVsZW1lbnQgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZzsKICAgIHdoaWxlIChuZXh0RWxlbWVudCkgewogICAgICBpZiAobmV4dEVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHsKICAgICAgICByZXR1cm4gbmV4dEVsZW1lbnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dEVsZW1lbnQgPSBuZXh0RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0sCiAgaXNDbGlja2FibGU6IGZ1bmN0aW9uIGlzQ2xpY2thYmxlKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50KSB7CiAgICAgIHZhciB0YXJnZXROb2RlID0gZWxlbWVudC5ub2RlTmFtZTsKICAgICAgdmFyIHBhcmVudE5vZGUgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnRFbGVtZW50Lm5vZGVOYW1lOwogICAgICByZXR1cm4gdGFyZ2V0Tm9kZSA9PT0gJ0lOUFVUJyB8fCB0YXJnZXROb2RlID09PSAnVEVYVEFSRUEnIHx8IHRhcmdldE5vZGUgPT09ICdCVVRUT04nIHx8IHRhcmdldE5vZGUgPT09ICdBJyB8fCBwYXJlbnROb2RlID09PSAnSU5QVVQnIHx8IHBhcmVudE5vZGUgPT09ICdURVhUQVJFQScgfHwgcGFyZW50Tm9kZSA9PT0gJ0JVVFRPTicgfHwgcGFyZW50Tm9kZSA9PT0gJ0EnIHx8ICEhZWxlbWVudC5jbG9zZXN0KCcucC1idXR0b24sIC5wLWNoZWNrYm94LCAucC1yYWRpb2J1dHRvbicpIC8vIEB0b2RvIEFkZCBbZGF0YS1wYy1zZWN0aW9uPSJidXR0b24iXQogICAgICA7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfSwKICBhcHBseVN0eWxlOiBmdW5jdGlvbiBhcHBseVN0eWxlKGVsZW1lbnQsIHN0eWxlKSB7CiAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykgewogICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZTsKICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIHByb3AgaW4gc3R5bGUpIHsKICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gc3R5bGVbcHJvcF07CiAgICAgIH0KICAgIH0KICB9LAogIGlzSU9TOiBmdW5jdGlvbiBpc0lPUygpIHsKICAgIHJldHVybiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhd2luZG93WydNU1N0cmVhbSddOwogIH0sCiAgaXNBbmRyb2lkOiBmdW5jdGlvbiBpc0FuZHJvaWQoKSB7CiAgICByZXR1cm4gLyhhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgfSwKICBpc1RvdWNoRGV2aWNlOiBmdW5jdGlvbiBpc1RvdWNoRGV2aWNlKCkgewogICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwIHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMDsKICB9LAogIGhhc0NTU0FuaW1hdGlvbjogZnVuY3Rpb24gaGFzQ1NTQW5pbWF0aW9uKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50KSB7CiAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7CiAgICAgIHZhciBhbmltYXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYW5pbWF0aW9uLWR1cmF0aW9uJykgfHwgJzAnKTsKICAgICAgcmV0dXJuIGFuaW1hdGlvbkR1cmF0aW9uID4gMDsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9LAogIGhhc0NTU1RyYW5zaXRpb246IGZ1bmN0aW9uIGhhc0NTU1RyYW5zaXRpb24oZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQpIHsKICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTsKICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndHJhbnNpdGlvbi1kdXJhdGlvbicpIHx8ICcwJyk7CiAgICAgIHJldHVybiB0cmFuc2l0aW9uRHVyYXRpb24gPiAwOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0sCiAgZXhwb3J0Q1NWOiBmdW5jdGlvbiBleHBvcnRDU1YoY3N2LCBmaWxlbmFtZSkgewogICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY3N2XSwgewogICAgICB0eXBlOiAnYXBwbGljYXRpb24vY3N2O2NoYXJzZXQ9dXRmLTg7JwogICAgfSk7CiAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7CiAgICAgIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIGZpbGVuYW1lICsgJy5jc3YnKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICBpZiAobGluay5kb3dubG9hZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTsKICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlbmFtZSArICcuY3N2Jyk7CiAgICAgICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3N2ID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwnICsgY3N2OwogICAgICAgIHdpbmRvdy5vcGVuKGVuY29kZVVSSShjc3YpKTsKICAgICAgfQogICAgfQogIH0sCiAgYmxvY2tCb2R5U2Nyb2xsOiBmdW5jdGlvbiBibG9ja0JvZHlTY3JvbGwoKSB7CiAgICB2YXIgY2xhc3NOYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAncC1vdmVyZmxvdy1oaWRkZW4nOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zY3JvbGxiYXItd2lkdGgnLCB0aGlzLmNhbGN1bGF0ZUJvZHlTY3JvbGxiYXJXaWR0aCgpICsgJ3B4Jyk7CiAgICB0aGlzLmFkZENsYXNzKGRvY3VtZW50LmJvZHksIGNsYXNzTmFtZSk7CiAgfSwKICB1bmJsb2NrQm9keVNjcm9sbDogZnVuY3Rpb24gdW5ibG9ja0JvZHlTY3JvbGwoKSB7CiAgICB2YXIgY2xhc3NOYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAncC1vdmVyZmxvdy1oaWRkZW4nOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1zY3JvbGxiYXItd2lkdGgnKTsKICAgIHRoaXMucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgY2xhc3NOYW1lKTsKICB9Cn07CmZ1bmN0aW9uIF90eXBlb2YkMihvKSB7CiAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgcmV0dXJuIF90eXBlb2YkMiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiAic3ltYm9sIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsKICAgIHJldHVybiB0eXBlb2YgbzsKICB9IDogZnVuY3Rpb24gKG8pIHsKICAgIHJldHVybiBvICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG87CiAgfSwgX3R5cGVvZiQyKG8pOwp9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQxKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMkMSh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkkMShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOwogIH0KfQpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MkMShDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMkMShDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkMShDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgInByb3RvdHlwZSIsIHsKICAgIHdyaXRhYmxlOiBmYWxzZQogIH0pOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSQxKHQpIHsKICB2YXIgaSA9IF90b1ByaW1pdGl2ZSQxKHQsICJzdHJpbmciKTsKICByZXR1cm4gInN5bWJvbCIgPT0gX3R5cGVvZiQyKGkpID8gaSA6IFN0cmluZyhpKTsKfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUkMSh0LCByKSB7CiAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YkMih0KSB8fCAhdCkgcmV0dXJuIHQ7CiAgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07CiAgaWYgKHZvaWQgMCAhPT0gZSkgewogICAgdmFyIGkgPSBlLmNhbGwodCwgciB8fCAiZGVmYXVsdCIpOwogICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YkMihpKSkgcmV0dXJuIGk7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOwogIH0KICByZXR1cm4gKCJzdHJpbmciID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsKfQp2YXIgQ29ubmVjdGVkT3ZlcmxheVNjcm9sbEhhbmRsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENvbm5lY3RlZE92ZXJsYXlTY3JvbGxIYW5kbGVyKGVsZW1lbnQpIHsKICAgIHZhciBsaXN0ZW5lciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZnVuY3Rpb24gKCkge307CiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBDb25uZWN0ZWRPdmVybGF5U2Nyb2xsSGFuZGxlcik7CiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50OwogICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyOwogIH0KICBfY3JlYXRlQ2xhc3MkMShDb25uZWN0ZWRPdmVybGF5U2Nyb2xsSGFuZGxlciwgW3sKICAgIGtleTogImJpbmRTY3JvbGxMaXN0ZW5lciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZFNjcm9sbExpc3RlbmVyKCkgewogICAgICB0aGlzLnNjcm9sbGFibGVQYXJlbnRzID0gRG9tSGFuZGxlci5nZXRTY3JvbGxhYmxlUGFyZW50cyh0aGlzLmVsZW1lbnQpOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2Nyb2xsYWJsZVBhcmVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnNjcm9sbGFibGVQYXJlbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMubGlzdGVuZXIpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAidW5iaW5kU2Nyb2xsTGlzdGVuZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVuYmluZFNjcm9sbExpc3RlbmVyKCkgewogICAgICBpZiAodGhpcy5zY3JvbGxhYmxlUGFyZW50cykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zY3JvbGxhYmxlUGFyZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5zY3JvbGxhYmxlUGFyZW50c1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmxpc3RlbmVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXN0cm95IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLnVuYmluZFNjcm9sbExpc3RlbmVyKCk7CiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7CiAgICAgIHRoaXMubGlzdGVuZXIgPSBudWxsOwogICAgICB0aGlzLnNjcm9sbGFibGVQYXJlbnRzID0gbnVsbDsKICAgIH0KICB9XSk7CiAgcmV0dXJuIENvbm5lY3RlZE92ZXJsYXlTY3JvbGxIYW5kbGVyOwp9KCk7CmZ1bmN0aW9uIHByaW1lYnVzKCkgewogIHZhciBhbGxIYW5kbGVycyA9IG5ldyBNYXAoKTsKICByZXR1cm4gewogICAgb246IGZ1bmN0aW9uIG9uKHR5cGUsIGhhbmRsZXIpIHsKICAgICAgdmFyIGhhbmRsZXJzID0gYWxsSGFuZGxlcnMuZ2V0KHR5cGUpOwogICAgICBpZiAoIWhhbmRsZXJzKSBoYW5kbGVycyA9IFtoYW5kbGVyXTtlbHNlIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7CiAgICAgIGFsbEhhbmRsZXJzLnNldCh0eXBlLCBoYW5kbGVycyk7CiAgICB9LAogICAgb2ZmOiBmdW5jdGlvbiBvZmYodHlwZSwgaGFuZGxlcikgewogICAgICB2YXIgaGFuZGxlcnMgPSBhbGxIYW5kbGVycy5nZXQodHlwZSk7CiAgICAgIGlmIChoYW5kbGVycykgewogICAgICAgIGhhbmRsZXJzLnNwbGljZShoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpID4+PiAwLCAxKTsKICAgICAgfQogICAgfSwKICAgIGVtaXQ6IGZ1bmN0aW9uIGVtaXQodHlwZSwgZXZ0KSB7CiAgICAgIHZhciBoYW5kbGVycyA9IGFsbEhhbmRsZXJzLmdldCh0eXBlKTsKICAgICAgaWYgKGhhbmRsZXJzKSB7CiAgICAgICAgaGFuZGxlcnMuc2xpY2UoKS5tYXAoZnVuY3Rpb24gKGhhbmRsZXIpIHsKICAgICAgICAgIGhhbmRsZXIoZXZ0KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH07Cn0KZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKfQpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgewogIHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbIkBAaXRlcmF0b3IiXTsKICBpZiAobnVsbCAhPSB0KSB7CiAgICB2YXIgZSwKICAgICAgbiwKICAgICAgaSwKICAgICAgdSwKICAgICAgYSA9IFtdLAogICAgICBmID0gITAsCiAgICAgIG8gPSAhMTsKICAgIHRyeSB7CiAgICAgIGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsKICAgICAgICBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47CiAgICAgICAgZiA9ICExOwogICAgICB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7CiAgICB9IGNhdGNoIChyKSB7CiAgICAgIG8gPSAhMCwgbiA9IHI7CiAgICB9IGZpbmFsbHkgewogICAgICB0cnkgewogICAgICAgIGlmICghZiAmJiBudWxsICE9IHRbInJldHVybiJdICYmICh1ID0gdFsicmV0dXJuIl0oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGlmIChvKSB0aHJvdyBuOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gYTsKICB9Cn0KZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5JDIoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyQyKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheSQyKGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDIoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQkMigpOwp9CmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCQyKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwp9CmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkkMihpdGVyKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbIkBAaXRlcmF0b3IiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMkMihhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihhcnIpOwp9CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7CiAgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsKICBpZiAoIWl0KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7CiAgICAgIGlmIChpdCkgbyA9IGl0OwogICAgICB2YXIgaSA9IDA7CiAgICAgIHZhciBGID0gZnVuY3Rpb24gRigpIHt9OwogICAgICByZXR1cm4gewogICAgICAgIHM6IEYsCiAgICAgICAgbjogZnVuY3Rpb24gbigpIHsKICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4gewogICAgICAgICAgICBkb25lOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZG9uZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiBvW2krK10KICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBlOiBmdW5jdGlvbiBlKF9lKSB7CiAgICAgICAgICB0aHJvdyBfZTsKICAgICAgICB9LAogICAgICAgIGY6IEYKICAgICAgfTsKICAgIH0KICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICB9CiAgdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLAogICAgZGlkRXJyID0gZmFsc2UsCiAgICBlcnI7CiAgcmV0dXJuIHsKICAgIHM6IGZ1bmN0aW9uIHMoKSB7CiAgICAgIGl0ID0gaXQuY2FsbChvKTsKICAgIH0sCiAgICBuOiBmdW5jdGlvbiBuKCkgewogICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTsKICAgICAgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsKICAgICAgcmV0dXJuIHN0ZXA7CiAgICB9LAogICAgZTogZnVuY3Rpb24gZShfZTIpIHsKICAgICAgZGlkRXJyID0gdHJ1ZTsKICAgICAgZXJyID0gX2UyOwogICAgfSwKICAgIGY6IGZ1bmN0aW9uIGYoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0WyJyZXR1cm4iXSAhPSBudWxsKSBpdFsicmV0dXJuIl0oKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7CiAgICAgIH0KICAgIH0KICB9Owp9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8sIG1pbkxlbikgewogIGlmICghbykgcmV0dXJuOwogIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQyKG8sIG1pbkxlbik7CiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihvLCBtaW5MZW4pOwp9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDIoYXJyLCBsZW4pIHsKICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsKICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07CiAgcmV0dXJuIGFycjI7Cn0KZnVuY3Rpb24gX3R5cGVvZiQxKG8pIHsKICAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOwoKICByZXR1cm4gX3R5cGVvZiQxID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgewogICAgcmV0dXJuIHR5cGVvZiBvOwogIH0gOiBmdW5jdGlvbiAobykgewogICAgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsKICB9LCBfdHlwZW9mJDEobyk7Cn0KdmFyIE9iamVjdFV0aWxzID0gewogIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKG9iajEsIG9iajIsIGZpZWxkKSB7CiAgICBpZiAoZmllbGQpIHJldHVybiB0aGlzLnJlc29sdmVGaWVsZERhdGEob2JqMSwgZmllbGQpID09PSB0aGlzLnJlc29sdmVGaWVsZERhdGEob2JqMiwgZmllbGQpO2Vsc2UgcmV0dXJuIHRoaXMuZGVlcEVxdWFscyhvYmoxLCBvYmoyKTsKICB9LAogIGRlZXBFcXVhbHM6IGZ1bmN0aW9uIGRlZXBFcXVhbHMoYSwgYikgewogICAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlOwogICAgaWYgKGEgJiYgYiAmJiBfdHlwZW9mJDEoYSkgPT0gJ29iamVjdCcgJiYgX3R5cGVvZiQxKGIpID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBhcnJBID0gQXJyYXkuaXNBcnJheShhKSwKICAgICAgICBhcnJCID0gQXJyYXkuaXNBcnJheShiKSwKICAgICAgICBpLAogICAgICAgIGxlbmd0aCwKICAgICAgICBrZXk7CiAgICAgIGlmIChhcnJBICYmIGFyckIpIHsKICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDsKICAgICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSBpZiAoIXRoaXMuZGVlcEVxdWFscyhhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGlmIChhcnJBICE9IGFyckIpIHJldHVybiBmYWxzZTsKICAgICAgdmFyIGRhdGVBID0gYSBpbnN0YW5jZW9mIERhdGUsCiAgICAgICAgZGF0ZUIgPSBiIGluc3RhbmNlb2YgRGF0ZTsKICAgICAgaWYgKGRhdGVBICE9IGRhdGVCKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChkYXRlQSAmJiBkYXRlQikgcmV0dXJuIGEuZ2V0VGltZSgpID09IGIuZ2V0VGltZSgpOwogICAgICB2YXIgcmVnZXhwQSA9IGEgaW5zdGFuY2VvZiBSZWdFeHAsCiAgICAgICAgcmVnZXhwQiA9IGIgaW5zdGFuY2VvZiBSZWdFeHA7CiAgICAgIGlmIChyZWdleHBBICE9IHJlZ2V4cEIpIHJldHVybiBmYWxzZTsKICAgICAgaWYgKHJlZ2V4cEEgJiYgcmVnZXhwQikgcmV0dXJuIGEudG9TdHJpbmcoKSA9PSBiLnRvU3RyaW5nKCk7CiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7CiAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoOwogICAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlOwogICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHsKICAgICAgICBrZXkgPSBrZXlzW2ldOwogICAgICAgIGlmICghdGhpcy5kZWVwRXF1YWxzKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIGEgIT09IGEgJiYgYiAhPT0gYjsKICB9LAogIHJlc29sdmVGaWVsZERhdGE6IGZ1bmN0aW9uIHJlc29sdmVGaWVsZERhdGEoZGF0YSwgZmllbGQpIHsKICAgIGlmICghZGF0YSB8fCAhZmllbGQpIHsKICAgICAgLy8gc2hvcnQgY2lyY3VpdCBpZiB0aGVyZSBpcyBub3RoaW5nIHRvIHJlc29sdmUKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICB0cnkgewogICAgICB2YXIgdmFsdWUgPSBkYXRhW2ZpZWxkXTsKICAgICAgaWYgKHRoaXMuaXNOb3RFbXB0eSh2YWx1ZSkpIHJldHVybiB2YWx1ZTsKICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vcHJpbWVmYWNlcy9wcmltZXJlYWN0L2lzc3Vlcy80Nzk3CiAgICAgIC8vIGRvIG5vdGhpbmcgYW5kIGNvbnRpbnVlIHRvIG90aGVyIG1ldGhvZHMgdG8gcmVzb2x2ZSBmaWVsZCBkYXRhCiAgICB9CiAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoKSB7CiAgICAgIGlmICh0aGlzLmlzRnVuY3Rpb24oZmllbGQpKSB7CiAgICAgICAgcmV0dXJuIGZpZWxkKGRhdGEpOwogICAgICB9IGVsc2UgaWYgKGZpZWxkLmluZGV4T2YoJy4nKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZGF0YVtmaWVsZF07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGZpZWxkcyA9IGZpZWxkLnNwbGl0KCcuJyk7CiAgICAgICAgdmFyIF92YWx1ZSA9IGRhdGE7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBsZW47ICsraSkgewogICAgICAgICAgaWYgKF92YWx1ZSA9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfQogICAgICAgICAgX3ZhbHVlID0gX3ZhbHVlW2ZpZWxkc1tpXV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBfdmFsdWU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0sCiAgZ2V0SXRlbVZhbHVlOiBmdW5jdGlvbiBnZXRJdGVtVmFsdWUob2JqKSB7CiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgcGFyYW1zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KICAgIHJldHVybiB0aGlzLmlzRnVuY3Rpb24ob2JqKSA/IG9iai5hcHBseSh2b2lkIDAsIHBhcmFtcykgOiBvYmo7CiAgfSwKICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcih2YWx1ZSwgZmllbGRzLCBmaWx0ZXJWYWx1ZSkgewogICAgdmFyIGZpbHRlcmVkSXRlbXMgPSBbXTsKICAgIGlmICh2YWx1ZSkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmFsdWUpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihmaWVsZHMpLAogICAgICAgICAgICBfc3RlcDI7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBmaWVsZCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICBpZiAoU3RyaW5nKHRoaXMucmVzb2x2ZUZpZWxkRGF0YShpdGVtLCBmaWVsZCkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7CiAgICAgICAgICAgICAgICBmaWx0ZXJlZEl0ZW1zLnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZmlsdGVyZWRJdGVtczsKICB9LAogIHJlb3JkZXJBcnJheTogZnVuY3Rpb24gcmVvcmRlckFycmF5KHZhbHVlLCBmcm9tLCB0bykgewogICAgaWYgKHZhbHVlICYmIGZyb20gIT09IHRvKSB7CiAgICAgIGlmICh0byA+PSB2YWx1ZS5sZW5ndGgpIHsKICAgICAgICB0byAlPSB2YWx1ZS5sZW5ndGg7CiAgICAgICAgZnJvbSAlPSB2YWx1ZS5sZW5ndGg7CiAgICAgIH0KICAgICAgdmFsdWUuc3BsaWNlKHRvLCAwLCB2YWx1ZS5zcGxpY2UoZnJvbSwgMSlbMF0pOwogICAgfQogIH0sCiAgZmluZEluZGV4SW5MaXN0OiBmdW5jdGlvbiBmaW5kSW5kZXhJbkxpc3QodmFsdWUsIGxpc3QpIHsKICAgIHZhciBpbmRleCA9IC0xOwogICAgaWYgKGxpc3QpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGxpc3RbaV0gPT09IHZhbHVlKSB7CiAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBpbmRleDsKICB9LAogIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyh2YWx1ZSwgbGlzdCkgewogICAgaWYgKHZhbHVlICE9IG51bGwgJiYgbGlzdCAmJiBsaXN0Lmxlbmd0aCkgewogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGxpc3QpLAogICAgICAgIF9zdGVwMzsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHZhbCA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgIGlmICh0aGlzLmVxdWFscyh2YWx1ZSwgdmFsKSkgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0sCiAgaW5zZXJ0SW50b09yZGVyZWRBcnJheTogZnVuY3Rpb24gaW5zZXJ0SW50b09yZGVyZWRBcnJheShpdGVtLCBpbmRleCwgYXJyLCBzb3VyY2VBcnIpIHsKICAgIGlmIChhcnIubGVuZ3RoID4gMCkgewogICAgICB2YXIgaW5qZWN0ZWQgPSBmYWxzZTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgY3VycmVudEl0ZW1JbmRleCA9IHRoaXMuZmluZEluZGV4SW5MaXN0KGFycltpXSwgc291cmNlQXJyKTsKICAgICAgICBpZiAoY3VycmVudEl0ZW1JbmRleCA+IGluZGV4KSB7CiAgICAgICAgICBhcnIuc3BsaWNlKGksIDAsIGl0ZW0pOwogICAgICAgICAgaW5qZWN0ZWQgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaW5qZWN0ZWQpIHsKICAgICAgICBhcnIucHVzaChpdGVtKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYXJyLnB1c2goaXRlbSk7CiAgICB9CiAgfSwKICByZW1vdmVBY2NlbnRzOiBmdW5jdGlvbiByZW1vdmVBY2NlbnRzKHN0cikgewogICAgaWYgKHN0ciAmJiBzdHIuc2VhcmNoKC9bXHhDMC1ceEZGXS9nKSA+IC0xKSB7CiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9bXHhDMC1ceEM1XS9nLCAnQScpLnJlcGxhY2UoL1tceEM2XS9nLCAnQUUnKS5yZXBsYWNlKC9bXHhDN10vZywgJ0MnKS5yZXBsYWNlKC9bXHhDOC1ceENCXS9nLCAnRScpLnJlcGxhY2UoL1tceENDLVx4Q0ZdL2csICdJJykucmVwbGFjZSgvW1x4RDBdL2csICdEJykucmVwbGFjZSgvW1x4RDFdL2csICdOJykucmVwbGFjZSgvW1x4RDItXHhENlx4RDhdL2csICdPJykucmVwbGFjZSgvW1x4RDktXHhEQ10vZywgJ1UnKS5yZXBsYWNlKC9bXHhERF0vZywgJ1knKS5yZXBsYWNlKC9bXHhERV0vZywgJ1AnKS5yZXBsYWNlKC9bXHhFMC1ceEU1XS9nLCAnYScpLnJlcGxhY2UoL1tceEU2XS9nLCAnYWUnKS5yZXBsYWNlKC9bXHhFN10vZywgJ2MnKS5yZXBsYWNlKC9bXHhFOC1ceEVCXS9nLCAnZScpLnJlcGxhY2UoL1tceEVDLVx4RUZdL2csICdpJykucmVwbGFjZSgvW1x4RjFdL2csICduJykucmVwbGFjZSgvW1x4RjItXHhGNlx4RjhdL2csICdvJykucmVwbGFjZSgvW1x4RjktXHhGQ10vZywgJ3UnKS5yZXBsYWNlKC9bXHhGRV0vZywgJ3AnKS5yZXBsYWNlKC9bXHhGRFx4RkZdL2csICd5Jyk7CiAgICB9CiAgICByZXR1cm4gc3RyOwogIH0sCiAgZ2V0Vk5vZGVQcm9wOiBmdW5jdGlvbiBnZXRWTm9kZVByb3Aodm5vZGUsIHByb3ApIHsKICAgIGlmICh2bm9kZSkgewogICAgICB2YXIgcHJvcHMgPSB2bm9kZS5wcm9wczsKICAgICAgaWYgKHByb3BzKSB7CiAgICAgICAgdmFyIGtlYmFiUHJvcCA9IHByb3AucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTsKICAgICAgICB2YXIgcHJvcE5hbWUgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIGtlYmFiUHJvcCkgPyBrZWJhYlByb3AgOiBwcm9wOwogICAgICAgIHJldHVybiB2bm9kZS50eXBlWyJleHRlbmRzIl0ucHJvcHNbcHJvcF0udHlwZSA9PT0gQm9vbGVhbiAmJiBwcm9wc1twcm9wTmFtZV0gPT09ICcnID8gdHJ1ZSA6IHByb3BzW3Byb3BOYW1lXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfSwKICB0b0ZsYXRDYXNlOiBmdW5jdGlvbiB0b0ZsYXRDYXNlKHN0cikgewogICAgLy8gY29udmVydCBzbmFrZSwga2ViYWIsIGNhbWVsIGFuZCBwYXNjYWwgY2FzZXMgdG8gZmxhdCBjYXNlCiAgICByZXR1cm4gdGhpcy5pc1N0cmluZyhzdHIpID8gc3RyLnJlcGxhY2UoLygtfF8pL2csICcnKS50b0xvd2VyQ2FzZSgpIDogc3RyOwogIH0sCiAgdG9LZWJhYkNhc2U6IGZ1bmN0aW9uIHRvS2ViYWJDYXNlKHN0cikgewogICAgLy8gY29udmVydCBzbmFrZSwgY2FtZWwgYW5kIHBhc2NhbCBjYXNlcyB0byBrZWJhYiBjYXNlCiAgICByZXR1cm4gdGhpcy5pc1N0cmluZyhzdHIpID8gc3RyLnJlcGxhY2UoLyhfKS9nLCAnLScpLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uIChjLCBpKSB7CiAgICAgIHJldHVybiBpID09PSAwID8gYyA6ICctJyArIGMudG9Mb3dlckNhc2UoKTsKICAgIH0pLnRvTG93ZXJDYXNlKCkgOiBzdHI7CiAgfSwKICB0b0NhcGl0YWxDYXNlOiBmdW5jdGlvbiB0b0NhcGl0YWxDYXNlKHN0cikgewogICAgcmV0dXJuIHRoaXMuaXNTdHJpbmcoc3RyLCB7CiAgICAgIGVtcHR5OiBmYWxzZQogICAgfSkgPyBzdHJbMF0udG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKSA6IHN0cjsKICB9LAogIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJyB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDAgfHwgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpICYmIF90eXBlb2YkMSh2YWx1ZSkgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDA7CiAgfSwKICBpc05vdEVtcHR5OiBmdW5jdGlvbiBpc05vdEVtcHR5KHZhbHVlKSB7CiAgICByZXR1cm4gIXRoaXMuaXNFbXB0eSh2YWx1ZSk7CiAgfSwKICBpc0Z1bmN0aW9uOiBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY2FsbCAmJiB2YWx1ZS5hcHBseSk7CiAgfSwKICBpc09iamVjdDogZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHsKICAgIHZhciBlbXB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIChlbXB0eSB8fCBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoICE9PSAwKTsKICB9LAogIGlzRGF0ZTogZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBEYXRlOwogIH0sCiAgaXNBcnJheTogZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkgewogICAgdmFyIGVtcHR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIChlbXB0eSB8fCB2YWx1ZS5sZW5ndGggIT09IDApOwogIH0sCiAgaXNTdHJpbmc6IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7CiAgICB2YXIgZW1wdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAoZW1wdHkgfHwgdmFsdWUgIT09ICcnKTsKICB9LAogIGlzUHJpbnRhYmxlQ2hhcmFjdGVyOiBmdW5jdGlvbiBpc1ByaW50YWJsZUNoYXJhY3RlcigpIHsKICAgIHZhciBfY2hhciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICByZXR1cm4gdGhpcy5pc05vdEVtcHR5KF9jaGFyKSAmJiBfY2hhci5sZW5ndGggPT09IDEgJiYgX2NoYXIubWF0Y2goL1xTfCAvKTsKICB9LAogIC8qKgogICAqIEZpcmVmb3gtdjEwMyBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCB0aGUgImZpbmRMYXN0IiBtZXRob2QuIEl0IGlzIHN0YXRlZCB0aGF0IHRoaXMgbWV0aG9kIHdpbGwgYmUgc3VwcG9ydGVkIHdpdGggRmlyZWZveC12MTA0LgogICAqIGh0dHBzOi8vY2FuaXVzZS5jb20vbWRuLWphdmFzY3JpcHRfYnVpbHRpbnNfYXJyYXlfZmluZGxhc3QKICAgKi8KICBmaW5kTGFzdDogZnVuY3Rpb24gZmluZExhc3QoYXJyLCBjYWxsYmFjaykgewogICAgdmFyIGl0ZW07CiAgICBpZiAodGhpcy5pc05vdEVtcHR5KGFycikpIHsKICAgICAgdHJ5IHsKICAgICAgICBpdGVtID0gYXJyLmZpbmRMYXN0KGNhbGxiYWNrKTsKICAgICAgfSBjYXRjaCAoX3VudXNlZDIpIHsKICAgICAgICBpdGVtID0gX3RvQ29uc3VtYWJsZUFycmF5JDIoYXJyKS5yZXZlcnNlKCkuZmluZChjYWxsYmFjayk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBpdGVtOwogIH0sCiAgLyoqCiAgICogRmlyZWZveC12MTAzIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IHRoZSAiZmluZExhc3RJbmRleCIgbWV0aG9kLiBJdCBpcyBzdGF0ZWQgdGhhdCB0aGlzIG1ldGhvZCB3aWxsIGJlIHN1cHBvcnRlZCB3aXRoIEZpcmVmb3gtdjEwNC4KICAgKiBodHRwczovL2Nhbml1c2UuY29tL21kbi1qYXZhc2NyaXB0X2J1aWx0aW5zX2FycmF5X2ZpbmRsYXN0aW5kZXgKICAgKi8KICBmaW5kTGFzdEluZGV4OiBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFyciwgY2FsbGJhY2spIHsKICAgIHZhciBpbmRleCA9IC0xOwogICAgaWYgKHRoaXMuaXNOb3RFbXB0eShhcnIpKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaW5kZXggPSBhcnIuZmluZExhc3RJbmRleChjYWxsYmFjayk7CiAgICAgIH0gY2F0Y2ggKF91bnVzZWQzKSB7CiAgICAgICAgaW5kZXggPSBhcnIubGFzdEluZGV4T2YoX3RvQ29uc3VtYWJsZUFycmF5JDIoYXJyKS5yZXZlcnNlKCkuZmluZChjYWxsYmFjaykpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gaW5kZXg7CiAgfSwKICBzb3J0OiBmdW5jdGlvbiBzb3J0KHZhbHVlMSwgdmFsdWUyKSB7CiAgICB2YXIgb3JkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7CiAgICB2YXIgY29tcGFyYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogICAgdmFyIG51bGxTb3J0T3JkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDE7CiAgICB2YXIgcmVzdWx0ID0gdGhpcy5jb21wYXJlKHZhbHVlMSwgdmFsdWUyLCBjb21wYXJhdG9yLCBvcmRlcik7CiAgICB2YXIgZmluYWxTb3J0T3JkZXIgPSBvcmRlcjsKCiAgICAvLyBudWxsU29ydE9yZGVyID09IDEgbWVhbnMgRXhjZWwgbGlrZSBzb3J0IG51bGxzIGF0IGJvdHRvbQogICAgaWYgKHRoaXMuaXNFbXB0eSh2YWx1ZTEpIHx8IHRoaXMuaXNFbXB0eSh2YWx1ZTIpKSB7CiAgICAgIGZpbmFsU29ydE9yZGVyID0gbnVsbFNvcnRPcmRlciA9PT0gMSA/IG9yZGVyIDogbnVsbFNvcnRPcmRlcjsKICAgIH0KICAgIHJldHVybiBmaW5hbFNvcnRPcmRlciAqIHJlc3VsdDsKICB9LAogIGNvbXBhcmU6IGZ1bmN0aW9uIGNvbXBhcmUodmFsdWUxLCB2YWx1ZTIsIGNvbXBhcmF0b3IpIHsKICAgIHZhciBvcmRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMTsKICAgIHZhciByZXN1bHQgPSAtMTsKICAgIHZhciBlbXB0eVZhbHVlMSA9IHRoaXMuaXNFbXB0eSh2YWx1ZTEpOwogICAgdmFyIGVtcHR5VmFsdWUyID0gdGhpcy5pc0VtcHR5KHZhbHVlMik7CiAgICBpZiAoZW1wdHlWYWx1ZTEgJiYgZW1wdHlWYWx1ZTIpIHJlc3VsdCA9IDA7ZWxzZSBpZiAoZW1wdHlWYWx1ZTEpIHJlc3VsdCA9IG9yZGVyO2Vsc2UgaWYgKGVtcHR5VmFsdWUyKSByZXN1bHQgPSAtb3JkZXI7ZWxzZSBpZiAodHlwZW9mIHZhbHVlMSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlMiA9PT0gJ3N0cmluZycpIHJlc3VsdCA9IGNvbXBhcmF0b3IodmFsdWUxLCB2YWx1ZTIpO2Vsc2UgcmVzdWx0ID0gdmFsdWUxIDwgdmFsdWUyID8gLTEgOiB2YWx1ZTEgPiB2YWx1ZTIgPyAxIDogMDsKICAgIHJldHVybiByZXN1bHQ7CiAgfSwKICBsb2NhbGVDb21wYXJhdG9yOiBmdW5jdGlvbiBsb2NhbGVDb21wYXJhdG9yKCkgewogICAgLy9wZXJmb3JtYW5jZSBnYWluIHVzaW5nIEludC5Db2xsYXRvci4gSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIHVzZSBsb2NhbGVDb21wYXJlIGFnYWluc3QgbGFyZ2UgYXJyYXlzLgogICAgcmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHVuZGVmaW5lZCwgewogICAgICBudW1lcmljOiB0cnVlCiAgICB9KS5jb21wYXJlOwogIH0sCiAgbmVzdGVkS2V5czogZnVuY3Rpb24gbmVzdGVkS2V5cygpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICB2YXIgb2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgIHZhciBwYXJlbnRLZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChvLCBfcmVmKSB7CiAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgIGtleSA9IF9yZWYyWzBdLAogICAgICAgIHZhbHVlID0gX3JlZjJbMV07CiAgICAgIHZhciBjdXJyZW50S2V5ID0gcGFyZW50S2V5ID8gIiIuY29uY2F0KHBhcmVudEtleSwgIi4iKS5jb25jYXQoa2V5KSA6IGtleTsKICAgICAgX3RoaXMuaXNPYmplY3QodmFsdWUpID8gbyA9IG8uY29uY2F0KF90aGlzLm5lc3RlZEtleXModmFsdWUsIGN1cnJlbnRLZXkpKSA6IG8ucHVzaChjdXJyZW50S2V5KTsKICAgICAgcmV0dXJuIG87CiAgICB9LCBbXSk7CiAgfSwKICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICB2YXIgaW5kZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAyOwogICAgdmFyIGN1cnJlbnRJbmRlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7CiAgICB2YXIgY3VycmVudEluZGVudFN0ciA9ICcgJy5yZXBlYXQoY3VycmVudEluZGVudCk7CiAgICB2YXIgbmV4dEluZGVudFN0ciA9ICcgJy5yZXBlYXQoY3VycmVudEluZGVudCArIGluZGVudCk7CiAgICBpZiAodGhpcy5pc0FycmF5KHZhbHVlKSkgewogICAgICByZXR1cm4gJ1snICsgdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5zdHJpbmdpZnkodiwgaW5kZW50LCBjdXJyZW50SW5kZW50ICsgaW5kZW50KTsKICAgICAgfSkuam9pbignLCAnKSArICddJzsKICAgIH0gZWxzZSBpZiAodGhpcy5pc0RhdGUodmFsdWUpKSB7CiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpOwogICAgfSBlbHNlIGlmICh0aGlzLmlzRnVuY3Rpb24odmFsdWUpKSB7CiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpOwogICAgfSBlbHNlIGlmICh0aGlzLmlzT2JqZWN0KHZhbHVlKSkgewogICAgICByZXR1cm4gJ3tcbicgKyBPYmplY3QuZW50cmllcyh2YWx1ZSkubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSwKICAgICAgICAgIGsgPSBfcmVmNFswXSwKICAgICAgICAgIHYgPSBfcmVmNFsxXTsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KG5leHRJbmRlbnRTdHIpLmNvbmNhdChrLCAiOiAiKS5jb25jYXQoX3RoaXMyLnN0cmluZ2lmeSh2LCBpbmRlbnQsIGN1cnJlbnRJbmRlbnQgKyBpbmRlbnQpKTsKICAgICAgfSkuam9pbignLFxuJykgKyAiXG4iLmNvbmNhdChjdXJyZW50SW5kZW50U3RyKSArICd9JzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7CiAgICB9CiAgfQp9OwpmdW5jdGlvbiBfdHlwZW9mKG8pIHsKICAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOwoKICByZXR1cm4gX3R5cGVvZiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiAic3ltYm9sIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsKICAgIHJldHVybiB0eXBlb2YgbzsKICB9IDogZnVuY3Rpb24gKG8pIHsKICAgIHJldHVybiBvICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG87CiAgfSwgX3R5cGVvZihvKTsKfQpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkkMShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzJDEoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5JDEoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCQxKCk7Cn0KZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkJDEoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7Cn0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTsKICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7CiAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsKICBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7Cn0KZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheSQxKGl0ZXIpIHsKICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlclsiQEBpdGVyYXRvciJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyQxKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKGFycik7Cn0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMShhcnIsIGxlbikgewogIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsKICByZXR1cm4gYXJyMjsKfQpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsKICB9Cn0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7CiAgICB3cml0YWJsZTogZmFsc2UKICB9KTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KICByZXR1cm4gb2JqOwp9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsKICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCAic3RyaW5nIik7CiAgcmV0dXJuICJzeW1ib2wiID09IF90eXBlb2YoaSkgPyBpIDogU3RyaW5nKGkpOwp9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7CiAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OwogIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOwogIGlmICh2b2lkIDAgIT09IGUpIHsKICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgImRlZmF1bHQiKTsKICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgfQogIHJldHVybiAoInN0cmluZyIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOwp9CnZhciBfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gX2RlZmF1bHQoX3JlZikgewogICAgdmFyIGluaXQgPSBfcmVmLmluaXQsCiAgICAgIHR5cGUgPSBfcmVmLnR5cGU7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2RlZmF1bHQpOwogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJoZWxwZXJzIiwgdm9pZCAwKTsKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidHlwZSIsIHZvaWQgMCk7CiAgICB0aGlzLmhlbHBlcnMgPSBuZXcgU2V0KGluaXQpOwogICAgdGhpcy50eXBlID0gdHlwZTsKICB9CiAgX2NyZWF0ZUNsYXNzKF9kZWZhdWx0LCBbewogICAga2V5OiAiYWRkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoaW5zdGFuY2UpIHsKICAgICAgdGhpcy5oZWxwZXJzLmFkZChpbnN0YW5jZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIC8vIEB0b2RvCiAgICB9CiAgfSwgewogICAga2V5OiAiZGVsZXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGluc3RhbmNlKSB7CiAgICAgIHRoaXMuaGVscGVyc1siZGVsZXRlIl0oaW5zdGFuY2UpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsZWFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy5oZWxwZXJzLmNsZWFyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQocGFyZW50SW5zdGFuY2UsIHNsb3RzKSB7CiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuX2dldChwYXJlbnRJbnN0YW5jZSwgc2xvdHMpOwogICAgICB2YXIgY29tcHV0ZWQgPSBjaGlsZHJlbiA/IHRoaXMuX3JlY3Vyc2l2ZShfdG9Db25zdW1hYmxlQXJyYXkkMSh0aGlzLmhlbHBlcnMpLCBjaGlsZHJlbikgOiBudWxsOwogICAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShjb21wdXRlZCkgPyBjb21wdXRlZCA6IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2lzTWF0Y2hlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2lzTWF0Y2hlZChpbnN0YW5jZSwga2V5KSB7CiAgICAgIHZhciBfcGFyZW50JHZub2RlOwogICAgICB2YXIgcGFyZW50ID0gaW5zdGFuY2UgPT09IG51bGwgfHwgaW5zdGFuY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluc3RhbmNlLnBhcmVudDsKICAgICAgcmV0dXJuIChwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgfHwgKF9wYXJlbnQkdm5vZGUgPSBwYXJlbnQudm5vZGUpID09PSBudWxsIHx8IF9wYXJlbnQkdm5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJlbnQkdm5vZGUua2V5KSA9PT0ga2V5IHx8IHBhcmVudCAmJiB0aGlzLl9pc01hdGNoZWQocGFyZW50LCBrZXkpIHx8IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogIl9nZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXQocGFyZW50SW5zdGFuY2UsIHNsb3RzKSB7CiAgICAgIHZhciBfcmVmMiwgX3JlZjIkZGVmYXVsdDsKICAgICAgcmV0dXJuICgoX3JlZjIgPSBzbG90cyB8fCAocGFyZW50SW5zdGFuY2UgPT09IG51bGwgfHwgcGFyZW50SW5zdGFuY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEluc3RhbmNlLiRzbG90cykpID09PSBudWxsIHx8IF9yZWYyID09PSB2b2lkIDAgfHwgKF9yZWYyJGRlZmF1bHQgPSBfcmVmMlsiZGVmYXVsdCJdKSA9PT0gbnVsbCB8fCBfcmVmMiRkZWZhdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVmMiRkZWZhdWx0LmNhbGwoX3JlZjIpKSB8fCBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogIl9yZWN1cnNpdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWN1cnNpdmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBoZWxwZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdmFyIGNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgICAgdmFyIGNvbXBvbmVudHMgPSBbXTsKICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICBpZiAoY2hpbGQuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgY29tcG9uZW50cyA9IGNvbXBvbmVudHMuY29uY2F0KF90aGlzLl9yZWN1cnNpdmUoY29tcG9uZW50cywgY2hpbGQuY2hpbGRyZW4pKTsKICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUubmFtZSA9PT0gX3RoaXMudHlwZSkgewogICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNoaWxkKTsKICAgICAgICB9IGVsc2UgaWYgKE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY2hpbGQua2V5KSkgewogICAgICAgICAgY29tcG9uZW50cyA9IGNvbXBvbmVudHMuY29uY2F0KGhlbHBlcnMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5faXNNYXRjaGVkKGMsIGNoaWxkLmtleSk7CiAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgcmV0dXJuIGMudm5vZGU7CiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGNvbXBvbmVudHM7CiAgICB9CiAgfV0pOwogIHJldHVybiBfZGVmYXVsdDsKfSgpOwp2YXIgbGFzdElkID0gMDsKZnVuY3Rpb24gVW5pcXVlQ29tcG9uZW50SWQoKSB7CiAgdmFyIHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ3B2X2lkXyc7CiAgbGFzdElkKys7CiAgcmV0dXJuICIiLmNvbmNhdChwcmVmaXgpLmNvbmNhdChsYXN0SWQpOwp9CmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgaWYgKCFvKSByZXR1cm47CiAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKfQpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlclsiQEBpdGVyYXRvciJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsKfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgewogIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsKICByZXR1cm4gYXJyMjsKfQpmdW5jdGlvbiBoYW5kbGVyKCkgewogIHZhciB6SW5kZXhlcyA9IFtdOwogIHZhciBnZW5lcmF0ZVpJbmRleCA9IGZ1bmN0aW9uIGdlbmVyYXRlWkluZGV4KGtleSwgYXV0b1pJbmRleCkgewogICAgdmFyIGJhc2VaSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDk5OTsKICAgIHZhciBsYXN0WkluZGV4ID0gZ2V0TGFzdFpJbmRleChrZXksIGF1dG9aSW5kZXgsIGJhc2VaSW5kZXgpOwogICAgdmFyIG5ld1pJbmRleCA9IGxhc3RaSW5kZXgudmFsdWUgKyAobGFzdFpJbmRleC5rZXkgPT09IGtleSA/IDAgOiBiYXNlWkluZGV4KSArIDE7CiAgICB6SW5kZXhlcy5wdXNoKHsKICAgICAga2V5OiBrZXksCiAgICAgIHZhbHVlOiBuZXdaSW5kZXgKICAgIH0pOwogICAgcmV0dXJuIG5ld1pJbmRleDsKICB9OwogIHZhciByZXZlcnRaSW5kZXggPSBmdW5jdGlvbiByZXZlcnRaSW5kZXgoekluZGV4KSB7CiAgICB6SW5kZXhlcyA9IHpJbmRleGVzLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7CiAgICAgIHJldHVybiBvYmoudmFsdWUgIT09IHpJbmRleDsKICAgIH0pOwogIH07CiAgdmFyIGdldEN1cnJlbnRaSW5kZXggPSBmdW5jdGlvbiBnZXRDdXJyZW50WkluZGV4KGtleSwgYXV0b1pJbmRleCkgewogICAgcmV0dXJuIGdldExhc3RaSW5kZXgoa2V5LCBhdXRvWkluZGV4KS52YWx1ZTsKICB9OwogIHZhciBnZXRMYXN0WkluZGV4ID0gZnVuY3Rpb24gZ2V0TGFzdFpJbmRleChrZXksIGF1dG9aSW5kZXgpIHsKICAgIHZhciBiYXNlWkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwOwogICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheSh6SW5kZXhlcykucmV2ZXJzZSgpLmZpbmQoZnVuY3Rpb24gKG9iaikgewogICAgICByZXR1cm4gYXV0b1pJbmRleCA/IHRydWUgOiBvYmoua2V5ID09PSBrZXk7CiAgICB9KSB8fCB7CiAgICAgIGtleToga2V5LAogICAgICB2YWx1ZTogYmFzZVpJbmRleAogICAgfTsKICB9OwogIHZhciBnZXRaSW5kZXggPSBmdW5jdGlvbiBnZXRaSW5kZXgoZWwpIHsKICAgIHJldHVybiBlbCA/IHBhcnNlSW50KGVsLnN0eWxlLnpJbmRleCwgMTApIHx8IDAgOiAwOwogIH07CiAgcmV0dXJuIHsKICAgIGdldDogZ2V0WkluZGV4LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCBlbCwgYmFzZVpJbmRleCkgewogICAgICBpZiAoZWwpIHsKICAgICAgICBlbC5zdHlsZS56SW5kZXggPSBTdHJpbmcoZ2VuZXJhdGVaSW5kZXgoa2V5LCB0cnVlLCBiYXNlWkluZGV4KSk7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoZWwpIHsKICAgICAgaWYgKGVsKSB7CiAgICAgICAgcmV2ZXJ0WkluZGV4KGdldFpJbmRleChlbCkpOwogICAgICAgIGVsLnN0eWxlLnpJbmRleCA9ICcnOwogICAgICB9CiAgICB9LAogICAgZ2V0Q3VycmVudDogZnVuY3Rpb24gZ2V0Q3VycmVudChrZXkpIHsKICAgICAgcmV0dXJuIGdldEN1cnJlbnRaSW5kZXgoa2V5LCB0cnVlKTsKICAgIH0KICB9Owp9CnZhciBaSW5kZXhVdGlscyA9IGhhbmRsZXIoKTsKZXhwb3J0IHsgQ29ubmVjdGVkT3ZlcmxheVNjcm9sbEhhbmRsZXIsIERvbUhhbmRsZXIsIHByaW1lYnVzIGFzIEV2ZW50QnVzLCBfZGVmYXVsdCBhcyBIZWxwZXJTZXQsIE9iamVjdFV0aWxzLCBVbmlxdWVDb21wb25lbnRJZCwgWkluZGV4VXRpbHMgfTs="},{"version":3,"names":["_createForOfIteratorHelper$1","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray$3","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","_toConsumableArray$3","arr","_arrayWithoutHoles$3","_iterableToArray$3","_nonIterableSpread$3","iter","from","_arrayLikeToArray$3","_typeof$3","constructor","prototype","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","minLen","Object","toString","slice","name","test","len","arr2","r","l","t","u","a","push","DomHandler","innerWidth","el","width","offsetWidth","style","getComputedStyle","parseFloat","paddingLeft","paddingRight","getWindowScrollTop","doc","document","documentElement","window","pageYOffset","scrollTop","clientTop","getWindowScrollLeft","pageXOffset","scrollLeft","clientLeft","getOuterWidth","margin","marginLeft","marginRight","getOuterHeight","height","offsetHeight","marginTop","marginBottom","getClientHeight","clientHeight","getViewport","win","d","g","getElementsByTagName","w","clientWidth","h","innerHeight","getOffset","rect","getBoundingClientRect","top","body","left","index","element","_this$getParentNode","children","getParentNode","childNodes","num","nodeType","addMultipleClasses","classNames","_this","flat","filter","Boolean","forEach","cNames","split","className","addClass","removeMultipleClasses","_this2","removeClass","hasClass","classList","add","remove","replace","RegExp","join","contains","addStyles","styles","arguments","undefined","entries","_ref","_ref2","key","find","selector","isElement","querySelectorAll","findSingle","querySelector","createElement","type","attributes","setAttributes","_len","_key","append","apply","setAttribute","attribute","_this3","computedStyles","rule","_element$$attrs","_element$$attrs2","$attrs","reduce","cv","v","_cv","map","_ref3","_ref4","_k","_v","concat","toLowerCase","c","_ref5","_ref6","matchedEvent","match","addEventListener","Set","trim","getAttribute","isNaN","isAttributeEquals","isAttributeNotEquals","getHeight","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","getWidth","borderLeftWidth","borderRightWidth","absolutePosition","target","gutter","elementDimensions","offsetParent","getHiddenElementDimensions","elementOuterHeight","elementOuterWidth","targetOuterHeight","targetOuterWidth","targetOffset","windowScrollTop","windowScrollLeft","viewport","origin","Math","max","transformOrigin","relativePosition","targetHeight","nestedPosition","level","parentItem","parentElement","elementOffset","sublistWidth","getHiddenElementOuterWidth","itemOuterWidth","parseInt","calculateScrollbarWidth","parent","parentNode","ShadowRoot","host","getParents","parents","getScrollableParents","scrollableParents","overflowRegex","overflowCheck","node","styleDeclaration","getPropertyValue","_iterator","_step","scrollSelectors","dataset","selectors","_iterator2","_step2","getHiddenElementOuterHeight","visibility","display","elementHeight","elementWidth","dimensions","fadeIn","duration","opacity","last","Date","tick","getTime","requestAnimationFrame","setTimeout","fadeOut","ms","interval","gap","fading","setInterval","clearInterval","getUserAgent","navigator","userAgent","appendChild","elElement","Error","obj","HTMLElement","nodeName","scrollInView","container","item","borderTopValue","borderTop","paddingTopValue","containerRect","itemRect","offset","scroll","itemHeight","clearSelection","getSelection","empty","removeAllRanges","rangeCount","getRangeAt","getClientRects","error","createRange","text","calculatedScrollbarWidth","scrollDiv","overflow","position","scrollbarWidth","removeChild","calculateBodyScrollbarWidth","getBrowser","browser","matched","resolveUserAgent","version","ua","exec","indexOf","isVisible","invokeElementMethod","methodName","args","isExist","isClient","focus","options","activeElement","isFocusableElement","matches","getFocusableElements","focusableElements","visibleFocusableElements","_iterator3","_step3","focusableElement","getFirstFocusableElement","getLastFocusableElement","getNextFocusableElement","findIndex","nextIndex","getPreviousElementSibling","previousElement","previousElementSibling","getNextElementSibling","nextElement","nextElementSibling","isClickable","targetNode","closest","applyStyle","cssText","prop","isIOS","isAndroid","isTouchDevice","maxTouchPoints","msMaxTouchPoints","hasCSSAnimation","animationDuration","hasCSSTransition","transitionDuration","exportCSV","csv","filename","blob","Blob","msSaveOrOpenBlob","link","download","URL","createObjectURL","click","open","encodeURI","blockBodyScroll","setProperty","unblockBodyScroll","removeProperty","_typeof$2","_classCallCheck$1","instance","Constructor","_defineProperties$1","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey$1","_createClass$1","protoProps","staticProps","_toPrimitive$1","String","toPrimitive","Number","ConnectedOverlayScrollHandler","listener","bindScrollListener","unbindScrollListener","removeEventListener","destroy","primebus","allHandlers","Map","on","handler","handlers","get","set","off","splice","emit","evt","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray$2","_nonIterableRest","_toConsumableArray$2","_arrayWithoutHoles$2","_iterableToArray$2","_nonIterableSpread$2","_arrayLikeToArray$2","_createForOfIteratorHelper","_typeof$1","ObjectUtils","equals","obj1","obj2","field","resolveFieldData","deepEquals","b","arrA","arrB","dateA","dateB","regexpA","regexpB","keys","hasOwnProperty","data","isNotEmpty","_unused","isFunction","fields","_value","getItemValue","params","filterValue","filteredItems","reorderArray","to","findIndexInList","list","val","insertIntoOrderedArray","sourceArr","injected","currentItemIndex","removeAccents","str","search","getVNodeProp","vnode","kebabProp","propName","toFlatCase","isString","toKebabCase","toCapitalCase","toUpperCase","isEmpty","isObject","isDate","isPrintableCharacter","_char","findLast","callback","_unused2","reverse","findLastIndex","_unused3","lastIndexOf","sort","value1","value2","order","comparator","nullSortOrder","result","compare","finalSortOrder","emptyValue1","emptyValue2","localeComparator","Intl","Collator","numeric","nestedKeys","parentKey","currentKey","stringify","indent","currentIndent","currentIndentStr","repeat","nextIndentStr","toISOString","k","JSON","_typeof","_toConsumableArray$1","_arrayWithoutHoles$1","_iterableToArray$1","_unsupportedIterableToArray$1","_nonIterableSpread$1","_arrayLikeToArray$1","_classCallCheck","_defineProperties","_toPropertyKey","_createClass","_defineProperty","_toPrimitive","_default","init","helpers","update","_delete","clear","parentInstance","slots","_get","computed","_recursive","_isMatched","_parent$vnode","_ref2$default","$slots","components","child","lastId","UniqueComponentId","prefix","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","zIndexes","generateZIndex","autoZIndex","baseZIndex","lastZIndex","getLastZIndex","newZIndex","revertZIndex","zIndex","getCurrentZIndex","getZIndex","getCurrent","ZIndexUtils","EventBus","HelperSet"],"sources":["C:/Users/Marc/source/repos/openESEA/openESEA_interpreter/frontend/node_modules/primevue/utils/utils.esm.js"],"sourcesContent":["function _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray$3(arr) { return _arrayWithoutHoles$3(arr) || _iterableToArray$3(arr) || _unsupportedIterableToArray$3(arr) || _nonIterableSpread$3(); }\nfunction _nonIterableSpread$3() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray$3(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles$3(arr) { if (Array.isArray(arr)) return _arrayLikeToArray$3(arr); }\nfunction _typeof$3(o) { \"@babel/helpers - typeof\"; return _typeof$3 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$3(o); }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _unsupportedIterableToArray$3(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray$3(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen); }\nfunction _arrayLikeToArray$3(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit$1(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar DomHandler = {\n  innerWidth: function innerWidth(el) {\n    if (el) {\n      var width = el.offsetWidth;\n      var style = getComputedStyle(el);\n      width += parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n      return width;\n    }\n    return 0;\n  },\n  width: function width(el) {\n    if (el) {\n      var width = el.offsetWidth;\n      var style = getComputedStyle(el);\n      width -= parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n      return width;\n    }\n    return 0;\n  },\n  getWindowScrollTop: function getWindowScrollTop() {\n    var doc = document.documentElement;\n    return (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n  },\n  getWindowScrollLeft: function getWindowScrollLeft() {\n    var doc = document.documentElement;\n    return (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n  },\n  getOuterWidth: function getOuterWidth(el, margin) {\n    if (el) {\n      var width = el.offsetWidth;\n      if (margin) {\n        var style = getComputedStyle(el);\n        width += parseFloat(style.marginLeft) + parseFloat(style.marginRight);\n      }\n      return width;\n    }\n    return 0;\n  },\n  getOuterHeight: function getOuterHeight(el, margin) {\n    if (el) {\n      var height = el.offsetHeight;\n      if (margin) {\n        var style = getComputedStyle(el);\n        height += parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n      }\n      return height;\n    }\n    return 0;\n  },\n  getClientHeight: function getClientHeight(el, margin) {\n    if (el) {\n      var height = el.clientHeight;\n      if (margin) {\n        var style = getComputedStyle(el);\n        height += parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n      }\n      return height;\n    }\n    return 0;\n  },\n  getViewport: function getViewport() {\n    var win = window,\n      d = document,\n      e = d.documentElement,\n      g = d.getElementsByTagName('body')[0],\n      w = win.innerWidth || e.clientWidth || g.clientWidth,\n      h = win.innerHeight || e.clientHeight || g.clientHeight;\n    return {\n      width: w,\n      height: h\n    };\n  },\n  getOffset: function getOffset(el) {\n    if (el) {\n      var rect = el.getBoundingClientRect();\n      return {\n        top: rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0),\n        left: rect.left + (window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0)\n      };\n    }\n    return {\n      top: 'auto',\n      left: 'auto'\n    };\n  },\n  index: function index(element) {\n    if (element) {\n      var _this$getParentNode;\n      var children = (_this$getParentNode = this.getParentNode(element)) === null || _this$getParentNode === void 0 ? void 0 : _this$getParentNode.childNodes;\n      var num = 0;\n      for (var i = 0; i < children.length; i++) {\n        if (children[i] === element) return num;\n        if (children[i].nodeType === 1) num++;\n      }\n    }\n    return -1;\n  },\n  addMultipleClasses: function addMultipleClasses(element, classNames) {\n    var _this = this;\n    if (element && classNames) {\n      [classNames].flat().filter(Boolean).forEach(function (cNames) {\n        return cNames.split(' ').forEach(function (className) {\n          return _this.addClass(element, className);\n        });\n      });\n    }\n  },\n  removeMultipleClasses: function removeMultipleClasses(element, classNames) {\n    var _this2 = this;\n    if (element && classNames) {\n      [classNames].flat().filter(Boolean).forEach(function (cNames) {\n        return cNames.split(' ').forEach(function (className) {\n          return _this2.removeClass(element, className);\n        });\n      });\n    }\n  },\n  addClass: function addClass(element, className) {\n    if (element && className && !this.hasClass(element, className)) {\n      if (element.classList) element.classList.add(className);else element.className += ' ' + className;\n    }\n  },\n  removeClass: function removeClass(element, className) {\n    if (element && className) {\n      if (element.classList) element.classList.remove(className);else element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    }\n  },\n  hasClass: function hasClass(element, className) {\n    if (element) {\n      if (element.classList) return element.classList.contains(className);else return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n    }\n    return false;\n  },\n  addStyles: function addStyles(element) {\n    var styles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (element) {\n      Object.entries(styles).forEach(function (_ref) {\n        var _ref2 = _slicedToArray$1(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n        return element.style[key] = value;\n      });\n    }\n  },\n  find: function find(element, selector) {\n    return this.isElement(element) ? element.querySelectorAll(selector) : [];\n  },\n  findSingle: function findSingle(element, selector) {\n    return this.isElement(element) ? element.querySelector(selector) : null;\n  },\n  createElement: function createElement(type) {\n    var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (type) {\n      var element = document.createElement(type);\n      this.setAttributes(element, attributes);\n      for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        children[_key - 2] = arguments[_key];\n      }\n      element.append.apply(element, children);\n      return element;\n    }\n    return undefined;\n  },\n  setAttribute: function setAttribute(element) {\n    var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var value = arguments.length > 2 ? arguments[2] : undefined;\n    if (this.isElement(element) && value !== null && value !== undefined) {\n      element.setAttribute(attribute, value);\n    }\n  },\n  setAttributes: function setAttributes(element) {\n    var _this3 = this;\n    var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.isElement(element)) {\n      var computedStyles = function computedStyles(rule, value) {\n        var _element$$attrs, _element$$attrs2;\n        var styles = element !== null && element !== void 0 && (_element$$attrs = element.$attrs) !== null && _element$$attrs !== void 0 && _element$$attrs[rule] ? [element === null || element === void 0 || (_element$$attrs2 = element.$attrs) === null || _element$$attrs2 === void 0 ? void 0 : _element$$attrs2[rule]] : [];\n        return [value].flat().reduce(function (cv, v) {\n          if (v !== null && v !== undefined) {\n            var type = _typeof$3(v);\n            if (type === 'string' || type === 'number') {\n              cv.push(v);\n            } else if (type === 'object') {\n              var _cv = Array.isArray(v) ? computedStyles(rule, v) : Object.entries(v).map(function (_ref3) {\n                var _ref4 = _slicedToArray$1(_ref3, 2),\n                  _k = _ref4[0],\n                  _v = _ref4[1];\n                return rule === 'style' && (!!_v || _v === 0) ? \"\".concat(_k.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase(), \":\").concat(_v) : !!_v ? _k : undefined;\n              });\n              cv = _cv.length ? cv.concat(_cv.filter(function (c) {\n                return !!c;\n              })) : cv;\n            }\n          }\n          return cv;\n        }, styles);\n      };\n      Object.entries(attributes).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray$1(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n        if (value !== undefined && value !== null) {\n          var matchedEvent = key.match(/^on(.+)/);\n          if (matchedEvent) {\n            element.addEventListener(matchedEvent[1].toLowerCase(), value);\n          } else if (key === 'p-bind') {\n            _this3.setAttributes(element, value);\n          } else {\n            value = key === 'class' ? _toConsumableArray$3(new Set(computedStyles('class', value))).join(' ').trim() : key === 'style' ? computedStyles('style', value).join(';').trim() : value;\n            (element.$attrs = element.$attrs || {}) && (element.$attrs[key] = value);\n            element.setAttribute(key, value);\n          }\n        }\n      });\n    }\n  },\n  getAttribute: function getAttribute(element, name) {\n    if (this.isElement(element)) {\n      var value = element.getAttribute(name);\n      if (!isNaN(value)) {\n        return +value;\n      }\n      if (value === 'true' || value === 'false') {\n        return value === 'true';\n      }\n      return value;\n    }\n    return undefined;\n  },\n  isAttributeEquals: function isAttributeEquals(element, name, value) {\n    return this.isElement(element) ? this.getAttribute(element, name) === value : false;\n  },\n  isAttributeNotEquals: function isAttributeNotEquals(element, name, value) {\n    return !this.isAttributeEquals(element, name, value);\n  },\n  getHeight: function getHeight(el) {\n    if (el) {\n      var height = el.offsetHeight;\n      var style = getComputedStyle(el);\n      height -= parseFloat(style.paddingTop) + parseFloat(style.paddingBottom) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n      return height;\n    }\n    return 0;\n  },\n  getWidth: function getWidth(el) {\n    if (el) {\n      var width = el.offsetWidth;\n      var style = getComputedStyle(el);\n      width -= parseFloat(style.paddingLeft) + parseFloat(style.paddingRight) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);\n      return width;\n    }\n    return 0;\n  },\n  absolutePosition: function absolutePosition(element, target) {\n    var gutter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    if (element) {\n      var elementDimensions = element.offsetParent ? {\n        width: element.offsetWidth,\n        height: element.offsetHeight\n      } : this.getHiddenElementDimensions(element);\n      var elementOuterHeight = elementDimensions.height;\n      var elementOuterWidth = elementDimensions.width;\n      var targetOuterHeight = target.offsetHeight;\n      var targetOuterWidth = target.offsetWidth;\n      var targetOffset = target.getBoundingClientRect();\n      var windowScrollTop = this.getWindowScrollTop();\n      var windowScrollLeft = this.getWindowScrollLeft();\n      var viewport = this.getViewport();\n      var top,\n        left,\n        origin = 'top';\n      if (targetOffset.top + targetOuterHeight + elementOuterHeight > viewport.height) {\n        top = targetOffset.top + windowScrollTop - elementOuterHeight;\n        origin = 'bottom';\n        if (top < 0) {\n          top = windowScrollTop;\n        }\n      } else {\n        top = targetOuterHeight + targetOffset.top + windowScrollTop;\n      }\n      if (targetOffset.left + elementOuterWidth > viewport.width) left = Math.max(0, targetOffset.left + windowScrollLeft + targetOuterWidth - elementOuterWidth);else left = targetOffset.left + windowScrollLeft;\n      element.style.top = top + 'px';\n      element.style.left = left + 'px';\n      element.style.transformOrigin = origin;\n      gutter && (element.style.marginTop = origin === 'bottom' ? 'calc(var(--p-anchor-gutter) * -1)' : 'calc(var(--p-anchor-gutter))');\n    }\n  },\n  relativePosition: function relativePosition(element, target) {\n    var gutter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    if (element) {\n      var elementDimensions = element.offsetParent ? {\n        width: element.offsetWidth,\n        height: element.offsetHeight\n      } : this.getHiddenElementDimensions(element);\n      var targetHeight = target.offsetHeight;\n      var targetOffset = target.getBoundingClientRect();\n      var viewport = this.getViewport();\n      var top,\n        left,\n        origin = 'top';\n      if (targetOffset.top + targetHeight + elementDimensions.height > viewport.height) {\n        top = -1 * elementDimensions.height;\n        origin = 'bottom';\n        if (targetOffset.top + top < 0) {\n          top = -1 * targetOffset.top;\n        }\n      } else {\n        top = targetHeight;\n      }\n      if (elementDimensions.width > viewport.width) {\n        // element wider then viewport and cannot fit on screen (align at left side of viewport)\n        left = targetOffset.left * -1;\n      } else if (targetOffset.left + elementDimensions.width > viewport.width) {\n        // element wider then viewport but can be fit on screen (align at right side of viewport)\n        left = (targetOffset.left + elementDimensions.width - viewport.width) * -1;\n      } else {\n        // element fits on screen (align with target)\n        left = 0;\n      }\n      element.style.top = top + 'px';\n      element.style.left = left + 'px';\n      element.style.transformOrigin = origin;\n      gutter && (element.style.marginTop = origin === 'bottom' ? 'calc(var(--p-anchor-gutter) * -1)' : 'calc(var(--p-anchor-gutter))');\n    }\n  },\n  nestedPosition: function nestedPosition(element, level) {\n    if (element) {\n      var parentItem = element.parentElement;\n      var elementOffset = this.getOffset(parentItem);\n      var viewport = this.getViewport();\n      var sublistWidth = element.offsetParent ? element.offsetWidth : this.getHiddenElementOuterWidth(element);\n      var itemOuterWidth = this.getOuterWidth(parentItem.children[0]);\n      var left;\n      if (parseInt(elementOffset.left, 10) + itemOuterWidth + sublistWidth > viewport.width - this.calculateScrollbarWidth()) {\n        if (parseInt(elementOffset.left, 10) < sublistWidth) {\n          // for too small screens\n          if (level % 2 === 1) {\n            left = parseInt(elementOffset.left, 10) ? '-' + parseInt(elementOffset.left, 10) + 'px' : '100%';\n          } else if (level % 2 === 0) {\n            left = viewport.width - sublistWidth - this.calculateScrollbarWidth() + 'px';\n          }\n        } else {\n          left = '-100%';\n        }\n      } else {\n        left = '100%';\n      }\n      element.style.top = '0px';\n      element.style.left = left;\n    }\n  },\n  getParentNode: function getParentNode(element) {\n    var parent = element === null || element === void 0 ? void 0 : element.parentNode;\n    if (parent && parent instanceof ShadowRoot && parent.host) {\n      parent = parent.host;\n    }\n    return parent;\n  },\n  getParents: function getParents(element) {\n    var parents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var parent = this.getParentNode(element);\n    return parent === null ? parents : this.getParents(parent, parents.concat([parent]));\n  },\n  getScrollableParents: function getScrollableParents(element) {\n    var scrollableParents = [];\n    if (element) {\n      var parents = this.getParents(element);\n      var overflowRegex = /(auto|scroll)/;\n      var overflowCheck = function overflowCheck(node) {\n        try {\n          var styleDeclaration = window['getComputedStyle'](node, null);\n          return overflowRegex.test(styleDeclaration.getPropertyValue('overflow')) || overflowRegex.test(styleDeclaration.getPropertyValue('overflowX')) || overflowRegex.test(styleDeclaration.getPropertyValue('overflowY'));\n        } catch (err) {\n          return false;\n        }\n      };\n      var _iterator = _createForOfIteratorHelper$1(parents),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var parent = _step.value;\n          var scrollSelectors = parent.nodeType === 1 && parent.dataset['scrollselectors'];\n          if (scrollSelectors) {\n            var selectors = scrollSelectors.split(',');\n            var _iterator2 = _createForOfIteratorHelper$1(selectors),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var selector = _step2.value;\n                var el = this.findSingle(parent, selector);\n                if (el && overflowCheck(el)) {\n                  scrollableParents.push(el);\n                }\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          }\n          if (parent.nodeType !== 9 && overflowCheck(parent)) {\n            scrollableParents.push(parent);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    return scrollableParents;\n  },\n  getHiddenElementOuterHeight: function getHiddenElementOuterHeight(element) {\n    if (element) {\n      element.style.visibility = 'hidden';\n      element.style.display = 'block';\n      var elementHeight = element.offsetHeight;\n      element.style.display = 'none';\n      element.style.visibility = 'visible';\n      return elementHeight;\n    }\n    return 0;\n  },\n  getHiddenElementOuterWidth: function getHiddenElementOuterWidth(element) {\n    if (element) {\n      element.style.visibility = 'hidden';\n      element.style.display = 'block';\n      var elementWidth = element.offsetWidth;\n      element.style.display = 'none';\n      element.style.visibility = 'visible';\n      return elementWidth;\n    }\n    return 0;\n  },\n  getHiddenElementDimensions: function getHiddenElementDimensions(element) {\n    if (element) {\n      var dimensions = {};\n      element.style.visibility = 'hidden';\n      element.style.display = 'block';\n      dimensions.width = element.offsetWidth;\n      dimensions.height = element.offsetHeight;\n      element.style.display = 'none';\n      element.style.visibility = 'visible';\n      return dimensions;\n    }\n    return 0;\n  },\n  fadeIn: function fadeIn(element, duration) {\n    if (element) {\n      element.style.opacity = 0;\n      var last = +new Date();\n      var opacity = 0;\n      var tick = function tick() {\n        opacity = +element.style.opacity + (new Date().getTime() - last) / duration;\n        element.style.opacity = opacity;\n        last = +new Date();\n        if (+opacity < 1) {\n          window.requestAnimationFrame && requestAnimationFrame(tick) || setTimeout(tick, 16);\n        }\n      };\n      tick();\n    }\n  },\n  fadeOut: function fadeOut(element, ms) {\n    if (element) {\n      var opacity = 1,\n        interval = 50,\n        duration = ms,\n        gap = interval / duration;\n      var fading = setInterval(function () {\n        opacity -= gap;\n        if (opacity <= 0) {\n          opacity = 0;\n          clearInterval(fading);\n        }\n        element.style.opacity = opacity;\n      }, interval);\n    }\n  },\n  getUserAgent: function getUserAgent() {\n    return navigator.userAgent;\n  },\n  appendChild: function appendChild(element, target) {\n    if (this.isElement(target)) target.appendChild(element);else if (target.el && target.elElement) target.elElement.appendChild(element);else throw new Error('Cannot append ' + target + ' to ' + element);\n  },\n  isElement: function isElement(obj) {\n    return (typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof$3(HTMLElement)) === 'object' ? obj instanceof HTMLElement : obj && _typeof$3(obj) === 'object' && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === 'string';\n  },\n  scrollInView: function scrollInView(container, item) {\n    var borderTopValue = getComputedStyle(container).getPropertyValue('borderTopWidth');\n    var borderTop = borderTopValue ? parseFloat(borderTopValue) : 0;\n    var paddingTopValue = getComputedStyle(container).getPropertyValue('paddingTop');\n    var paddingTop = paddingTopValue ? parseFloat(paddingTopValue) : 0;\n    var containerRect = container.getBoundingClientRect();\n    var itemRect = item.getBoundingClientRect();\n    var offset = itemRect.top + document.body.scrollTop - (containerRect.top + document.body.scrollTop) - borderTop - paddingTop;\n    var scroll = container.scrollTop;\n    var elementHeight = container.clientHeight;\n    var itemHeight = this.getOuterHeight(item);\n    if (offset < 0) {\n      container.scrollTop = scroll + offset;\n    } else if (offset + itemHeight > elementHeight) {\n      container.scrollTop = scroll + offset - elementHeight + itemHeight;\n    }\n  },\n  clearSelection: function clearSelection() {\n    if (window.getSelection) {\n      if (window.getSelection().empty) {\n        window.getSelection().empty();\n      } else if (window.getSelection().removeAllRanges && window.getSelection().rangeCount > 0 && window.getSelection().getRangeAt(0).getClientRects().length > 0) {\n        window.getSelection().removeAllRanges();\n      }\n    } else if (document['selection'] && document['selection'].empty) {\n      try {\n        document['selection'].empty();\n      } catch (error) {\n        //ignore IE bug\n      }\n    }\n  },\n  getSelection: function getSelection() {\n    if (window.getSelection) return window.getSelection().toString();else if (document.getSelection) return document.getSelection().toString();else if (document['selection']) return document['selection'].createRange().text;\n    return null;\n  },\n  calculateScrollbarWidth: function calculateScrollbarWidth() {\n    if (this.calculatedScrollbarWidth != null) return this.calculatedScrollbarWidth;\n    var scrollDiv = document.createElement('div');\n    this.addStyles(scrollDiv, {\n      width: '100px',\n      height: '100px',\n      overflow: 'scroll',\n      position: 'absolute',\n      top: '-9999px'\n    });\n    document.body.appendChild(scrollDiv);\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    this.calculatedScrollbarWidth = scrollbarWidth;\n    return scrollbarWidth;\n  },\n  calculateBodyScrollbarWidth: function calculateBodyScrollbarWidth() {\n    return window.innerWidth - document.documentElement.offsetWidth;\n  },\n  getBrowser: function getBrowser() {\n    if (!this.browser) {\n      var matched = this.resolveUserAgent();\n      this.browser = {};\n      if (matched.browser) {\n        this.browser[matched.browser] = true;\n        this.browser['version'] = matched.version;\n      }\n      if (this.browser['chrome']) {\n        this.browser['webkit'] = true;\n      } else if (this.browser['webkit']) {\n        this.browser['safari'] = true;\n      }\n    }\n    return this.browser;\n  },\n  resolveUserAgent: function resolveUserAgent() {\n    var ua = navigator.userAgent.toLowerCase();\n    var match = /(chrome)[ ]([\\w.]+)/.exec(ua) || /(webkit)[ ]([\\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ ]([\\w.]+)/.exec(ua) || /(msie) ([\\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) || [];\n    return {\n      browser: match[1] || '',\n      version: match[2] || '0'\n    };\n  },\n  isVisible: function isVisible(element) {\n    return element && element.offsetParent != null;\n  },\n  invokeElementMethod: function invokeElementMethod(element, methodName, args) {\n    element[methodName].apply(element, args);\n  },\n  isExist: function isExist(element) {\n    return !!(element !== null && typeof element !== 'undefined' && element.nodeName && this.getParentNode(element));\n  },\n  isClient: function isClient() {\n    return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n  },\n  focus: function focus(el, options) {\n    el && document.activeElement !== el && el.focus(options);\n  },\n  isFocusableElement: function isFocusableElement(element) {\n    var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    return this.isElement(element) ? element.matches(\"button:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\".concat(selector, \",\\n                [href][clientHeight][clientWidth]:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                input:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                select:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                textarea:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                [tabIndex]:not([tabIndex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                [contenteditable]:not([tabIndex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector)) : false;\n  },\n  getFocusableElements: function getFocusableElements(element) {\n    var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var focusableElements = this.find(element, \"button:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\".concat(selector, \",\\n                [href][clientHeight][clientWidth]:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                input:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                select:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                textarea:not([tabindex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                [tabIndex]:not([tabIndex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector, \",\\n                [contenteditable]:not([tabIndex = \\\"-1\\\"]):not([disabled]):not([style*=\\\"display:none\\\"]):not([hidden])\").concat(selector));\n    var visibleFocusableElements = [];\n    var _iterator3 = _createForOfIteratorHelper$1(focusableElements),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var focusableElement = _step3.value;\n        if (getComputedStyle(focusableElement).display != 'none' && getComputedStyle(focusableElement).visibility != 'hidden') visibleFocusableElements.push(focusableElement);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    return visibleFocusableElements;\n  },\n  getFirstFocusableElement: function getFirstFocusableElement(element, selector) {\n    var focusableElements = this.getFocusableElements(element, selector);\n    return focusableElements.length > 0 ? focusableElements[0] : null;\n  },\n  getLastFocusableElement: function getLastFocusableElement(element, selector) {\n    var focusableElements = this.getFocusableElements(element, selector);\n    return focusableElements.length > 0 ? focusableElements[focusableElements.length - 1] : null;\n  },\n  getNextFocusableElement: function getNextFocusableElement(container, element, selector) {\n    var focusableElements = this.getFocusableElements(container, selector);\n    var index = focusableElements.length > 0 ? focusableElements.findIndex(function (el) {\n      return el === element;\n    }) : -1;\n    var nextIndex = index > -1 && focusableElements.length >= index + 1 ? index + 1 : -1;\n    return nextIndex > -1 ? focusableElements[nextIndex] : null;\n  },\n  getPreviousElementSibling: function getPreviousElementSibling(element, selector) {\n    var previousElement = element.previousElementSibling;\n    while (previousElement) {\n      if (previousElement.matches(selector)) {\n        return previousElement;\n      } else {\n        previousElement = previousElement.previousElementSibling;\n      }\n    }\n    return null;\n  },\n  getNextElementSibling: function getNextElementSibling(element, selector) {\n    var nextElement = element.nextElementSibling;\n    while (nextElement) {\n      if (nextElement.matches(selector)) {\n        return nextElement;\n      } else {\n        nextElement = nextElement.nextElementSibling;\n      }\n    }\n    return null;\n  },\n  isClickable: function isClickable(element) {\n    if (element) {\n      var targetNode = element.nodeName;\n      var parentNode = element.parentElement && element.parentElement.nodeName;\n      return targetNode === 'INPUT' || targetNode === 'TEXTAREA' || targetNode === 'BUTTON' || targetNode === 'A' || parentNode === 'INPUT' || parentNode === 'TEXTAREA' || parentNode === 'BUTTON' || parentNode === 'A' || !!element.closest('.p-button, .p-checkbox, .p-radiobutton') // @todo Add [data-pc-section=\"button\"]\n      ;\n    }\n    return false;\n  },\n  applyStyle: function applyStyle(element, style) {\n    if (typeof style === 'string') {\n      element.style.cssText = style;\n    } else {\n      for (var prop in style) {\n        element.style[prop] = style[prop];\n      }\n    }\n  },\n  isIOS: function isIOS() {\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window['MSStream'];\n  },\n  isAndroid: function isAndroid() {\n    return /(android)/i.test(navigator.userAgent);\n  },\n  isTouchDevice: function isTouchDevice() {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n  },\n  hasCSSAnimation: function hasCSSAnimation(element) {\n    if (element) {\n      var style = getComputedStyle(element);\n      var animationDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n      return animationDuration > 0;\n    }\n    return false;\n  },\n  hasCSSTransition: function hasCSSTransition(element) {\n    if (element) {\n      var style = getComputedStyle(element);\n      var transitionDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n      return transitionDuration > 0;\n    }\n    return false;\n  },\n  exportCSV: function exportCSV(csv, filename) {\n    var blob = new Blob([csv], {\n      type: 'application/csv;charset=utf-8;'\n    });\n    if (window.navigator.msSaveOrOpenBlob) {\n      navigator.msSaveOrOpenBlob(blob, filename + '.csv');\n    } else {\n      var link = document.createElement('a');\n      if (link.download !== undefined) {\n        link.setAttribute('href', URL.createObjectURL(blob));\n        link.setAttribute('download', filename + '.csv');\n        link.style.display = 'none';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else {\n        csv = 'data:text/csv;charset=utf-8,' + csv;\n        window.open(encodeURI(csv));\n      }\n    }\n  },\n  blockBodyScroll: function blockBodyScroll() {\n    var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'p-overflow-hidden';\n    document.body.style.setProperty('--scrollbar-width', this.calculateBodyScrollbarWidth() + 'px');\n    this.addClass(document.body, className);\n  },\n  unblockBodyScroll: function unblockBodyScroll() {\n    var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'p-overflow-hidden';\n    document.body.style.removeProperty('--scrollbar-width');\n    this.removeClass(document.body, className);\n  }\n};\n\nfunction _typeof$2(o) { \"@babel/helpers - typeof\"; return _typeof$2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$2(o); }\nfunction _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties$1(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey$1(descriptor.key), descriptor); } }\nfunction _createClass$1(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$1(Constructor.prototype, protoProps); if (staticProps) _defineProperties$1(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey$1(t) { var i = _toPrimitive$1(t, \"string\"); return \"symbol\" == _typeof$2(i) ? i : String(i); }\nfunction _toPrimitive$1(t, r) { if (\"object\" != _typeof$2(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof$2(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar ConnectedOverlayScrollHandler = /*#__PURE__*/function () {\n  function ConnectedOverlayScrollHandler(element) {\n    var listener = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n    _classCallCheck$1(this, ConnectedOverlayScrollHandler);\n    this.element = element;\n    this.listener = listener;\n  }\n  _createClass$1(ConnectedOverlayScrollHandler, [{\n    key: \"bindScrollListener\",\n    value: function bindScrollListener() {\n      this.scrollableParents = DomHandler.getScrollableParents(this.element);\n      for (var i = 0; i < this.scrollableParents.length; i++) {\n        this.scrollableParents[i].addEventListener('scroll', this.listener);\n      }\n    }\n  }, {\n    key: \"unbindScrollListener\",\n    value: function unbindScrollListener() {\n      if (this.scrollableParents) {\n        for (var i = 0; i < this.scrollableParents.length; i++) {\n          this.scrollableParents[i].removeEventListener('scroll', this.listener);\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbindScrollListener();\n      this.element = null;\n      this.listener = null;\n      this.scrollableParents = null;\n    }\n  }]);\n  return ConnectedOverlayScrollHandler;\n}();\n\nfunction primebus() {\n  var allHandlers = new Map();\n  return {\n    on: function on(type, handler) {\n      var handlers = allHandlers.get(type);\n      if (!handlers) handlers = [handler];else handlers.push(handler);\n      allHandlers.set(type, handlers);\n    },\n    off: function off(type, handler) {\n      var handlers = allHandlers.get(type);\n      if (handlers) {\n        handlers.splice(handlers.indexOf(handler) >>> 0, 1);\n      }\n    },\n    emit: function emit(type, evt) {\n      var handlers = allHandlers.get(type);\n      if (handlers) {\n        handlers.slice().map(function (handler) {\n          handler(evt);\n        });\n      }\n    }\n  };\n}\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray$2(arr) { return _arrayWithoutHoles$2(arr) || _iterableToArray$2(arr) || _unsupportedIterableToArray$2(arr) || _nonIterableSpread$2(); }\nfunction _nonIterableSpread$2() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray$2(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles$2(arr) { if (Array.isArray(arr)) return _arrayLikeToArray$2(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray$2(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen); }\nfunction _arrayLikeToArray$2(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _typeof$1(o) { \"@babel/helpers - typeof\"; return _typeof$1 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$1(o); }\nvar ObjectUtils = {\n  equals: function equals(obj1, obj2, field) {\n    if (field) return this.resolveFieldData(obj1, field) === this.resolveFieldData(obj2, field);else return this.deepEquals(obj1, obj2);\n  },\n  deepEquals: function deepEquals(a, b) {\n    if (a === b) return true;\n    if (a && b && _typeof$1(a) == 'object' && _typeof$1(b) == 'object') {\n      var arrA = Array.isArray(a),\n        arrB = Array.isArray(b),\n        i,\n        length,\n        key;\n      if (arrA && arrB) {\n        length = a.length;\n        if (length != b.length) return false;\n        for (i = length; i-- !== 0;) if (!this.deepEquals(a[i], b[i])) return false;\n        return true;\n      }\n      if (arrA != arrB) return false;\n      var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n      if (dateA != dateB) return false;\n      if (dateA && dateB) return a.getTime() == b.getTime();\n      var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n      if (regexpA != regexpB) return false;\n      if (regexpA && regexpB) return a.toString() == b.toString();\n      var keys = Object.keys(a);\n      length = keys.length;\n      if (length !== Object.keys(b).length) return false;\n      for (i = length; i-- !== 0;) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n      for (i = length; i-- !== 0;) {\n        key = keys[i];\n        if (!this.deepEquals(a[key], b[key])) return false;\n      }\n      return true;\n    }\n    return a !== a && b !== b;\n  },\n  resolveFieldData: function resolveFieldData(data, field) {\n    if (!data || !field) {\n      // short circuit if there is nothing to resolve\n      return null;\n    }\n    try {\n      var value = data[field];\n      if (this.isNotEmpty(value)) return value;\n    } catch (_unused) {\n      // Performance optimization: https://github.com/primefaces/primereact/issues/4797\n      // do nothing and continue to other methods to resolve field data\n    }\n    if (Object.keys(data).length) {\n      if (this.isFunction(field)) {\n        return field(data);\n      } else if (field.indexOf('.') === -1) {\n        return data[field];\n      } else {\n        var fields = field.split('.');\n        var _value = data;\n        for (var i = 0, len = fields.length; i < len; ++i) {\n          if (_value == null) {\n            return null;\n          }\n          _value = _value[fields[i]];\n        }\n        return _value;\n      }\n    }\n    return null;\n  },\n  getItemValue: function getItemValue(obj) {\n    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n    return this.isFunction(obj) ? obj.apply(void 0, params) : obj;\n  },\n  filter: function filter(value, fields, filterValue) {\n    var filteredItems = [];\n    if (value) {\n      var _iterator = _createForOfIteratorHelper(value),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          var _iterator2 = _createForOfIteratorHelper(fields),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var field = _step2.value;\n              if (String(this.resolveFieldData(item, field)).toLowerCase().indexOf(filterValue.toLowerCase()) > -1) {\n                filteredItems.push(item);\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    return filteredItems;\n  },\n  reorderArray: function reorderArray(value, from, to) {\n    if (value && from !== to) {\n      if (to >= value.length) {\n        to %= value.length;\n        from %= value.length;\n      }\n      value.splice(to, 0, value.splice(from, 1)[0]);\n    }\n  },\n  findIndexInList: function findIndexInList(value, list) {\n    var index = -1;\n    if (list) {\n      for (var i = 0; i < list.length; i++) {\n        if (list[i] === value) {\n          index = i;\n          break;\n        }\n      }\n    }\n    return index;\n  },\n  contains: function contains(value, list) {\n    if (value != null && list && list.length) {\n      var _iterator3 = _createForOfIteratorHelper(list),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var val = _step3.value;\n          if (this.equals(value, val)) return true;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n    return false;\n  },\n  insertIntoOrderedArray: function insertIntoOrderedArray(item, index, arr, sourceArr) {\n    if (arr.length > 0) {\n      var injected = false;\n      for (var i = 0; i < arr.length; i++) {\n        var currentItemIndex = this.findIndexInList(arr[i], sourceArr);\n        if (currentItemIndex > index) {\n          arr.splice(i, 0, item);\n          injected = true;\n          break;\n        }\n      }\n      if (!injected) {\n        arr.push(item);\n      }\n    } else {\n      arr.push(item);\n    }\n  },\n  removeAccents: function removeAccents(str) {\n    if (str && str.search(/[\\xC0-\\xFF]/g) > -1) {\n      str = str.replace(/[\\xC0-\\xC5]/g, 'A').replace(/[\\xC6]/g, 'AE').replace(/[\\xC7]/g, 'C').replace(/[\\xC8-\\xCB]/g, 'E').replace(/[\\xCC-\\xCF]/g, 'I').replace(/[\\xD0]/g, 'D').replace(/[\\xD1]/g, 'N').replace(/[\\xD2-\\xD6\\xD8]/g, 'O').replace(/[\\xD9-\\xDC]/g, 'U').replace(/[\\xDD]/g, 'Y').replace(/[\\xDE]/g, 'P').replace(/[\\xE0-\\xE5]/g, 'a').replace(/[\\xE6]/g, 'ae').replace(/[\\xE7]/g, 'c').replace(/[\\xE8-\\xEB]/g, 'e').replace(/[\\xEC-\\xEF]/g, 'i').replace(/[\\xF1]/g, 'n').replace(/[\\xF2-\\xF6\\xF8]/g, 'o').replace(/[\\xF9-\\xFC]/g, 'u').replace(/[\\xFE]/g, 'p').replace(/[\\xFD\\xFF]/g, 'y');\n    }\n    return str;\n  },\n  getVNodeProp: function getVNodeProp(vnode, prop) {\n    if (vnode) {\n      var props = vnode.props;\n      if (props) {\n        var kebabProp = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n        var propName = Object.prototype.hasOwnProperty.call(props, kebabProp) ? kebabProp : prop;\n        return vnode.type[\"extends\"].props[prop].type === Boolean && props[propName] === '' ? true : props[propName];\n      }\n    }\n    return null;\n  },\n  toFlatCase: function toFlatCase(str) {\n    // convert snake, kebab, camel and pascal cases to flat case\n    return this.isString(str) ? str.replace(/(-|_)/g, '').toLowerCase() : str;\n  },\n  toKebabCase: function toKebabCase(str) {\n    // convert snake, camel and pascal cases to kebab case\n    return this.isString(str) ? str.replace(/(_)/g, '-').replace(/[A-Z]/g, function (c, i) {\n      return i === 0 ? c : '-' + c.toLowerCase();\n    }).toLowerCase() : str;\n  },\n  toCapitalCase: function toCapitalCase(str) {\n    return this.isString(str, {\n      empty: false\n    }) ? str[0].toUpperCase() + str.slice(1) : str;\n  },\n  isEmpty: function isEmpty(value) {\n    return value === null || value === undefined || value === '' || Array.isArray(value) && value.length === 0 || !(value instanceof Date) && _typeof$1(value) === 'object' && Object.keys(value).length === 0;\n  },\n  isNotEmpty: function isNotEmpty(value) {\n    return !this.isEmpty(value);\n  },\n  isFunction: function isFunction(value) {\n    return !!(value && value.constructor && value.call && value.apply);\n  },\n  isObject: function isObject(value) {\n    var empty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return value instanceof Object && value.constructor === Object && (empty || Object.keys(value).length !== 0);\n  },\n  isDate: function isDate(value) {\n    return value instanceof Date && value.constructor === Date;\n  },\n  isArray: function isArray(value) {\n    var empty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return Array.isArray(value) && (empty || value.length !== 0);\n  },\n  isString: function isString(value) {\n    var empty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return typeof value === 'string' && (empty || value !== '');\n  },\n  isPrintableCharacter: function isPrintableCharacter() {\n    var _char = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    return this.isNotEmpty(_char) && _char.length === 1 && _char.match(/\\S| /);\n  },\n  /**\n   * Firefox-v103 does not currently support the \"findLast\" method. It is stated that this method will be supported with Firefox-v104.\n   * https://caniuse.com/mdn-javascript_builtins_array_findlast\n   */\n  findLast: function findLast(arr, callback) {\n    var item;\n    if (this.isNotEmpty(arr)) {\n      try {\n        item = arr.findLast(callback);\n      } catch (_unused2) {\n        item = _toConsumableArray$2(arr).reverse().find(callback);\n      }\n    }\n    return item;\n  },\n  /**\n   * Firefox-v103 does not currently support the \"findLastIndex\" method. It is stated that this method will be supported with Firefox-v104.\n   * https://caniuse.com/mdn-javascript_builtins_array_findlastindex\n   */\n  findLastIndex: function findLastIndex(arr, callback) {\n    var index = -1;\n    if (this.isNotEmpty(arr)) {\n      try {\n        index = arr.findLastIndex(callback);\n      } catch (_unused3) {\n        index = arr.lastIndexOf(_toConsumableArray$2(arr).reverse().find(callback));\n      }\n    }\n    return index;\n  },\n  sort: function sort(value1, value2) {\n    var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var comparator = arguments.length > 3 ? arguments[3] : undefined;\n    var nullSortOrder = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n    var result = this.compare(value1, value2, comparator, order);\n    var finalSortOrder = order;\n\n    // nullSortOrder == 1 means Excel like sort nulls at bottom\n    if (this.isEmpty(value1) || this.isEmpty(value2)) {\n      finalSortOrder = nullSortOrder === 1 ? order : nullSortOrder;\n    }\n    return finalSortOrder * result;\n  },\n  compare: function compare(value1, value2, comparator) {\n    var order = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    var result = -1;\n    var emptyValue1 = this.isEmpty(value1);\n    var emptyValue2 = this.isEmpty(value2);\n    if (emptyValue1 && emptyValue2) result = 0;else if (emptyValue1) result = order;else if (emptyValue2) result = -order;else if (typeof value1 === 'string' && typeof value2 === 'string') result = comparator(value1, value2);else result = value1 < value2 ? -1 : value1 > value2 ? 1 : 0;\n    return result;\n  },\n  localeComparator: function localeComparator() {\n    //performance gain using Int.Collator. It is not recommended to use localeCompare against large arrays.\n    return new Intl.Collator(undefined, {\n      numeric: true\n    }).compare;\n  },\n  nestedKeys: function nestedKeys() {\n    var _this = this;\n    var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var parentKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    return Object.entries(obj).reduce(function (o, _ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n      var currentKey = parentKey ? \"\".concat(parentKey, \".\").concat(key) : key;\n      _this.isObject(value) ? o = o.concat(_this.nestedKeys(value, currentKey)) : o.push(currentKey);\n      return o;\n    }, []);\n  },\n  stringify: function stringify(value) {\n    var _this2 = this;\n    var indent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var currentIndent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var currentIndentStr = ' '.repeat(currentIndent);\n    var nextIndentStr = ' '.repeat(currentIndent + indent);\n    if (this.isArray(value)) {\n      return '[' + value.map(function (v) {\n        return _this2.stringify(v, indent, currentIndent + indent);\n      }).join(', ') + ']';\n    } else if (this.isDate(value)) {\n      return value.toISOString();\n    } else if (this.isFunction(value)) {\n      return value.toString();\n    } else if (this.isObject(value)) {\n      return '{\\n' + Object.entries(value).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n          k = _ref4[0],\n          v = _ref4[1];\n        return \"\".concat(nextIndentStr).concat(k, \": \").concat(_this2.stringify(v, indent, currentIndent + indent));\n      }).join(',\\n') + \"\\n\".concat(currentIndentStr) + '}';\n    } else {\n      return JSON.stringify(value);\n    }\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray$1(arr) { return _arrayWithoutHoles$1(arr) || _iterableToArray$1(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread$1(); }\nfunction _nonIterableSpread$1() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray$1(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }\nfunction _iterableToArray$1(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles$1(arr) { if (Array.isArray(arr)) return _arrayLikeToArray$1(arr); }\nfunction _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar _default = /*#__PURE__*/function () {\n  function _default(_ref) {\n    var init = _ref.init,\n      type = _ref.type;\n    _classCallCheck(this, _default);\n    _defineProperty(this, \"helpers\", void 0);\n    _defineProperty(this, \"type\", void 0);\n    this.helpers = new Set(init);\n    this.type = type;\n  }\n  _createClass(_default, [{\n    key: \"add\",\n    value: function add(instance) {\n      this.helpers.add(instance);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      // @todo\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(instance) {\n      this.helpers[\"delete\"](instance);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.helpers.clear();\n    }\n  }, {\n    key: \"get\",\n    value: function get(parentInstance, slots) {\n      var children = this._get(parentInstance, slots);\n      var computed = children ? this._recursive(_toConsumableArray$1(this.helpers), children) : null;\n      return ObjectUtils.isNotEmpty(computed) ? computed : null;\n    }\n  }, {\n    key: \"_isMatched\",\n    value: function _isMatched(instance, key) {\n      var _parent$vnode;\n      var parent = instance === null || instance === void 0 ? void 0 : instance.parent;\n      return (parent === null || parent === void 0 || (_parent$vnode = parent.vnode) === null || _parent$vnode === void 0 ? void 0 : _parent$vnode.key) === key || parent && this._isMatched(parent, key) || false;\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(parentInstance, slots) {\n      var _ref2, _ref2$default;\n      return ((_ref2 = slots || (parentInstance === null || parentInstance === void 0 ? void 0 : parentInstance.$slots)) === null || _ref2 === void 0 || (_ref2$default = _ref2[\"default\"]) === null || _ref2$default === void 0 ? void 0 : _ref2$default.call(_ref2)) || null;\n    }\n  }, {\n    key: \"_recursive\",\n    value: function _recursive() {\n      var _this = this;\n      var helpers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var components = [];\n      children.forEach(function (child) {\n        if (child.children instanceof Array) {\n          components = components.concat(_this._recursive(components, child.children));\n        } else if (child.type.name === _this.type) {\n          components.push(child);\n        } else if (ObjectUtils.isNotEmpty(child.key)) {\n          components = components.concat(helpers.filter(function (c) {\n            return _this._isMatched(c, child.key);\n          }).map(function (c) {\n            return c.vnode;\n          }));\n        }\n      });\n      return components;\n    }\n  }]);\n  return _default;\n}();\n\nvar lastId = 0;\nfunction UniqueComponentId () {\n  var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'pv_id_';\n  lastId++;\n  return \"\".concat(prefix).concat(lastId);\n}\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction handler() {\n  var zIndexes = [];\n  var generateZIndex = function generateZIndex(key, autoZIndex) {\n    var baseZIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 999;\n    var lastZIndex = getLastZIndex(key, autoZIndex, baseZIndex);\n    var newZIndex = lastZIndex.value + (lastZIndex.key === key ? 0 : baseZIndex) + 1;\n    zIndexes.push({\n      key: key,\n      value: newZIndex\n    });\n    return newZIndex;\n  };\n  var revertZIndex = function revertZIndex(zIndex) {\n    zIndexes = zIndexes.filter(function (obj) {\n      return obj.value !== zIndex;\n    });\n  };\n  var getCurrentZIndex = function getCurrentZIndex(key, autoZIndex) {\n    return getLastZIndex(key, autoZIndex).value;\n  };\n  var getLastZIndex = function getLastZIndex(key, autoZIndex) {\n    var baseZIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    return _toConsumableArray(zIndexes).reverse().find(function (obj) {\n      return autoZIndex ? true : obj.key === key;\n    }) || {\n      key: key,\n      value: baseZIndex\n    };\n  };\n  var getZIndex = function getZIndex(el) {\n    return el ? parseInt(el.style.zIndex, 10) || 0 : 0;\n  };\n  return {\n    get: getZIndex,\n    set: function set(key, el, baseZIndex) {\n      if (el) {\n        el.style.zIndex = String(generateZIndex(key, true, baseZIndex));\n      }\n    },\n    clear: function clear(el) {\n      if (el) {\n        revertZIndex(getZIndex(el));\n        el.style.zIndex = '';\n      }\n    },\n    getCurrent: function getCurrent(key) {\n      return getCurrentZIndex(key, true);\n    }\n  };\n}\nvar ZIndexUtils = handler();\n\nexport { ConnectedOverlayScrollHandler, DomHandler, primebus as EventBus, _default as HelperSet, ObjectUtils, UniqueComponentId, ZIndexUtils };\n"],"mappings":"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","ignoreList":[]}]}