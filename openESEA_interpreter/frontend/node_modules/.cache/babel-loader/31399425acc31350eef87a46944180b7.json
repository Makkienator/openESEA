{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\audit\\single\\AuditDocumentationUpload.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\audit\\single\\AuditDocumentationUpload.vue","mtime":1707572265491},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlbHBEaWFsb2c6IGZhbHNlLAogICAgICBtZXNzYWdlVG9BdWRpdG9yRGlhbG9nOiBmYWxzZSwKICAgICAgdXBsb2FkRG9jdW1lbnRhdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIGNvbW1lbnQ6ICcnLAogICAgICBDb21tZW50ZWRJbmRpY2F0b3I6IG51bGwsCiAgICAgIHF1ZXN0aW9uczogW3sKICAgICAgICBuYW1lOiAnV2hhdCBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIG1lbiBzdGFmZj8nLAogICAgICAgIHJlc3BvbnNlOiA1LAogICAgICAgIHJlY29tbWVuZGF0aW9uczogJycsCiAgICAgICAgc2VjdGlvbjogewogICAgICAgICAgbmFtZTogJ0dlbmRlcicKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnV2hhdCBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIHdvbWVuIHN0YWZmPycsCiAgICAgICAgcmVzcG9uc2U6IDcsCiAgICAgICAgcmVjb21tZW5kYXRpb25zOiAnJywKICAgICAgICBzZWN0aW9uOiB7CiAgICAgICAgICBuYW1lOiAnR2VuZGVyJwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIG5hbWU6ICdXaGF0IGlzIHRoZSBhdmVyYWdlIG1vbnRobHkgc2FsYXJ5IHBlciBlbXBsb3llZT8nLAogICAgICAgIHJlc3BvbnNlOiAnJDQwMDAnLAogICAgICAgIHJlY29tbWVuZGF0aW9uczogJycsCiAgICAgICAgc2VjdGlvbjogewogICAgICAgICAgbmFtZTogJ1NhbGFyeScKICAgICAgICB9CiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhdWRpdEluZGljYXRvcnMnLCBbJ3NlbGVjdGVkSW5kaWNhdG9ycyddKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygncXVlc3Rpb25SZXNwb25zZScsIFsndXBkYXRlUXVlc3Rpb25SZXNwb25zZSddKSwKICAgIG9wZW5Db21tZW50KGluZGljYXRvcikgewogICAgICB0aGlzLkNvbW1lbnRlZEluZGljYXRvciA9IGluZGljYXRvcjsKICAgICAgdGhpcy5tZXNzYWdlVG9BdWRpdG9yRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBzYXZlTWVzc2FnZSgpIHsKICAgICAgY29uc29sZS5sb2coJ3NhdmluZyBtZXNzYWdlJyk7CiAgICAgIHRoaXMuQ29tbWVudGVkSW5kaWNhdG9yLnF1ZXN0aW9uX3Jlc3BvbnNlLmRvY191cGxvYWRfbm90ZSA9IHRoaXMuY29tbWVudDsKICAgICAgdGhpcy5zZWxlY3RlZEluZGljYXRvcnMgPSB0aGlzLnNlbGVjdGVkSW5kaWNhdG9ycy5tYXAoaXRlbSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uaWQgIT09IHRoaXMuQ29tbWVudGVkSW5kaWNhdG9yLmlkKSB7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwgdGhpcy5Db21tZW50ZWRJbmRpY2F0b3IpOwogICAgICB9KTsKICAgICAgdGhpcy5tZXNzYWdlVG9BdWRpdG9yRGlhbG9nID0gZmFsc2U7CiAgICAgIGF3YWl0IHRoaXMudXBkYXRlUXVlc3Rpb25SZXNwb25zZSh7CiAgICAgICAgb0lkOiAwLAogICAgICAgIGVhSWQ6IDAsCiAgICAgICAgaWQ6IHRoaXMuQ29tbWVudGVkSW5kaWNhdG9yLnF1ZXN0aW9uX3Jlc3BvbnNlLmlkLAogICAgICAgIGRhdGE6IHRoaXMuQ29tbWVudGVkSW5kaWNhdG9yLnF1ZXN0aW9uX3Jlc3BvbnNlCiAgICAgIH0pOwogICAgfSwKICAgIC8vIE5lZWRzIHRvIGJlIHJld3JpdHRlbiB0byB0aGUgYXBwcm9wcmlhdGUgYmFja2VuZCBlbmRwb2ludC9sb2NhdGlvbiEKICAgIGFzeW5jIG9uVXBsb2FkKGV2ZW50KSB7CiAgICAgIC8vIGF3YWl0IHRoaXMucmVmcmVzaEFjY2Vzc1Rva2VuKCkKICAgICAgLy8gZm9yIChjb25zdCBmaWxlIG9mIGV2ZW50LmZpbGVzKSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhmaWxlKQogICAgICAvLyB9CiAgICAgIC8vIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGV2ZW50LmZpbGVzWzBdKQoKICAgICAgLy8gY29uc3QgY29uZmlnID0gewogICAgICAvLyAgICAgaGVhZGVyczogewogICAgICAvLyAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgIC8vICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3N0b3JlLmdldHRlcnNbJ2F1dGhlbnRpY2F0aW9uL0F1dGhlbnRpY2F0aW9uVG9rZW4nXX1gCiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0KICAgICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgLy8gICAgIEF4aW9zSW5zdGFuY2UucG9zdCgnL3NvbWUtcGxhY2UvJywgZm9ybURhdGEsIGNvbmZpZykKICAgICAgLy8gICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICAgICAgICBjb25zdCBpZCA9IHJlc3BvbnNlPy5kYXRhPy5pZAogICAgICAvLyAgICAgICAgIHRoaXMuZ29Ub01ldGhvZChpZCkKICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgLy8gICAgICAgICB0aGlzLiR0b2FzdC5hZGQoeyBzZXZlcml0eTogJ3N1Y2Nlc3MnLCBzdW1tYXJ5OiAnTWV0aG9kIGNyZWF0ZWQnLCBkZXRhaWw6ICdOZXcgbWV0aG9kJywgbGlmZTogMzAwMCB9KQogICAgICAvLyAgICAgfSkKICAgICAgLy8gICAgIC5jYXRjaChjb25zb2xlLmxvZykKICAgICAgLy8gfSkKICAgIH0KICB9Cn07"},{"version":3,"names":["mapState","mapActions","data","helpDialog","messageToAuditorDialog","uploadDocumentationDialog","comment","CommentedIndicator","questions","name","response","recommendations","section","computed","methods","openComment","indicator","saveMessage","console","log","question_response","doc_upload_note","selectedIndicators","map","item","id","Object","assign","updateQuestionResponse","oId","eaId","onUpload","event"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\audit\\single\\AuditDocumentationUpload.vue"],"sourcesContent":["<template>\r\n    <div class=\"p-grid p-m-5\">\r\n        <div class=\"p-col-12 p-d-flex p-ai-center p-jc-between\">\r\n            <h2 class=\"p-text-left\">Documentation Upload</h2>\r\n            <Button @click=\"(helpDialog = !helpDialog)\" label=\"Help\" class=\"p-button-sm p-button-warning\" icon=\"pi pi-external-link\" />\r\n        </div>\r\n        <DataTable class=\"p-col-12\" :value=\"selectedIndicators\" rowGroupMode=\"rowspan\" groupRowsBy=\"section.name\" sortMode=\"single\" sortField=\"section.name\" :sortOrder=\"1\" responsiveLayout=\"scroll\"\r\n        v-model:expandedRowGroups=\"expandedRowGroups\" @rowgroupExpand=\"onRowGroupExpand\" @rowgroupCollapse=\"onRowGroupCollapse\" dataKey=\"name\">\r\n            <Column field=\"topic\" header=\"Topic\"></Column>\r\n            <Column field=\"name\" header=\"Name\" sortable></Column>\r\n            <Column field=\"value\" header=\"Value\" sortable></Column>\r\n            <Column field=\"question_response.doc_request_note\" header=\"Message\" />\r\n            <Column headerStyle=\"width: 10rem; text-align: center\" bodyStyle=\"text-align: center; overflow: visible\">\r\n                <template #body=\"row\">\r\n                    <Button label=\"Comment\" icon=\"pi pi-plus\" class=\"p-button-sm p-button-success\" @click=\"openComment(row.data)\" />\r\n                </template>\r\n            </Column>\r\n            <Column headerStyle=\"width: 10rem; text-align: center\" bodyStyle=\"text-align: center; overflow: visible\">\r\n                <template #body=\"\">\r\n                    <Button label=\"Upload\" icon=\"pi pi-upload\" class=\"p-button-sm p-button-warning\" @click=\"uploadDocumentationDialog = true\" />\r\n                </template>\r\n            </Column>\r\n        </DataTable>\r\n        <div class=\"p-text-right p-col-12\">\r\n            <Button class=\"p-my-5\" label=\"Submit\" icon=\"pi pi-check\" />\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <Dialog v-model:visible=\"helpDialog\" style=\"width: 500px;\" header=\"Help\" :modal=\"true\" dismissableMask=\"true\">\r\n        <p>Your auditor has requested documentation on the listed questions. Please provide documentation that supports your question responses.</p>\r\n        <template #footer>\r\n            <Button label=\"Ok\" icon=\"pi pi-check\" @click=\"(helpDialog = !helpDialog)\" />\r\n        </template>\r\n    </Dialog>\r\n\r\n    <Dialog v-model:visible=\"messageToAuditorDialog\" style=\"width: 500px;\" header=\"Message to Auditor\" :modal=\"true\" dismissableMask=\"true\">\r\n        <Textarea class=\"p-col-12\" id=\"description\" v-model=\"comment\" :autoResize=\"true\" rows=\"3\" />\r\n        <template #footer>\r\n            <Button label=\"Cancel\" class=\"p-button-sm\" icon=\"pi pi-times\" @click=\"(messageToAuditorDialog = false)\" />\r\n            <Button label=\"Save\" class=\"p-button-sm p-button-success\" icon=\"pi pi-check\" @click=\"saveMessage()\" />\r\n        </template>\r\n    </Dialog>\r\n\r\n    <Dialog v-model:visible=\"uploadDocumentationDialog\" :style=\"{width: '700px'}\" header=\"Upload Documentation\" :modal=\"true\" :dismissableMask=\"true\">\r\n        <FileUpload name=\"myfile\" :customUpload=\"true\" @uploader=\"onUpload\" :fileLimit=\"1\" :maxFileSize=\"10000000\" class=\"p-jc-between\">\r\n            <template #empty>\r\n                <p>Drag and drop your Text file here to upload.</p>\r\n            </template>\r\n        </FileUpload>\r\n        <template #footer>\r\n            <Button label=\"Cancel\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"uploadDocumentationDialog = false\"/>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions } from 'vuex'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                helpDialog: false,\r\n                messageToAuditorDialog: false,\r\n                uploadDocumentationDialog: false,\r\n                comment: '',\r\n                CommentedIndicator: null,\r\n                questions: [\r\n                    {\r\n                        name: 'What is the total number of men staff?',\r\n                        response: 5,\r\n                        recommendations: '',\r\n                        section: { name: 'Gender' }\r\n                    },\r\n                    {\r\n                        name: 'What is the total number of women staff?',\r\n                        response: 7,\r\n                        recommendations: '',\r\n                        section: { name: 'Gender' }\r\n\r\n                    },\r\n                    {\r\n                        name: 'What is the average monthly salary per employee?',\r\n                        response: '$4000',\r\n                        recommendations: '',\r\n                        section: { name: 'Salary' }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('auditIndicators', ['selectedIndicators'])\r\n        },\r\n        methods: {\r\n            ...mapActions('questionResponse', ['updateQuestionResponse']),\r\n            openComment (indicator) {\r\n                this.CommentedIndicator = indicator\r\n                this.messageToAuditorDialog = true\r\n            },\r\n            async saveMessage () {\r\n                console.log('saving message')\r\n                this.CommentedIndicator.question_response.doc_upload_note = this.comment\r\n                this.selectedIndicators = this.selectedIndicators.map((item) => {\r\n                    if (item.id !== this.CommentedIndicator.id) { return item }\r\n                    return Object.assign(item, this.CommentedIndicator)\r\n                })\r\n                this.messageToAuditorDialog = false\r\n\r\n                await this.updateQuestionResponse({ oId: 0, eaId: 0, id: this.CommentedIndicator.question_response.id, data: this.CommentedIndicator.question_response })\r\n            },\r\n            // Needs to be rewritten to the appropriate backend endpoint/location!\r\n            async onUpload (event) {\r\n                    // await this.refreshAccessToken()\r\n                    // for (const file of event.files) {\r\n                    //     console.log(file)\r\n                    // }\r\n                    // var formData = new FormData()\r\n                    // formData.append('file', event.files[0])\r\n\r\n                    // const config = {\r\n                    //     headers: {\r\n                    //         'Content-type': 'application/json',\r\n                    //         Authorization: `Bearer ${store.getters['authentication/AuthenticationToken']}`\r\n                    //     }\r\n                    // }\r\n                    // return new Promise((resolve, reject) => {\r\n                    //     AxiosInstance.post('/some-place/', formData, config)\r\n                    //     .then(response => {\r\n                    //         const id = response?.data?.id\r\n                    //         this.goToMethod(id)\r\n                    //         console.log(response)\r\n                    //         this.$toast.add({ severity: 'success', summary: 'Method created', detail: 'New method', life: 3000 })\r\n                    //     })\r\n                    //     .catch(console.log)\r\n                    // })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":";;AAyDI,SAASA,QAAQ,EAAEC,UAAS,QAAS,MAAK;AAE1C,eAAe;EACXC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,UAAU,EAAE,KAAK;MACjBC,sBAAsB,EAAE,KAAK;MAC7BC,yBAAyB,EAAE,KAAK;MAChCC,OAAO,EAAE,EAAE;MACXC,kBAAkB,EAAE,IAAI;MACxBC,SAAS,EAAE,CACP;QACIC,IAAI,EAAE,wCAAwC;QAC9CC,QAAQ,EAAE,CAAC;QACXC,eAAe,EAAE,EAAE;QACnBC,OAAO,EAAE;UAAEH,IAAI,EAAE;QAAS;MAC9B,CAAC,EACD;QACIA,IAAI,EAAE,0CAA0C;QAChDC,QAAQ,EAAE,CAAC;QACXC,eAAe,EAAE,EAAE;QACnBC,OAAO,EAAE;UAAEH,IAAI,EAAE;QAAS;MAE9B,CAAC,EACD;QACIA,IAAI,EAAE,kDAAkD;QACxDC,QAAQ,EAAE,OAAO;QACjBC,eAAe,EAAE,EAAE;QACnBC,OAAO,EAAE;UAAEH,IAAI,EAAE;QAAS;MAC9B;IAER;EACJ,CAAC;EACDI,QAAQ,EAAE;IACN,GAAGb,QAAQ,CAAC,iBAAiB,EAAE,CAAC,oBAAoB,CAAC;EACzD,CAAC;EACDc,OAAO,EAAE;IACL,GAAGb,UAAU,CAAC,kBAAkB,EAAE,CAAC,wBAAwB,CAAC,CAAC;IAC7Dc,WAAUA,CAAGC,SAAS,EAAE;MACpB,IAAI,CAACT,kBAAiB,GAAIS,SAAQ;MAClC,IAAI,CAACZ,sBAAqB,GAAI,IAAG;IACrC,CAAC;IACD,MAAMa,WAAUA,CAAA,EAAK;MACjBC,OAAO,CAACC,GAAG,CAAC,gBAAgB;MAC5B,IAAI,CAACZ,kBAAkB,CAACa,iBAAiB,CAACC,eAAc,GAAI,IAAI,CAACf,OAAM;MACvE,IAAI,CAACgB,kBAAiB,GAAI,IAAI,CAACA,kBAAkB,CAACC,GAAG,CAAEC,IAAI,IAAK;QAC5D,IAAIA,IAAI,CAACC,EAAC,KAAM,IAAI,CAAClB,kBAAkB,CAACkB,EAAE,EAAE;UAAE,OAAOD,IAAG;QAAE;QAC1D,OAAOE,MAAM,CAACC,MAAM,CAACH,IAAI,EAAE,IAAI,CAACjB,kBAAkB;MACtD,CAAC;MACD,IAAI,CAACH,sBAAqB,GAAI,KAAI;MAElC,MAAM,IAAI,CAACwB,sBAAsB,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,IAAI,EAAE,CAAC;QAAEL,EAAE,EAAE,IAAI,CAAClB,kBAAkB,CAACa,iBAAiB,CAACK,EAAE;QAAEvB,IAAI,EAAE,IAAI,CAACK,kBAAkB,CAACa;MAAkB,CAAC;IAC5J,CAAC;IACD;IACA,MAAMW,QAAOA,CAAGC,KAAK,EAAE;MACf;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IAAA;EAEZ;AACJ","ignoreList":[]}]}