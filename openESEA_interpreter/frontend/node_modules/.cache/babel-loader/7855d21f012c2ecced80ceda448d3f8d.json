{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\PieChart.vue?vue&type=template&id=1ee47e30","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\PieChart.vue","mtime":1707572265298},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1741014602863},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF92dWVfZWNoYXJ0cyA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2dWUtZWNoYXJ0cyIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3Z1ZV9lY2hhcnRzLCB7CiAgICBvcHRpb246ICRvcHRpb25zLmNyZWF0ZU9wdGlvbnMoJHByb3BzLmNoYXJ0RGF0YSksCiAgICBhdXRvcmVzaXplOiAiIgogIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsib3B0aW9uIl0pOwp9"},{"version":3,"names":["_createBlock","_component_vue_echarts","option","$options","createOptions","$props","chartData","autoresize"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\dashboard\\visualisations\\charts\\PieChart.vue"],"sourcesContent":["<template>\r\n    <vue-echarts :option=\"createOptions(chartData)\" autoresize>\r\n    </vue-echarts>\r\n</template>\r\n\r\n<script>\r\nimport 'echarts'\r\nimport ECharts from 'vue-echarts'\r\nimport { use } from 'echarts/core'\r\nimport { PieChart } from 'echarts/charts'\r\nimport { CanvasRenderer } from 'echarts/renderers'\r\n\r\nuse([PieChart, CanvasRenderer])\r\n\r\nexport default {\r\n    components: {\r\n        'vue-echarts': ECharts\r\n    },\r\n    props: {\r\n        chartData: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        createOptions (chartData) {\r\n            const title = chartData.title\r\n            const titleOptions = {\r\n                text: title,\r\n                left: 'center',\r\n                textStyle: {\r\n                    overflow: 'break',\r\n                    fontSize: 12\r\n                }\r\n            }\r\n            const mapping = chartData?.mapping\r\n            if (!mapping) return { title: titleOptions }\r\n            const categoryKey = mapping?.['Category Field']?.key\r\n            const valueKey = mapping?.['Value Field']?.key\r\n            if (!categoryKey || !valueKey) return { title: titleOptions }\r\n            const data = chartData.data\r\n            const unsortedData = data?.map(row => { return { value: row[valueKey], name: row[categoryKey] } })\r\n            const allData = unsortedData.sort(function (a, b) { if (a.value > b.value) { return -1 } else if (a.value < b.value) { return 1 } else if (a.name > b.name) { return -1 } else if (a.name < b.name) { return 1 } else { return 0 } })\r\n\r\n            const chartOptions = chartData.options\r\n            const categoryLimit = chartOptions?.categoryLimit ?? 0\r\n            const slicedData = categoryLimit > 0 ? allData.slice(0, categoryLimit) : allData\r\n\r\n            const showLabels = false\r\n\r\n            const options = {\r\n                title: titleOptions,\r\n                tooltip: {\r\n                    trigger: 'item'\r\n                },\r\n                legend: {\r\n                    orient: 'horizontal',\r\n                    bottom: 'left'\r\n                },\r\n                series: [\r\n                    {\r\n                        type: 'pie',\r\n                        data: slicedData,\r\n                        radius: '60%',\r\n                        label: {\r\n                            show: showLabels,\r\n                            overflow: 'none',\r\n                            distance: 5\r\n                        },\r\n                        labelLine: {\r\n                            show: showLabels\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n            return options\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"mappings":";;;uBACIA,YAAA,CACcC,sBAAA;IADAC,MAAM,EAAEC,QAAA,CAAAC,aAAa,CAACC,MAAA,CAAAC,SAAS;IAAGC,UAAU,EAAV","ignoreList":[]}]}