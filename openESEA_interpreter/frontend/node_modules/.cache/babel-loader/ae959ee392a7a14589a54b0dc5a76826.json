{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\utils\\api.js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\utils\\api.js","mtime":1707572265456},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1741014586138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQXhpb3NJbnN0YW5jZSB9IGZyb20gJy4uL3BsdWdpbnMvYXhpb3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwpleHBvcnQgZGVmYXVsdCBhc3luYyAoewogIG1ldGhvZCA9ICdnZXQnLAogIHVybCwKICBkYXRhCn0pID0+IHsKICBjb25zb2xlLmxvZygnQWNjZXNzJywgc3RvcmUuc3RhdGUuYXV0aGVudGljYXRpb24uYWNjZXNzVG9rZW4pOwogIHRyeSB7CiAgICBjb25zb2xlLmxvZygnVXJsOiAnLCB1cmwpOwogICAgaWYgKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ1JlcXVlc3QgRGF0YTogJywgZGF0YSk7CiAgICB9CiAgICAvLyBtYWdpYzogY2FsbCB0byBkYXRhYmFzZQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBeGlvc0luc3RhbmNlW21ldGhvZF0odXJsLCBkYXRhKTsKICAgIHJldHVybiB7CiAgICAgIHJlc3BvbnNlCiAgICB9OwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICB2YXIgX2Vycm9yJHJlc3BvbnNlOwogICAgY29uc29sZS5sb2coJ2Vycm9yOicsIGVycm9yKTsKICAgIC8vIGlmIGF1dGhlbnRpY2F0aW9uIGVycm9yIChhY2Nlc3N0b2tlbiBleHBpcmVkL2ludmFsaWQpLCByZWZyZXNoIHRva2VuCiAgICBpZiAoKGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9yJHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlLnN0YXR1cykgPT09IDQwMSAmJiBzdG9yZS5zdGF0ZS5hdXRoZW50aWNhdGlvbi5hY2Nlc3NUb2tlbikgewogICAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaCgnYXV0aGVudGljYXRpb24vcmVmcmVzaEFjY2Vzc1Rva2VuJyk7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gcmV0cnkgbWFnaWM6IGNhbGwgdG8gZGF0YWJhc2UKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF4aW9zSW5zdGFuY2VbbWV0aG9kXSh1cmwsIGRhdGEpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICByZXNwb25zZQogICAgICAgIH07CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQogICAgfQogICAgcmV0dXJuIHsKICAgICAgZXJyb3IKICAgIH07CiAgfQp9Ow=="},{"version":3,"names":["AxiosInstance","store","method","url","data","console","log","state","authentication","accessToken","response","error","_error$response","status","dispatch"],"sources":["C:/Users/Marc/source/repos/openESEA/openESEA_interpreter/frontend/src/utils/api.js"],"sourcesContent":["import { AxiosInstance } from '../plugins/axios'\r\nimport store from '../store'\r\n\r\nexport default async ({ method = 'get', url, data }) => {\r\n    console.log('Access', store.state.authentication.accessToken)\r\n    try {\r\n        console.log('Url: ', url)\r\n        if (data) { console.log('Request Data: ', data) }\r\n        // magic: call to database\r\n        const response = await AxiosInstance[method](url, data)\r\n        return { response }\r\n    } catch (error) {\r\n        console.log('error:', error)\r\n        // if authentication error (accesstoken expired/invalid), refresh token\r\n        if (error?.response?.status === 401 && store.state.authentication.accessToken) {\r\n            await store.dispatch('authentication/refreshAccessToken')\r\n            try {\r\n                // retry magic: call to database\r\n                const response = await AxiosInstance[method](url, data)\r\n                return { response }\r\n            } catch (error) {\r\n            }\r\n        }\r\n        return { error }\r\n    }\r\n}\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,kBAAkB;AAChD,OAAOC,KAAK,MAAM,UAAU;AAE5B,eAAe,OAAO;EAAEC,MAAM,GAAG,KAAK;EAAEC,GAAG;EAAEC;AAAK,CAAC,KAAK;EACpDC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEL,KAAK,CAACM,KAAK,CAACC,cAAc,CAACC,WAAW,CAAC;EAC7D,IAAI;IACAJ,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEH,GAAG,CAAC;IACzB,IAAIC,IAAI,EAAE;MAAEC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,IAAI,CAAC;IAAC;IAChD;IACA,MAAMM,QAAQ,GAAG,MAAMV,aAAa,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,CAAC;IACvD,OAAO;MAAEM;IAAS,CAAC;EACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA;IACZP,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEK,KAAK,CAAC;IAC5B;IACA,IAAI,CAAAA,KAAK,aAALA,KAAK,wBAAAC,eAAA,GAALD,KAAK,CAAED,QAAQ,cAAAE,eAAA,uBAAfA,eAAA,CAAiBC,MAAM,MAAK,GAAG,IAAIZ,KAAK,CAACM,KAAK,CAACC,cAAc,CAACC,WAAW,EAAE;MAC3E,MAAMR,KAAK,CAACa,QAAQ,CAAC,mCAAmC,CAAC;MACzD,IAAI;QACA;QACA,MAAMJ,QAAQ,GAAG,MAAMV,aAAa,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,CAAC;QACvD,OAAO;UAAEM;QAAS,CAAC;MACvB,CAAC,CAAC,OAAOC,KAAK,EAAE,CAChB;IACJ;IACA,OAAO;MAAEA;IAAM,CAAC;EACpB;AACJ,CAAC","ignoreList":[]}]}