{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\primevue\\virtualscroller\\virtualscroller.esm.js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\primevue\\virtualscroller\\virtualscroller.esm.js","mtime":1741014671577},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0IFNwaW5uZXJJY29uIGZyb20gJ3ByaW1ldnVlL2ljb25zL3NwaW5uZXInOwppbXBvcnQgeyBEb21IYW5kbGVyIH0gZnJvbSAncHJpbWV2dWUvdXRpbHMnOwppbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tICdwcmltZXZ1ZS9iYXNlY29tcG9uZW50JzsKaW1wb3J0IFZpcnR1YWxTY3JvbGxlclN0eWxlIGZyb20gJ3ByaW1ldnVlL3ZpcnR1YWxzY3JvbGxlci9zdHlsZSc7CmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQsIG9wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrLCBtZXJnZVByb3BzLCByZW5kZXJTbG90LCBjcmVhdGVFbGVtZW50Vk5vZGUsIEZyYWdtZW50LCByZW5kZXJMaXN0LCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIH0gZnJvbSAndnVlJzsKdmFyIHNjcmlwdCQxID0gewogIG5hbWU6ICdCYXNlVmlydHVhbFNjcm9sbGVyJywKICAiZXh0ZW5kcyI6IEJhc2VDb21wb25lbnQsCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiBudWxsCiAgICB9LAogICAgc3R5bGU6IG51bGwsCiAgICAiY2xhc3MiOiBudWxsLAogICAgaXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogbnVsbAogICAgfSwKICAgIGl0ZW1TaXplOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIEFycmF5XSwKICAgICAgImRlZmF1bHQiOiAwCiAgICB9LAogICAgc2Nyb2xsSGVpZ2h0OiBudWxsLAogICAgc2Nyb2xsV2lkdGg6IG51bGwsCiAgICBvcmllbnRhdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogJ3ZlcnRpY2FsJwogICAgfSwKICAgIG51bVRvbGVyYXRlZEl0ZW1zOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgImRlZmF1bHQiOiBudWxsCiAgICB9LAogICAgZGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDAKICAgIH0sCiAgICByZXNpemVEZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogMTAKICAgIH0sCiAgICBsYXp5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICJkZWZhdWx0IjogZmFsc2UKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9LAogICAgbG9hZGVyRGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIGNvbHVtbnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogbnVsbAogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIHNob3dTcGFjZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiB0cnVlCiAgICB9LAogICAgc2hvd0xvYWRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9LAogICAgdGFiaW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDAKICAgIH0sCiAgICBpbmxpbmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIHN0ZXA6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAiZGVmYXVsdCI6IDAKICAgIH0sCiAgICBhcHBlbmRPbmx5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICJkZWZhdWx0IjogZmFsc2UKICAgIH0sCiAgICBhdXRvU2l6ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9CiAgfSwKICBzdHlsZTogVmlydHVhbFNjcm9sbGVyU3R5bGUsCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgICRwYXJlbnRJbnN0YW5jZTogdGhpcwogICAgfTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpcyQkcHJpbWV2dWVDb25maWc7CiAgICBWaXJ0dWFsU2Nyb2xsZXJTdHlsZS5sb2FkU3R5bGUoewogICAgICBub25jZTogKF90aGlzJCRwcmltZXZ1ZUNvbmZpZyA9IHRoaXMuJHByaW1ldnVlQ29uZmlnKSA9PT0gbnVsbCB8fCBfdGhpcyQkcHJpbWV2dWVDb25maWcgPT09IHZvaWQgMCB8fCAoX3RoaXMkJHByaW1ldnVlQ29uZmlnID0gX3RoaXMkJHByaW1ldnVlQ29uZmlnLmNzcCkgPT09IG51bGwgfHwgX3RoaXMkJHByaW1ldnVlQ29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcHJpbWV2dWVDb25maWcubm9uY2UKICAgIH0pOwogIH0KfTsKZnVuY3Rpb24gX3R5cGVvZihvKSB7CiAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7CiAgICByZXR1cm4gdHlwZW9mIG87CiAgfSA6IGZ1bmN0aW9uIChvKSB7CiAgICByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOwogIH0sIF90eXBlb2Yobyk7Cn0KZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7CiAgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsKICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOwogICAgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7CiAgICB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsKICB9CiAgcmV0dXJuIHQ7Cn0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7CiAgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsKICAgIHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsKICAgIHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7CiAgICAgIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsKICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7CiAgICB9KTsKICB9CiAgcmV0dXJuIGU7Cn0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7CiAgaWYgKGtleSBpbiBvYmopIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsdWUsCiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0gZWxzZSB7CiAgICBvYmpba2V5XSA9IHZhbHVlOwogIH0KICByZXR1cm4gb2JqOwp9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsKICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCAic3RyaW5nIik7CiAgcmV0dXJuICJzeW1ib2wiID09IF90eXBlb2YoaSkgPyBpIDogU3RyaW5nKGkpOwp9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7CiAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OwogIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOwogIGlmICh2b2lkIDAgIT09IGUpIHsKICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgImRlZmF1bHQiKTsKICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgfQogIHJldHVybiAoInN0cmluZyIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOwp9CnZhciBzY3JpcHQgPSB7CiAgbmFtZTogJ1ZpcnR1YWxTY3JvbGxlcicsCiAgImV4dGVuZHMiOiBzY3JpcHQkMSwKICBpbmhlcml0QXR0cnM6IGZhbHNlLAogIGVtaXRzOiBbJ3VwZGF0ZTpudW1Ub2xlcmF0ZWRJdGVtcycsICdzY3JvbGwnLCAnc2Nyb2xsLWluZGV4LWNoYW5nZScsICdsYXp5LWxvYWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGJvdGggPSB0aGlzLmlzQm90aCgpOwogICAgcmV0dXJuIHsKICAgICAgZmlyc3Q6IGJvdGggPyB7CiAgICAgICAgcm93czogMCwKICAgICAgICBjb2xzOiAwCiAgICAgIH0gOiAwLAogICAgICBsYXN0OiBib3RoID8gewogICAgICAgIHJvd3M6IDAsCiAgICAgICAgY29sczogMAogICAgICB9IDogMCwKICAgICAgcGFnZTogYm90aCA/IHsKICAgICAgICByb3dzOiAwLAogICAgICAgIGNvbHM6IDAKICAgICAgfSA6IDAsCiAgICAgIG51bUl0ZW1zSW5WaWV3cG9ydDogYm90aCA/IHsKICAgICAgICByb3dzOiAwLAogICAgICAgIGNvbHM6IDAKICAgICAgfSA6IDAsCiAgICAgIGxhc3RTY3JvbGxQb3M6IGJvdGggPyB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfSA6IDAsCiAgICAgIGRfbnVtVG9sZXJhdGVkSXRlbXM6IHRoaXMubnVtVG9sZXJhdGVkSXRlbXMsCiAgICAgIGRfbG9hZGluZzogdGhpcy5sb2FkaW5nLAogICAgICBsb2FkZXJBcnI6IFtdLAogICAgICBzcGFjZXJTdHlsZToge30sCiAgICAgIGNvbnRlbnRTdHlsZToge30KICAgIH07CiAgfSwKICBlbGVtZW50OiBudWxsLAogIGNvbnRlbnQ6IG51bGwsCiAgbGFzdFNjcm9sbFBvczogbnVsbCwKICBzY3JvbGxUaW1lb3V0OiBudWxsLAogIHJlc2l6ZVRpbWVvdXQ6IG51bGwsCiAgZGVmYXVsdFdpZHRoOiAwLAogIGRlZmF1bHRIZWlnaHQ6IDAsCiAgZGVmYXVsdENvbnRlbnRXaWR0aDogMCwKICBkZWZhdWx0Q29udGVudEhlaWdodDogMCwKICBpc1JhbmdlQ2hhbmdlZDogZmFsc2UsCiAgbGF6eUxvYWRTdGF0ZToge30sCiAgcmVzaXplTGlzdGVuZXI6IG51bGwsCiAgaW5pdGlhbGl6ZWQ6IGZhbHNlLAogIHdhdGNoOiB7CiAgICBudW1Ub2xlcmF0ZWRJdGVtczogZnVuY3Rpb24gbnVtVG9sZXJhdGVkSXRlbXMobmV3VmFsdWUpIHsKICAgICAgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zID0gbmV3VmFsdWU7CiAgICB9LAogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKHRoaXMubGF6eSAmJiBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgJiYgbmV3VmFsdWUgIT09IHRoaXMuZF9sb2FkaW5nKSB7CiAgICAgICAgdGhpcy5kX2xvYWRpbmcgPSBuZXdWYWx1ZTsKICAgICAgfQogICAgfSwKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKCFvbGRWYWx1ZSB8fCBvbGRWYWx1ZS5sZW5ndGggIT09IChuZXdWYWx1ZSB8fCBbXSkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVBdXRvU2l6ZSgpOwogICAgICB9CiAgICB9LAogICAgaXRlbVNpemU6IGZ1bmN0aW9uIGl0ZW1TaXplKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgICAgdGhpcy5jYWxjdWxhdGVBdXRvU2l6ZSgpOwogICAgfSwKICAgIG9yaWVudGF0aW9uOiBmdW5jdGlvbiBvcmllbnRhdGlvbigpIHsKICAgICAgdGhpcy5sYXN0U2Nyb2xsUG9zID0gdGhpcy5pc0JvdGgoKSA/IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMAogICAgICB9IDogMDsKICAgIH0sCiAgICBzY3JvbGxIZWlnaHQ6IGZ1bmN0aW9uIHNjcm9sbEhlaWdodCgpIHsKICAgICAgdGhpcy5pbml0KCk7CiAgICAgIHRoaXMuY2FsY3VsYXRlQXV0b1NpemUoKTsKICAgIH0sCiAgICBzY3JvbGxXaWR0aDogZnVuY3Rpb24gc2Nyb2xsV2lkdGgoKSB7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgICB0aGlzLmNhbGN1bGF0ZUF1dG9TaXplKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy52aWV3SW5pdCgpOwogICAgdGhpcy5sYXN0U2Nyb2xsUG9zID0gdGhpcy5pc0JvdGgoKSA/IHsKICAgICAgdG9wOiAwLAogICAgICBsZWZ0OiAwCiAgICB9IDogMDsKICAgIHRoaXMubGF6eUxvYWRTdGF0ZSA9IHRoaXMubGF6eUxvYWRTdGF0ZSB8fCB7fTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICAhdGhpcy5pbml0aWFsaXplZCAmJiB0aGlzLnZpZXdJbml0KCk7CiAgfSwKICB1bm1vdW50ZWQ6IGZ1bmN0aW9uIHVubW91bnRlZCgpIHsKICAgIHRoaXMudW5iaW5kUmVzaXplTGlzdGVuZXIoKTsKICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZpZXdJbml0OiBmdW5jdGlvbiB2aWV3SW5pdCgpIHsKICAgICAgaWYgKERvbUhhbmRsZXIuaXNWaXNpYmxlKHRoaXMuZWxlbWVudCkpIHsKICAgICAgICB0aGlzLnNldENvbnRlbnRFbCh0aGlzLmNvbnRlbnQpOwogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgIHRoaXMuY2FsY3VsYXRlQXV0b1NpemUoKTsKICAgICAgICB0aGlzLmJpbmRSZXNpemVMaXN0ZW5lcigpOwogICAgICAgIHRoaXMuZGVmYXVsdFdpZHRoID0gRG9tSGFuZGxlci5nZXRXaWR0aCh0aGlzLmVsZW1lbnQpOwogICAgICAgIHRoaXMuZGVmYXVsdEhlaWdodCA9IERvbUhhbmRsZXIuZ2V0SGVpZ2h0KHRoaXMuZWxlbWVudCk7CiAgICAgICAgdGhpcy5kZWZhdWx0Q29udGVudFdpZHRoID0gRG9tSGFuZGxlci5nZXRXaWR0aCh0aGlzLmNvbnRlbnQpOwogICAgICAgIHRoaXMuZGVmYXVsdENvbnRlbnRIZWlnaHQgPSBEb21IYW5kbGVyLmdldEhlaWdodCh0aGlzLmNvbnRlbnQpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgdGhpcy5zZXRTaXplKCk7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVPcHRpb25zKCk7CiAgICAgICAgdGhpcy5zZXRTcGFjZXJTaXplKCk7CiAgICAgIH0KICAgIH0sCiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiBpc1ZlcnRpY2FsKCkgewogICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJzsKICAgIH0sCiAgICBpc0hvcml6b250YWw6IGZ1bmN0aW9uIGlzSG9yaXpvbnRhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJzsKICAgIH0sCiAgICBpc0JvdGg6IGZ1bmN0aW9uIGlzQm90aCgpIHsKICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09ICdib3RoJzsKICAgIH0sCiAgICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG8ob3B0aW9ucykgewogICAgICAvL3RoaXMubGFzdFNjcm9sbFBvcyA9IHRoaXMuYm90aCA/IHsgdG9wOiAwLCBsZWZ0OiAwIH0gOiAwOwogICAgICB0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LnNjcm9sbFRvKG9wdGlvbnMpOwogICAgfSwKICAgIHNjcm9sbFRvSW5kZXg6IGZ1bmN0aW9uIHNjcm9sbFRvSW5kZXgoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGJlaGF2aW9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnYXV0byc7CiAgICAgIHZhciBib3RoID0gdGhpcy5pc0JvdGgoKTsKICAgICAgdmFyIGhvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpOwogICAgICB2YXIgdmFsaWQgPSBib3RoID8gaW5kZXguZXZlcnkoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaSA+IC0xOwogICAgICB9KSA6IGluZGV4ID4gLTE7CiAgICAgIGlmICh2YWxpZCkgewogICAgICAgIHZhciBmaXJzdCA9IHRoaXMuZmlyc3Q7CiAgICAgICAgdmFyIF90aGlzJGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsCiAgICAgICAgICBfdGhpcyRlbGVtZW50JHNjcm9sbFQgPSBfdGhpcyRlbGVtZW50LnNjcm9sbFRvcCwKICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJGVsZW1lbnQkc2Nyb2xsVCA9PT0gdm9pZCAwID8gMCA6IF90aGlzJGVsZW1lbnQkc2Nyb2xsVCwKICAgICAgICAgIF90aGlzJGVsZW1lbnQkc2Nyb2xsTCA9IF90aGlzJGVsZW1lbnQuc2Nyb2xsTGVmdCwKICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRlbGVtZW50JHNjcm9sbEwgPT09IHZvaWQgMCA/IDAgOiBfdGhpcyRlbGVtZW50JHNjcm9sbEw7CiAgICAgICAgdmFyIF90aGlzJGNhbGN1bGF0ZU51bUl0ZSA9IHRoaXMuY2FsY3VsYXRlTnVtSXRlbXMoKSwKICAgICAgICAgIG51bVRvbGVyYXRlZEl0ZW1zID0gX3RoaXMkY2FsY3VsYXRlTnVtSXRlLm51bVRvbGVyYXRlZEl0ZW1zOwogICAgICAgIHZhciBjb250ZW50UG9zID0gdGhpcy5nZXRDb250ZW50UG9zaXRpb24oKTsKICAgICAgICB2YXIgaXRlbVNpemUgPSB0aGlzLml0ZW1TaXplOwogICAgICAgIHZhciBjYWxjdWxhdGVGaXJzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0KCkgewogICAgICAgICAgdmFyIF9pbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDsKICAgICAgICAgIHZhciBfbnVtVCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICAgICAgcmV0dXJuIF9pbmRleCA8PSBfbnVtVCA/IDAgOiBfaW5kZXg7CiAgICAgICAgfTsKICAgICAgICB2YXIgY2FsY3VsYXRlQ29vcmQgPSBmdW5jdGlvbiBjYWxjdWxhdGVDb29yZChfZmlyc3QsIF9zaXplLCBfY3BvcykgewogICAgICAgICAgcmV0dXJuIF9maXJzdCAqIF9zaXplICsgX2Nwb3M7CiAgICAgICAgfTsKICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbygpIHsKICAgICAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICAgICAgdmFyIHRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKICAgICAgICAgIHJldHVybiBfdGhpcy5zY3JvbGxUbyh7CiAgICAgICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgICAgIHRvcDogdG9wLAogICAgICAgICAgICBiZWhhdmlvcjogYmVoYXZpb3IKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIG5ld0ZpcnN0ID0gYm90aCA/IHsKICAgICAgICAgIHJvd3M6IDAsCiAgICAgICAgICBjb2xzOiAwCiAgICAgICAgfSA6IDA7CiAgICAgICAgdmFyIGlzUmFuZ2VDaGFuZ2VkID0gZmFsc2UsCiAgICAgICAgICBpc1Njcm9sbENoYW5nZWQgPSBmYWxzZTsKICAgICAgICBpZiAoYm90aCkgewogICAgICAgICAgbmV3Rmlyc3QgPSB7CiAgICAgICAgICAgIHJvd3M6IGNhbGN1bGF0ZUZpcnN0KGluZGV4WzBdLCBudW1Ub2xlcmF0ZWRJdGVtc1swXSksCiAgICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0KGluZGV4WzFdLCBudW1Ub2xlcmF0ZWRJdGVtc1sxXSkKICAgICAgICAgIH07CiAgICAgICAgICBzY3JvbGxUbyhjYWxjdWxhdGVDb29yZChuZXdGaXJzdC5jb2xzLCBpdGVtU2l6ZVsxXSwgY29udGVudFBvcy5sZWZ0KSwgY2FsY3VsYXRlQ29vcmQobmV3Rmlyc3Qucm93cywgaXRlbVNpemVbMF0sIGNvbnRlbnRQb3MudG9wKSk7CiAgICAgICAgICBpc1Njcm9sbENoYW5nZWQgPSB0aGlzLmxhc3RTY3JvbGxQb3MudG9wICE9PSBzY3JvbGxUb3AgfHwgdGhpcy5sYXN0U2Nyb2xsUG9zLmxlZnQgIT09IHNjcm9sbExlZnQ7CiAgICAgICAgICBpc1JhbmdlQ2hhbmdlZCA9IG5ld0ZpcnN0LnJvd3MgIT09IGZpcnN0LnJvd3MgfHwgbmV3Rmlyc3QuY29scyAhPT0gZmlyc3QuY29sczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV3Rmlyc3QgPSBjYWxjdWxhdGVGaXJzdChpbmRleCwgbnVtVG9sZXJhdGVkSXRlbXMpOwogICAgICAgICAgaG9yaXpvbnRhbCA/IHNjcm9sbFRvKGNhbGN1bGF0ZUNvb3JkKG5ld0ZpcnN0LCBpdGVtU2l6ZSwgY29udGVudFBvcy5sZWZ0KSwgc2Nyb2xsVG9wKSA6IHNjcm9sbFRvKHNjcm9sbExlZnQsIGNhbGN1bGF0ZUNvb3JkKG5ld0ZpcnN0LCBpdGVtU2l6ZSwgY29udGVudFBvcy50b3ApKTsKICAgICAgICAgIGlzU2Nyb2xsQ2hhbmdlZCA9IHRoaXMubGFzdFNjcm9sbFBvcyAhPT0gKGhvcml6b250YWwgPyBzY3JvbGxMZWZ0IDogc2Nyb2xsVG9wKTsKICAgICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3QgIT09IGZpcnN0OwogICAgICAgIH0KICAgICAgICB0aGlzLmlzUmFuZ2VDaGFuZ2VkID0gaXNSYW5nZUNoYW5nZWQ7CiAgICAgICAgaXNTY3JvbGxDaGFuZ2VkICYmICh0aGlzLmZpcnN0ID0gbmV3Rmlyc3QpOwogICAgICB9CiAgICB9LAogICAgc2Nyb2xsSW5WaWV3OiBmdW5jdGlvbiBzY3JvbGxJblZpZXcoaW5kZXgsIHRvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgYmVoYXZpb3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdhdXRvJzsKICAgICAgaWYgKHRvKSB7CiAgICAgICAgdmFyIGJvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICAgIHZhciBob3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgICB2YXIgdmFsaWQgPSBib3RoID8gaW5kZXguZXZlcnkoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBpID4gLTE7CiAgICAgICAgfSkgOiBpbmRleCA+IC0xOwogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIF90aGlzJGdldFJlbmRlcmVkUmFuZyA9IHRoaXMuZ2V0UmVuZGVyZWRSYW5nZSgpLAogICAgICAgICAgICBmaXJzdCA9IF90aGlzJGdldFJlbmRlcmVkUmFuZy5maXJzdCwKICAgICAgICAgICAgdmlld3BvcnQgPSBfdGhpcyRnZXRSZW5kZXJlZFJhbmcudmlld3BvcnQ7CiAgICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbygpIHsKICAgICAgICAgICAgdmFyIGxlZnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7CiAgICAgICAgICAgIHZhciB0b3AgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2Nyb2xsVG8oewogICAgICAgICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgICAgICAgdG9wOiB0b3AsCiAgICAgICAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKICAgICAgICAgIHZhciBpc1RvU3RhcnQgPSB0byA9PT0gJ3RvLXN0YXJ0JzsKICAgICAgICAgIHZhciBpc1RvRW5kID0gdG8gPT09ICd0by1lbmQnOwogICAgICAgICAgaWYgKGlzVG9TdGFydCkgewogICAgICAgICAgICBpZiAoYm90aCkgewogICAgICAgICAgICAgIGlmICh2aWV3cG9ydC5maXJzdC5yb3dzIC0gZmlyc3Qucm93cyA+IGluZGV4WzBdKSB7CiAgICAgICAgICAgICAgICBzY3JvbGxUbyh2aWV3cG9ydC5maXJzdC5jb2xzICogdGhpcy5pdGVtU2l6ZVsxXSwgKHZpZXdwb3J0LmZpcnN0LnJvd3MgLSAxKSAqIHRoaXMuaXRlbVNpemVbMF0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodmlld3BvcnQuZmlyc3QuY29scyAtIGZpcnN0LmNvbHMgPiBpbmRleFsxXSkgewogICAgICAgICAgICAgICAgc2Nyb2xsVG8oKHZpZXdwb3J0LmZpcnN0LmNvbHMgLSAxKSAqIHRoaXMuaXRlbVNpemVbMV0sIHZpZXdwb3J0LmZpcnN0LnJvd3MgKiB0aGlzLml0ZW1TaXplWzBdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0LmZpcnN0IC0gZmlyc3QgPiBpbmRleCkgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9ICh2aWV3cG9ydC5maXJzdCAtIDEpICogdGhpcy5pdGVtU2l6ZTsKICAgICAgICAgICAgICAgIGhvcml6b250YWwgPyBzY3JvbGxUbyhwb3MsIDApIDogc2Nyb2xsVG8oMCwgcG9zKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoaXNUb0VuZCkgewogICAgICAgICAgICBpZiAoYm90aCkgewogICAgICAgICAgICAgIGlmICh2aWV3cG9ydC5sYXN0LnJvd3MgLSBmaXJzdC5yb3dzIDw9IGluZGV4WzBdICsgMSkgewogICAgICAgICAgICAgICAgc2Nyb2xsVG8odmlld3BvcnQuZmlyc3QuY29scyAqIHRoaXMuaXRlbVNpemVbMV0sICh2aWV3cG9ydC5maXJzdC5yb3dzICsgMSkgKiB0aGlzLml0ZW1TaXplWzBdKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdwb3J0Lmxhc3QuY29scyAtIGZpcnN0LmNvbHMgPD0gaW5kZXhbMV0gKyAxKSB7CiAgICAgICAgICAgICAgICBzY3JvbGxUbygodmlld3BvcnQuZmlyc3QuY29scyArIDEpICogdGhpcy5pdGVtU2l6ZVsxXSwgdmlld3BvcnQuZmlyc3Qucm93cyAqIHRoaXMuaXRlbVNpemVbMF0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodmlld3BvcnQubGFzdCAtIGZpcnN0IDw9IGluZGV4ICsgMSkgewogICAgICAgICAgICAgICAgdmFyIF9wb3MyID0gKHZpZXdwb3J0LmZpcnN0ICsgMSkgKiB0aGlzLml0ZW1TaXplOwogICAgICAgICAgICAgICAgaG9yaXpvbnRhbCA/IHNjcm9sbFRvKF9wb3MyLCAwKSA6IHNjcm9sbFRvKDAsIF9wb3MyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KGluZGV4LCBiZWhhdmlvcik7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSZW5kZXJlZFJhbmdlOiBmdW5jdGlvbiBnZXRSZW5kZXJlZFJhbmdlKCkgewogICAgICB2YXIgY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KF9wb3MsIF9zaXplKSB7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoX3BvcyAvIChfc2l6ZSB8fCBfcG9zKSk7CiAgICAgIH07CiAgICAgIHZhciBmaXJzdEluVmlld3BvcnQgPSB0aGlzLmZpcnN0OwogICAgICB2YXIgbGFzdEluVmlld3BvcnQgPSAwOwogICAgICBpZiAodGhpcy5lbGVtZW50KSB7CiAgICAgICAgdmFyIGJvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICAgIHZhciBob3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgICB2YXIgX3RoaXMkZWxlbWVudDIgPSB0aGlzLmVsZW1lbnQsCiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRlbGVtZW50Mi5zY3JvbGxUb3AsCiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkZWxlbWVudDIuc2Nyb2xsTGVmdDsKICAgICAgICBpZiAoYm90aCkgewogICAgICAgICAgZmlyc3RJblZpZXdwb3J0ID0gewogICAgICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoc2Nyb2xsVG9wLCB0aGlzLml0ZW1TaXplWzBdKSwKICAgICAgICAgICAgY29sczogY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KHNjcm9sbExlZnQsIHRoaXMuaXRlbVNpemVbMV0pCiAgICAgICAgICB9OwogICAgICAgICAgbGFzdEluVmlld3BvcnQgPSB7CiAgICAgICAgICAgIHJvd3M6IGZpcnN0SW5WaWV3cG9ydC5yb3dzICsgdGhpcy5udW1JdGVtc0luVmlld3BvcnQucm93cywKICAgICAgICAgICAgY29sczogZmlyc3RJblZpZXdwb3J0LmNvbHMgKyB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgc2Nyb2xsUG9zID0gaG9yaXpvbnRhbCA/IHNjcm9sbExlZnQgOiBzY3JvbGxUb3A7CiAgICAgICAgICBmaXJzdEluVmlld3BvcnQgPSBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoc2Nyb2xsUG9zLCB0aGlzLml0ZW1TaXplKTsKICAgICAgICAgIGxhc3RJblZpZXdwb3J0ID0gZmlyc3RJblZpZXdwb3J0ICsgdGhpcy5udW1JdGVtc0luVmlld3BvcnQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZmlyc3Q6IHRoaXMuZmlyc3QsCiAgICAgICAgbGFzdDogdGhpcy5sYXN0LAogICAgICAgIHZpZXdwb3J0OiB7CiAgICAgICAgICBmaXJzdDogZmlyc3RJblZpZXdwb3J0LAogICAgICAgICAgbGFzdDogbGFzdEluVmlld3BvcnQKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgY2FsY3VsYXRlTnVtSXRlbXM6IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zKCkgewogICAgICB2YXIgYm90aCA9IHRoaXMuaXNCb3RoKCk7CiAgICAgIHZhciBob3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgdmFyIGl0ZW1TaXplID0gdGhpcy5pdGVtU2l6ZTsKICAgICAgdmFyIGNvbnRlbnRQb3MgPSB0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpOwogICAgICB2YXIgY29udGVudFdpZHRoID0gdGhpcy5lbGVtZW50ID8gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoIC0gY29udGVudFBvcy5sZWZ0IDogMDsKICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSB0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gY29udGVudFBvcy50b3AgOiAwOwogICAgICB2YXIgY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0ID0gZnVuY3Rpb24gY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0KF9jb250ZW50U2l6ZSwgX2l0ZW1TaXplKSB7CiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChfY29udGVudFNpemUgLyAoX2l0ZW1TaXplIHx8IF9jb250ZW50U2l6ZSkpOwogICAgICB9OwogICAgICB2YXIgY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVOdW1Ub2xlcmF0ZWRJdGVtcyhfbnVtSXRlbXMpIHsKICAgICAgICByZXR1cm4gTWF0aC5jZWlsKF9udW1JdGVtcyAvIDIpOwogICAgICB9OwogICAgICB2YXIgbnVtSXRlbXNJblZpZXdwb3J0ID0gYm90aCA/IHsKICAgICAgICByb3dzOiBjYWxjdWxhdGVOdW1JdGVtc0luVmlld3BvcnQoY29udGVudEhlaWdodCwgaXRlbVNpemVbMF0pLAogICAgICAgIGNvbHM6IGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChjb250ZW50V2lkdGgsIGl0ZW1TaXplWzFdKQogICAgICB9IDogY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0KGhvcml6b250YWwgPyBjb250ZW50V2lkdGggOiBjb250ZW50SGVpZ2h0LCBpdGVtU2l6ZSk7CiAgICAgIHZhciBudW1Ub2xlcmF0ZWRJdGVtcyA9IHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtcyB8fCAoYm90aCA/IFtjYWxjdWxhdGVOdW1Ub2xlcmF0ZWRJdGVtcyhudW1JdGVtc0luVmlld3BvcnQucm93cyksIGNhbGN1bGF0ZU51bVRvbGVyYXRlZEl0ZW1zKG51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzKV0gOiBjYWxjdWxhdGVOdW1Ub2xlcmF0ZWRJdGVtcyhudW1JdGVtc0luVmlld3BvcnQpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBudW1JdGVtc0luVmlld3BvcnQ6IG51bUl0ZW1zSW5WaWV3cG9ydCwKICAgICAgICBudW1Ub2xlcmF0ZWRJdGVtczogbnVtVG9sZXJhdGVkSXRlbXMKICAgICAgfTsKICAgIH0sCiAgICBjYWxjdWxhdGVPcHRpb25zOiBmdW5jdGlvbiBjYWxjdWxhdGVPcHRpb25zKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGJvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICB2YXIgZmlyc3QgPSB0aGlzLmZpcnN0OwogICAgICB2YXIgX3RoaXMkY2FsY3VsYXRlTnVtSXRlMiA9IHRoaXMuY2FsY3VsYXRlTnVtSXRlbXMoKSwKICAgICAgICBudW1JdGVtc0luVmlld3BvcnQgPSBfdGhpcyRjYWxjdWxhdGVOdW1JdGUyLm51bUl0ZW1zSW5WaWV3cG9ydCwKICAgICAgICBudW1Ub2xlcmF0ZWRJdGVtcyA9IF90aGlzJGNhbGN1bGF0ZU51bUl0ZTIubnVtVG9sZXJhdGVkSXRlbXM7CiAgICAgIHZhciBjYWxjdWxhdGVMYXN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlTGFzdChfZmlyc3QsIF9udW0sIF9udW1UKSB7CiAgICAgICAgdmFyIF9pc0NvbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlOwogICAgICAgIHJldHVybiBfdGhpczMuZ2V0TGFzdChfZmlyc3QgKyBfbnVtICsgKF9maXJzdCA8IF9udW1UID8gMiA6IDMpICogX251bVQsIF9pc0NvbHMpOwogICAgICB9OwogICAgICB2YXIgbGFzdCA9IGJvdGggPyB7CiAgICAgICAgcm93czogY2FsY3VsYXRlTGFzdChmaXJzdC5yb3dzLCBudW1JdGVtc0luVmlld3BvcnQucm93cywgbnVtVG9sZXJhdGVkSXRlbXNbMF0pLAogICAgICAgIGNvbHM6IGNhbGN1bGF0ZUxhc3QoZmlyc3QuY29scywgbnVtSXRlbXNJblZpZXdwb3J0LmNvbHMsIG51bVRvbGVyYXRlZEl0ZW1zWzFdLCB0cnVlKQogICAgICB9IDogY2FsY3VsYXRlTGFzdChmaXJzdCwgbnVtSXRlbXNJblZpZXdwb3J0LCBudW1Ub2xlcmF0ZWRJdGVtcyk7CiAgICAgIHRoaXMubGFzdCA9IGxhc3Q7CiAgICAgIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0ID0gbnVtSXRlbXNJblZpZXdwb3J0OwogICAgICB0aGlzLmRfbnVtVG9sZXJhdGVkSXRlbXMgPSBudW1Ub2xlcmF0ZWRJdGVtczsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOm51bVRvbGVyYXRlZEl0ZW1zJywgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zKTsKICAgICAgaWYgKHRoaXMuc2hvd0xvYWRlcikgewogICAgICAgIHRoaXMubG9hZGVyQXJyID0gYm90aCA/IEFycmF5LmZyb20oewogICAgICAgICAgbGVuZ3RoOiBudW1JdGVtc0luVmlld3BvcnQucm93cwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7CiAgICAgICAgICAgIGxlbmd0aDogbnVtSXRlbXNJblZpZXdwb3J0LmNvbHMKICAgICAgICAgIH0pOwogICAgICAgIH0pIDogQXJyYXkuZnJvbSh7CiAgICAgICAgICBsZW5ndGg6IG51bUl0ZW1zSW5WaWV3cG9ydAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLmxhenkpIHsKICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfdGhpczMkaXRlbXM7CiAgICAgICAgICBfdGhpczMubGF6eUxvYWRTdGF0ZSA9IHsKICAgICAgICAgICAgZmlyc3Q6IF90aGlzMy5zdGVwID8gYm90aCA/IHsKICAgICAgICAgICAgICByb3dzOiAwLAogICAgICAgICAgICAgIGNvbHM6IGZpcnN0LmNvbHMKICAgICAgICAgICAgfSA6IDAgOiBmaXJzdCwKICAgICAgICAgICAgbGFzdDogTWF0aC5taW4oX3RoaXMzLnN0ZXAgPyBfdGhpczMuc3RlcCA6IGxhc3QsICgoX3RoaXMzJGl0ZW1zID0gX3RoaXMzLml0ZW1zKSA9PT0gbnVsbCB8fCBfdGhpczMkaXRlbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRpdGVtcy5sZW5ndGgpIHx8IDApCiAgICAgICAgICB9OwogICAgICAgICAgX3RoaXMzLiRlbWl0KCdsYXp5LWxvYWQnLCBfdGhpczMubGF6eUxvYWRTdGF0ZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjYWxjdWxhdGVBdXRvU2l6ZTogZnVuY3Rpb24gY2FsY3VsYXRlQXV0b1NpemUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBpZiAodGhpcy5hdXRvU2l6ZSAmJiAhdGhpcy5kX2xvYWRpbmcpIHsKICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczQuY29udGVudCkgewogICAgICAgICAgICB2YXIgYm90aCA9IF90aGlzNC5pc0JvdGgoKTsKICAgICAgICAgICAgdmFyIGhvcml6b250YWwgPSBfdGhpczQuaXNIb3Jpem9udGFsKCk7CiAgICAgICAgICAgIHZhciB2ZXJ0aWNhbCA9IF90aGlzNC5pc1ZlcnRpY2FsKCk7CiAgICAgICAgICAgIF90aGlzNC5jb250ZW50LnN0eWxlLm1pbkhlaWdodCA9IF90aGlzNC5jb250ZW50LnN0eWxlLm1pbldpZHRoID0gJ2F1dG8nOwogICAgICAgICAgICBfdGhpczQuY29udGVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgICAgIF90aGlzNC5lbGVtZW50LnN0eWxlLmNvbnRhaW4gPSAnbm9uZSc7CgogICAgICAgICAgICAvKmNvbnN0IFtjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHRdID0gW0RvbUhhbmRsZXIuZ2V0V2lkdGgodGhpcy5jb250ZW50KSwgRG9tSGFuZGxlci5nZXRIZWlnaHQodGhpcy5jb250ZW50KV07CiAgICAgICAgICAgICBjb250ZW50V2lkdGggIT09IHRoaXMuZGVmYXVsdENvbnRlbnRXaWR0aCAmJiAodGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gJycpOwogICAgICAgICAgICBjb250ZW50SGVpZ2h0ICE9PSB0aGlzLmRlZmF1bHRDb250ZW50SGVpZ2h0ICYmICh0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJycpOyovCgogICAgICAgICAgICB2YXIgX3JlZiA9IFtEb21IYW5kbGVyLmdldFdpZHRoKF90aGlzNC5lbGVtZW50KSwgRG9tSGFuZGxlci5nZXRIZWlnaHQoX3RoaXM0LmVsZW1lbnQpXSwKICAgICAgICAgICAgICB3aWR0aCA9IF9yZWZbMF0sCiAgICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZlsxXTsKICAgICAgICAgICAgKGJvdGggfHwgaG9yaXpvbnRhbCkgJiYgKF90aGlzNC5lbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggPCBfdGhpczQuZGVmYXVsdFdpZHRoID8gd2lkdGggKyAncHgnIDogX3RoaXM0LnNjcm9sbFdpZHRoIHx8IF90aGlzNC5kZWZhdWx0V2lkdGggKyAncHgnKTsKICAgICAgICAgICAgKGJvdGggfHwgdmVydGljYWwpICYmIChfdGhpczQuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgPCBfdGhpczQuZGVmYXVsdEhlaWdodCA/IGhlaWdodCArICdweCcgOiBfdGhpczQuc2Nyb2xsSGVpZ2h0IHx8IF90aGlzNC5kZWZhdWx0SGVpZ2h0ICsgJ3B4Jyk7CiAgICAgICAgICAgIF90aGlzNC5jb250ZW50LnN0eWxlLm1pbkhlaWdodCA9IF90aGlzNC5jb250ZW50LnN0eWxlLm1pbldpZHRoID0gJyc7CiAgICAgICAgICAgIF90aGlzNC5jb250ZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7CiAgICAgICAgICAgIF90aGlzNC5lbGVtZW50LnN0eWxlLmNvbnRhaW4gPSAnJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldExhc3Q6IGZ1bmN0aW9uIGdldExhc3QoKSB7CiAgICAgIHZhciBfcmVmMiwgX3RoaXMkaXRlbXM7CiAgICAgIHZhciBsYXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICB2YXIgaXNDb2xzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zID8gTWF0aC5taW4oaXNDb2xzID8gKChfcmVmMiA9IHRoaXMuY29sdW1ucyB8fCB0aGlzLml0ZW1zWzBdKSA9PT0gbnVsbCB8fCBfcmVmMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlZjIubGVuZ3RoKSB8fCAwIDogKChfdGhpcyRpdGVtcyA9IHRoaXMuaXRlbXMpID09PSBudWxsIHx8IF90aGlzJGl0ZW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpdGVtcy5sZW5ndGgpIHx8IDAsIGxhc3QpIDogMDsKICAgIH0sCiAgICBnZXRDb250ZW50UG9zaXRpb246IGZ1bmN0aW9uIGdldENvbnRlbnRQb3NpdGlvbigpIHsKICAgICAgaWYgKHRoaXMuY29udGVudCkgewogICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5jb250ZW50KTsKICAgICAgICB2YXIgbGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpICsgTWF0aC5tYXgocGFyc2VGbG9hdChzdHlsZS5sZWZ0KSB8fCAwLCAwKTsKICAgICAgICB2YXIgcmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCkgKyBNYXRoLm1heChwYXJzZUZsb2F0KHN0eWxlLnJpZ2h0KSB8fCAwLCAwKTsKICAgICAgICB2YXIgdG9wID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSArIE1hdGgubWF4KHBhcnNlRmxvYXQoc3R5bGUudG9wKSB8fCAwLCAwKTsKICAgICAgICB2YXIgYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSArIE1hdGgubWF4KHBhcnNlRmxvYXQoc3R5bGUuYm90dG9tKSB8fCAwLCAwKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGVmdDogbGVmdCwKICAgICAgICAgIHJpZ2h0OiByaWdodCwKICAgICAgICAgIHRvcDogdG9wLAogICAgICAgICAgYm90dG9tOiBib3R0b20sCiAgICAgICAgICB4OiBsZWZ0ICsgcmlnaHQsCiAgICAgICAgICB5OiB0b3AgKyBib3R0b20KICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgbGVmdDogMCwKICAgICAgICByaWdodDogMCwKICAgICAgICB0b3A6IDAsCiAgICAgICAgYm90dG9tOiAwLAogICAgICAgIHg6IDAsCiAgICAgICAgeTogMAogICAgICB9OwogICAgfSwKICAgIHNldFNpemU6IGZ1bmN0aW9uIHNldFNpemUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBpZiAodGhpcy5lbGVtZW50KSB7CiAgICAgICAgdmFyIGJvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICAgIHZhciBob3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50OwogICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc2Nyb2xsV2lkdGggfHwgIiIuY29uY2F0KHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCB8fCBwYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoLCAicHgiKTsKICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5zY3JvbGxIZWlnaHQgfHwgIiIuY29uY2F0KHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgcGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsICJweCIpOwogICAgICAgIHZhciBzZXRQcm9wID0gZnVuY3Rpb24gc2V0UHJvcChfbmFtZSwgX3ZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LmVsZW1lbnQuc3R5bGVbX25hbWVdID0gX3ZhbHVlOwogICAgICAgIH07CiAgICAgICAgaWYgKGJvdGggfHwgaG9yaXpvbnRhbCkgewogICAgICAgICAgc2V0UHJvcCgnaGVpZ2h0JywgaGVpZ2h0KTsKICAgICAgICAgIHNldFByb3AoJ3dpZHRoJywgd2lkdGgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRQcm9wKCdoZWlnaHQnLCBoZWlnaHQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNldFNwYWNlclNpemU6IGZ1bmN0aW9uIHNldFNwYWNlclNpemUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zOwogICAgICBpZiAoaXRlbXMpIHsKICAgICAgICB2YXIgYm90aCA9IHRoaXMuaXNCb3RoKCk7CiAgICAgICAgdmFyIGhvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpOwogICAgICAgIHZhciBjb250ZW50UG9zID0gdGhpcy5nZXRDb250ZW50UG9zaXRpb24oKTsKICAgICAgICB2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIHNldFByb3AoX25hbWUsIF92YWx1ZSwgX3NpemUpIHsKICAgICAgICAgIHZhciBfY3BvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDsKICAgICAgICAgIHJldHVybiBfdGhpczYuc3BhY2VyU3R5bGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzNi5zcGFjZXJTdHlsZSksIF9kZWZpbmVQcm9wZXJ0eSh7fSwgIiIuY29uY2F0KF9uYW1lKSwgKF92YWx1ZSB8fCBbXSkubGVuZ3RoICogX3NpemUgKyBfY3BvcyArICdweCcpKTsKICAgICAgICB9OwogICAgICAgIGlmIChib3RoKSB7CiAgICAgICAgICBzZXRQcm9wKCdoZWlnaHQnLCBpdGVtcywgdGhpcy5pdGVtU2l6ZVswXSwgY29udGVudFBvcy55KTsKICAgICAgICAgIHNldFByb3AoJ3dpZHRoJywgdGhpcy5jb2x1bW5zIHx8IGl0ZW1zWzFdLCB0aGlzLml0ZW1TaXplWzFdLCBjb250ZW50UG9zLngpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBob3Jpem9udGFsID8gc2V0UHJvcCgnd2lkdGgnLCB0aGlzLmNvbHVtbnMgfHwgaXRlbXMsIHRoaXMuaXRlbVNpemUsIGNvbnRlbnRQb3MueCkgOiBzZXRQcm9wKCdoZWlnaHQnLCBpdGVtcywgdGhpcy5pdGVtU2l6ZSwgY29udGVudFBvcy55KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb250ZW50UG9zaXRpb246IGZ1bmN0aW9uIHNldENvbnRlbnRQb3NpdGlvbihwb3MpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmNvbnRlbnQgJiYgIXRoaXMuYXBwZW5kT25seSkgewogICAgICAgIHZhciBib3RoID0gdGhpcy5pc0JvdGgoKTsKICAgICAgICB2YXIgaG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7CiAgICAgICAgdmFyIGZpcnN0ID0gcG9zID8gcG9zLmZpcnN0IDogdGhpcy5maXJzdDsKICAgICAgICB2YXIgY2FsY3VsYXRlVHJhbnNsYXRlVmFsID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJhbnNsYXRlVmFsKF9maXJzdCwgX3NpemUpIHsKICAgICAgICAgIHJldHVybiBfZmlyc3QgKiBfc2l6ZTsKICAgICAgICB9OwogICAgICAgIHZhciBzZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oKSB7CiAgICAgICAgICB2YXIgX3ggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7CiAgICAgICAgICB2YXIgX3kgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgICAgICByZXR1cm4gX3RoaXM3LmNvbnRlbnRTdHlsZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXM3LmNvbnRlbnRTdHlsZSksIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlM2QoIi5jb25jYXQoX3gsICJweCwgIikuY29uY2F0KF95LCAicHgsIDApIikKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgaWYgKGJvdGgpIHsKICAgICAgICAgIHNldFRyYW5zZm9ybShjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QuY29scywgdGhpcy5pdGVtU2l6ZVsxXSksIGNhbGN1bGF0ZVRyYW5zbGF0ZVZhbChmaXJzdC5yb3dzLCB0aGlzLml0ZW1TaXplWzBdKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciB0cmFuc2xhdGVWYWwgPSBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QsIHRoaXMuaXRlbVNpemUpOwogICAgICAgICAgaG9yaXpvbnRhbCA/IHNldFRyYW5zZm9ybSh0cmFuc2xhdGVWYWwsIDApIDogc2V0VHJhbnNmb3JtKDAsIHRyYW5zbGF0ZVZhbCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25TY3JvbGxQb3NpdGlvbkNoYW5nZTogZnVuY3Rpb24gb25TY3JvbGxQb3NpdGlvbkNoYW5nZShldmVudCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKICAgICAgdmFyIGJvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICB2YXIgaG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7CiAgICAgIHZhciBjb250ZW50UG9zID0gdGhpcy5nZXRDb250ZW50UG9zaXRpb24oKTsKICAgICAgdmFyIGNhbGN1bGF0ZVNjcm9sbFBvcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcm9sbFBvcyhfcG9zLCBfY3BvcykgewogICAgICAgIHJldHVybiBfcG9zID8gX3BvcyA+IF9jcG9zID8gX3BvcyAtIF9jcG9zIDogX3BvcyA6IDA7CiAgICAgIH07CiAgICAgIHZhciBjYWxjdWxhdGVDdXJyZW50SW5kZXggPSBmdW5jdGlvbiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoX3BvcywgX3NpemUpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihfcG9zIC8gKF9zaXplIHx8IF9wb3MpKTsKICAgICAgfTsKICAgICAgdmFyIGNhbGN1bGF0ZVRyaWdnZXJJbmRleCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaWdnZXJJbmRleChfY3VycmVudEluZGV4LCBfZmlyc3QsIF9sYXN0LCBfbnVtLCBfbnVtVCwgX2lzU2Nyb2xsRG93bk9yUmlnaHQpIHsKICAgICAgICByZXR1cm4gX2N1cnJlbnRJbmRleCA8PSBfbnVtVCA/IF9udW1UIDogX2lzU2Nyb2xsRG93bk9yUmlnaHQgPyBfbGFzdCAtIF9udW0gLSBfbnVtVCA6IF9maXJzdCArIF9udW1UIC0gMTsKICAgICAgfTsKICAgICAgdmFyIGNhbGN1bGF0ZUZpcnN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlyc3QoX2N1cnJlbnRJbmRleCwgX3RyaWdnZXJJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX251bVQsIF9pc1Njcm9sbERvd25PclJpZ2h0KSB7CiAgICAgICAgaWYgKF9jdXJyZW50SW5kZXggPD0gX251bVQpIHJldHVybiAwO2Vsc2UgcmV0dXJuIE1hdGgubWF4KDAsIF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2N1cnJlbnRJbmRleCA8IF90cmlnZ2VySW5kZXggPyBfZmlyc3QgOiBfY3VycmVudEluZGV4IC0gX251bVQgOiBfY3VycmVudEluZGV4ID4gX3RyaWdnZXJJbmRleCA/IF9maXJzdCA6IF9jdXJyZW50SW5kZXggLSAyICogX251bVQpOwogICAgICB9OwogICAgICB2YXIgY2FsY3VsYXRlTGFzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxhc3QoX2N1cnJlbnRJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX251bVQsIF9pc0NvbHMpIHsKICAgICAgICB2YXIgbGFzdFZhbHVlID0gX2ZpcnN0ICsgX251bSArIDIgKiBfbnVtVDsKICAgICAgICBpZiAoX2N1cnJlbnRJbmRleCA+PSBfbnVtVCkgewogICAgICAgICAgbGFzdFZhbHVlICs9IF9udW1UICsgMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF90aGlzOC5nZXRMYXN0KGxhc3RWYWx1ZSwgX2lzQ29scyk7CiAgICAgIH07CiAgICAgIHZhciBzY3JvbGxUb3AgPSBjYWxjdWxhdGVTY3JvbGxQb3ModGFyZ2V0LnNjcm9sbFRvcCwgY29udGVudFBvcy50b3ApOwogICAgICB2YXIgc2Nyb2xsTGVmdCA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0YXJnZXQuc2Nyb2xsTGVmdCwgY29udGVudFBvcy5sZWZ0KTsKICAgICAgdmFyIG5ld0ZpcnN0ID0gYm90aCA/IHsKICAgICAgICByb3dzOiAwLAogICAgICAgIGNvbHM6IDAKICAgICAgfSA6IDA7CiAgICAgIHZhciBuZXdMYXN0ID0gdGhpcy5sYXN0OwogICAgICB2YXIgaXNSYW5nZUNoYW5nZWQgPSBmYWxzZTsKICAgICAgdmFyIG5ld1Njcm9sbFBvcyA9IHRoaXMubGFzdFNjcm9sbFBvczsKICAgICAgaWYgKGJvdGgpIHsKICAgICAgICB2YXIgaXNTY3JvbGxEb3duID0gdGhpcy5sYXN0U2Nyb2xsUG9zLnRvcCA8PSBzY3JvbGxUb3A7CiAgICAgICAgdmFyIGlzU2Nyb2xsUmlnaHQgPSB0aGlzLmxhc3RTY3JvbGxQb3MubGVmdCA8PSBzY3JvbGxMZWZ0OwogICAgICAgIGlmICghdGhpcy5hcHBlbmRPbmx5IHx8IHRoaXMuYXBwZW5kT25seSAmJiAoaXNTY3JvbGxEb3duIHx8IGlzU2Nyb2xsUmlnaHQpKSB7CiAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gewogICAgICAgICAgICByb3dzOiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoc2Nyb2xsVG9wLCB0aGlzLml0ZW1TaXplWzBdKSwKICAgICAgICAgICAgY29sczogY2FsY3VsYXRlQ3VycmVudEluZGV4KHNjcm9sbExlZnQsIHRoaXMuaXRlbVNpemVbMV0pCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHRyaWdnZXJJbmRleCA9IHsKICAgICAgICAgICAgcm93czogY2FsY3VsYXRlVHJpZ2dlckluZGV4KGN1cnJlbnRJbmRleC5yb3dzLCB0aGlzLmZpcnN0LnJvd3MsIHRoaXMubGFzdC5yb3dzLCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzLCB0aGlzLmRfbnVtVG9sZXJhdGVkSXRlbXNbMF0sIGlzU2Nyb2xsRG93biksCiAgICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZVRyaWdnZXJJbmRleChjdXJyZW50SW5kZXguY29scywgdGhpcy5maXJzdC5jb2xzLCB0aGlzLmxhc3QuY29scywgdGhpcy5udW1JdGVtc0luVmlld3BvcnQuY29scywgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zWzFdLCBpc1Njcm9sbFJpZ2h0KQogICAgICAgICAgfTsKICAgICAgICAgIG5ld0ZpcnN0ID0gewogICAgICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdChjdXJyZW50SW5kZXgucm93cywgdHJpZ2dlckluZGV4LnJvd3MsIHRoaXMuZmlyc3Qucm93cywgdGhpcy5sYXN0LnJvd3MsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LnJvd3MsIHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtc1swXSwgaXNTY3JvbGxEb3duKSwKICAgICAgICAgICAgY29sczogY2FsY3VsYXRlRmlyc3QoY3VycmVudEluZGV4LmNvbHMsIHRyaWdnZXJJbmRleC5jb2xzLCB0aGlzLmZpcnN0LmNvbHMsIHRoaXMubGFzdC5jb2xzLCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzLCB0aGlzLmRfbnVtVG9sZXJhdGVkSXRlbXNbMV0sIGlzU2Nyb2xsUmlnaHQpCiAgICAgICAgICB9OwogICAgICAgICAgbmV3TGFzdCA9IHsKICAgICAgICAgICAgcm93czogY2FsY3VsYXRlTGFzdChjdXJyZW50SW5kZXgucm93cywgbmV3Rmlyc3Qucm93cywgdGhpcy5sYXN0LnJvd3MsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LnJvd3MsIHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtc1swXSksCiAgICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUxhc3QoY3VycmVudEluZGV4LmNvbHMsIG5ld0ZpcnN0LmNvbHMsIHRoaXMubGFzdC5jb2xzLCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzLCB0aGlzLmRfbnVtVG9sZXJhdGVkSXRlbXNbMV0sIHRydWUpCiAgICAgICAgICB9OwogICAgICAgICAgaXNSYW5nZUNoYW5nZWQgPSBuZXdGaXJzdC5yb3dzICE9PSB0aGlzLmZpcnN0LnJvd3MgfHwgbmV3TGFzdC5yb3dzICE9PSB0aGlzLmxhc3Qucm93cyB8fCBuZXdGaXJzdC5jb2xzICE9PSB0aGlzLmZpcnN0LmNvbHMgfHwgbmV3TGFzdC5jb2xzICE9PSB0aGlzLmxhc3QuY29scyB8fCB0aGlzLmlzUmFuZ2VDaGFuZ2VkOwogICAgICAgICAgbmV3U2Nyb2xsUG9zID0gewogICAgICAgICAgICB0b3A6IHNjcm9sbFRvcCwKICAgICAgICAgICAgbGVmdDogc2Nyb2xsTGVmdAogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGhvcml6b250YWwgPyBzY3JvbGxMZWZ0IDogc2Nyb2xsVG9wOwogICAgICAgIHZhciBpc1Njcm9sbERvd25PclJpZ2h0ID0gdGhpcy5sYXN0U2Nyb2xsUG9zIDw9IHNjcm9sbFBvczsKICAgICAgICBpZiAoIXRoaXMuYXBwZW5kT25seSB8fCB0aGlzLmFwcGVuZE9ubHkgJiYgaXNTY3JvbGxEb3duT3JSaWdodCkgewogICAgICAgICAgdmFyIF9jdXJyZW50SW5kZXgyID0gY2FsY3VsYXRlQ3VycmVudEluZGV4KHNjcm9sbFBvcywgdGhpcy5pdGVtU2l6ZSk7CiAgICAgICAgICB2YXIgX3RyaWdnZXJJbmRleDIgPSBjYWxjdWxhdGVUcmlnZ2VySW5kZXgoX2N1cnJlbnRJbmRleDIsIHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5udW1JdGVtc0luVmlld3BvcnQsIHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtcywgaXNTY3JvbGxEb3duT3JSaWdodCk7CiAgICAgICAgICBuZXdGaXJzdCA9IGNhbGN1bGF0ZUZpcnN0KF9jdXJyZW50SW5kZXgyLCBfdHJpZ2dlckluZGV4MiwgdGhpcy5maXJzdCwgdGhpcy5sYXN0LCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydCwgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zLCBpc1Njcm9sbERvd25PclJpZ2h0KTsKICAgICAgICAgIG5ld0xhc3QgPSBjYWxjdWxhdGVMYXN0KF9jdXJyZW50SW5kZXgyLCBuZXdGaXJzdCwgdGhpcy5sYXN0LCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydCwgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zKTsKICAgICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3QgIT09IHRoaXMuZmlyc3QgfHwgbmV3TGFzdCAhPT0gdGhpcy5sYXN0IHx8IHRoaXMuaXNSYW5nZUNoYW5nZWQ7CiAgICAgICAgICBuZXdTY3JvbGxQb3MgPSBzY3JvbGxQb3M7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZmlyc3Q6IG5ld0ZpcnN0LAogICAgICAgIGxhc3Q6IG5ld0xhc3QsCiAgICAgICAgaXNSYW5nZUNoYW5nZWQ6IGlzUmFuZ2VDaGFuZ2VkLAogICAgICAgIHNjcm9sbFBvczogbmV3U2Nyb2xsUG9zCiAgICAgIH07CiAgICB9LAogICAgb25TY3JvbGxDaGFuZ2U6IGZ1bmN0aW9uIG9uU2Nyb2xsQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyRvblNjcm9sbFBvc2l0aW8gPSB0aGlzLm9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLAogICAgICAgIGZpcnN0ID0gX3RoaXMkb25TY3JvbGxQb3NpdGlvLmZpcnN0LAogICAgICAgIGxhc3QgPSBfdGhpcyRvblNjcm9sbFBvc2l0aW8ubGFzdCwKICAgICAgICBpc1JhbmdlQ2hhbmdlZCA9IF90aGlzJG9uU2Nyb2xsUG9zaXRpby5pc1JhbmdlQ2hhbmdlZCwKICAgICAgICBzY3JvbGxQb3MgPSBfdGhpcyRvblNjcm9sbFBvc2l0aW8uc2Nyb2xsUG9zOwogICAgICBpZiAoaXNSYW5nZUNoYW5nZWQpIHsKICAgICAgICB2YXIgbmV3U3RhdGUgPSB7CiAgICAgICAgICBmaXJzdDogZmlyc3QsCiAgICAgICAgICBsYXN0OiBsYXN0CiAgICAgICAgfTsKICAgICAgICB0aGlzLnNldENvbnRlbnRQb3NpdGlvbihuZXdTdGF0ZSk7CiAgICAgICAgdGhpcy5maXJzdCA9IGZpcnN0OwogICAgICAgIHRoaXMubGFzdCA9IGxhc3Q7CiAgICAgICAgdGhpcy5sYXN0U2Nyb2xsUG9zID0gc2Nyb2xsUG9zOwogICAgICAgIHRoaXMuJGVtaXQoJ3Njcm9sbC1pbmRleC1jaGFuZ2UnLCBuZXdTdGF0ZSk7CiAgICAgICAgaWYgKHRoaXMubGF6eSAmJiB0aGlzLmlzUGFnZUNoYW5nZWQoZmlyc3QpKSB7CiAgICAgICAgICB2YXIgX3RoaXMkaXRlbXMyLCBfdGhpcyRpdGVtczM7CiAgICAgICAgICB2YXIgbGF6eUxvYWRTdGF0ZSA9IHsKICAgICAgICAgICAgZmlyc3Q6IHRoaXMuc3RlcCA/IE1hdGgubWluKHRoaXMuZ2V0UGFnZUJ5Rmlyc3QoZmlyc3QpICogdGhpcy5zdGVwLCAoKChfdGhpcyRpdGVtczIgPSB0aGlzLml0ZW1zKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGl0ZW1zMi5sZW5ndGgpIHx8IDApIC0gdGhpcy5zdGVwKSA6IGZpcnN0LAogICAgICAgICAgICBsYXN0OiBNYXRoLm1pbih0aGlzLnN0ZXAgPyAodGhpcy5nZXRQYWdlQnlGaXJzdChmaXJzdCkgKyAxKSAqIHRoaXMuc3RlcCA6IGxhc3QsICgoX3RoaXMkaXRlbXMzID0gdGhpcy5pdGVtcykgPT09IG51bGwgfHwgX3RoaXMkaXRlbXMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpdGVtczMubGVuZ3RoKSB8fCAwKQogICAgICAgICAgfTsKICAgICAgICAgIHZhciBpc0xhenlTdGF0ZUNoYW5nZWQgPSB0aGlzLmxhenlMb2FkU3RhdGUuZmlyc3QgIT09IGxhenlMb2FkU3RhdGUuZmlyc3QgfHwgdGhpcy5sYXp5TG9hZFN0YXRlLmxhc3QgIT09IGxhenlMb2FkU3RhdGUubGFzdDsKICAgICAgICAgIGlzTGF6eVN0YXRlQ2hhbmdlZCAmJiB0aGlzLiRlbWl0KCdsYXp5LWxvYWQnLCBsYXp5TG9hZFN0YXRlKTsKICAgICAgICAgIHRoaXMubGF6eUxvYWRTdGF0ZSA9IGxhenlMb2FkU3RhdGU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICB0aGlzLiRlbWl0KCdzY3JvbGwnLCBldmVudCk7CiAgICAgIGlmICh0aGlzLmRlbGF5KSB7CiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVGltZW91dCkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVGltZW91dCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmlzUGFnZUNoYW5nZWQoKSkgewogICAgICAgICAgaWYgKCF0aGlzLmRfbG9hZGluZyAmJiB0aGlzLnNob3dMb2FkZXIpIHsKICAgICAgICAgICAgdmFyIF90aGlzJG9uU2Nyb2xsUG9zaXRpbzIgPSB0aGlzLm9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLAogICAgICAgICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gX3RoaXMkb25TY3JvbGxQb3NpdGlvMi5pc1JhbmdlQ2hhbmdlZDsKICAgICAgICAgICAgdmFyIGNoYW5nZWQgPSBpc1JhbmdlQ2hhbmdlZCB8fCAodGhpcy5zdGVwID8gdGhpcy5pc1BhZ2VDaGFuZ2VkKCkgOiBmYWxzZSk7CiAgICAgICAgICAgIGNoYW5nZWQgJiYgKHRoaXMuZF9sb2FkaW5nID0gdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNjcm9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM5Lm9uU2Nyb2xsQ2hhbmdlKGV2ZW50KTsKICAgICAgICAgICAgaWYgKF90aGlzOS5kX2xvYWRpbmcgJiYgX3RoaXM5LnNob3dMb2FkZXIgJiYgKCFfdGhpczkubGF6eSB8fCBfdGhpczkubG9hZGluZyA9PT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgIF90aGlzOS5kX2xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpczkucGFnZSA9IF90aGlzOS5nZXRQYWdlQnlGaXJzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB0aGlzLmRlbGF5KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZShldmVudCk7CiAgICAgIH0KICAgIH0sCiAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgaWYgKHRoaXMucmVzaXplVGltZW91dCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpOwogICAgICB9CiAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChEb21IYW5kbGVyLmlzVmlzaWJsZShfdGhpczEwLmVsZW1lbnQpKSB7CiAgICAgICAgICB2YXIgYm90aCA9IF90aGlzMTAuaXNCb3RoKCk7CiAgICAgICAgICB2YXIgdmVydGljYWwgPSBfdGhpczEwLmlzVmVydGljYWwoKTsKICAgICAgICAgIHZhciBob3Jpem9udGFsID0gX3RoaXMxMC5pc0hvcml6b250YWwoKTsKICAgICAgICAgIHZhciBfcmVmMyA9IFtEb21IYW5kbGVyLmdldFdpZHRoKF90aGlzMTAuZWxlbWVudCksIERvbUhhbmRsZXIuZ2V0SGVpZ2h0KF90aGlzMTAuZWxlbWVudCldLAogICAgICAgICAgICB3aWR0aCA9IF9yZWYzWzBdLAogICAgICAgICAgICBoZWlnaHQgPSBfcmVmM1sxXTsKICAgICAgICAgIHZhciBpc0RpZmZXaWR0aCA9IHdpZHRoICE9PSBfdGhpczEwLmRlZmF1bHRXaWR0aCwKICAgICAgICAgICAgaXNEaWZmSGVpZ2h0ID0gaGVpZ2h0ICE9PSBfdGhpczEwLmRlZmF1bHRIZWlnaHQ7CiAgICAgICAgICB2YXIgcmVpbml0ID0gYm90aCA/IGlzRGlmZldpZHRoIHx8IGlzRGlmZkhlaWdodCA6IGhvcml6b250YWwgPyBpc0RpZmZXaWR0aCA6IHZlcnRpY2FsID8gaXNEaWZmSGVpZ2h0IDogZmFsc2U7CiAgICAgICAgICBpZiAocmVpbml0KSB7CiAgICAgICAgICAgIF90aGlzMTAuZF9udW1Ub2xlcmF0ZWRJdGVtcyA9IF90aGlzMTAubnVtVG9sZXJhdGVkSXRlbXM7CiAgICAgICAgICAgIF90aGlzMTAuZGVmYXVsdFdpZHRoID0gd2lkdGg7CiAgICAgICAgICAgIF90aGlzMTAuZGVmYXVsdEhlaWdodCA9IGhlaWdodDsKICAgICAgICAgICAgX3RoaXMxMC5kZWZhdWx0Q29udGVudFdpZHRoID0gRG9tSGFuZGxlci5nZXRXaWR0aChfdGhpczEwLmNvbnRlbnQpOwogICAgICAgICAgICBfdGhpczEwLmRlZmF1bHRDb250ZW50SGVpZ2h0ID0gRG9tSGFuZGxlci5nZXRIZWlnaHQoX3RoaXMxMC5jb250ZW50KTsKICAgICAgICAgICAgX3RoaXMxMC5pbml0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB0aGlzLnJlc2l6ZURlbGF5KTsKICAgIH0sCiAgICBiaW5kUmVzaXplTGlzdGVuZXI6IGZ1bmN0aW9uIGJpbmRSZXNpemVMaXN0ZW5lcigpIHsKICAgICAgaWYgKCF0aGlzLnJlc2l6ZUxpc3RlbmVyKSB7CiAgICAgICAgdGhpcy5yZXNpemVMaXN0ZW5lciA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVMaXN0ZW5lcik7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5yZXNpemVMaXN0ZW5lcik7CiAgICAgIH0KICAgIH0sCiAgICB1bmJpbmRSZXNpemVMaXN0ZW5lcjogZnVuY3Rpb24gdW5iaW5kUmVzaXplTGlzdGVuZXIoKSB7CiAgICAgIGlmICh0aGlzLnJlc2l6ZUxpc3RlbmVyKSB7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplTGlzdGVuZXIpOwogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMucmVzaXplTGlzdGVuZXIpOwogICAgICAgIHRoaXMucmVzaXplTGlzdGVuZXIgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgZ2V0T3B0aW9uczogZnVuY3Rpb24gZ2V0T3B0aW9ucyhyZW5kZXJlZEluZGV4KSB7CiAgICAgIHZhciBjb3VudCA9ICh0aGlzLml0ZW1zIHx8IFtdKS5sZW5ndGg7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuaXNCb3RoKCkgPyB0aGlzLmZpcnN0LnJvd3MgKyByZW5kZXJlZEluZGV4IDogdGhpcy5maXJzdCArIHJlbmRlcmVkSW5kZXg7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgIGNvdW50OiBjb3VudCwKICAgICAgICBmaXJzdDogaW5kZXggPT09IDAsCiAgICAgICAgbGFzdDogaW5kZXggPT09IGNvdW50IC0gMSwKICAgICAgICBldmVuOiBpbmRleCAlIDIgPT09IDAsCiAgICAgICAgb2RkOiBpbmRleCAlIDIgIT09IDAKICAgICAgfTsKICAgIH0sCiAgICBnZXRMb2FkZXJPcHRpb25zOiBmdW5jdGlvbiBnZXRMb2FkZXJPcHRpb25zKGluZGV4LCBleHRPcHRpb25zKSB7CiAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZGVyQXJyLmxlbmd0aDsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICBjb3VudDogY291bnQsCiAgICAgICAgZmlyc3Q6IGluZGV4ID09PSAwLAogICAgICAgIGxhc3Q6IGluZGV4ID09PSBjb3VudCAtIDEsCiAgICAgICAgZXZlbjogaW5kZXggJSAyID09PSAwLAogICAgICAgIG9kZDogaW5kZXggJSAyICE9PSAwCiAgICAgIH0sIGV4dE9wdGlvbnMpOwogICAgfSwKICAgIGdldFBhZ2VCeUZpcnN0OiBmdW5jdGlvbiBnZXRQYWdlQnlGaXJzdChmaXJzdCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcigoKGZpcnN0ICE9PSBudWxsICYmIGZpcnN0ICE9PSB2b2lkIDAgPyBmaXJzdCA6IHRoaXMuZmlyc3QpICsgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zICogNCkgLyAodGhpcy5zdGVwIHx8IDEpKTsKICAgIH0sCiAgICBpc1BhZ2VDaGFuZ2VkOiBmdW5jdGlvbiBpc1BhZ2VDaGFuZ2VkKGZpcnN0KSB7CiAgICAgIHJldHVybiB0aGlzLnN0ZXAgPyB0aGlzLnBhZ2UgIT09IHRoaXMuZ2V0UGFnZUJ5Rmlyc3QoZmlyc3QgIT09IG51bGwgJiYgZmlyc3QgIT09IHZvaWQgMCA/IGZpcnN0IDogdGhpcy5maXJzdCkgOiB0cnVlOwogICAgfSwKICAgIHNldENvbnRlbnRFbDogZnVuY3Rpb24gc2V0Q29udGVudEVsKGVsKSB7CiAgICAgIHRoaXMuY29udGVudCA9IGVsIHx8IHRoaXMuY29udGVudCB8fCBEb21IYW5kbGVyLmZpbmRTaW5nbGUodGhpcy5lbGVtZW50LCAnW2RhdGEtcGMtc2VjdGlvbj0iY29udGVudCJdJyk7CiAgICB9LAogICAgZWxlbWVudFJlZjogZnVuY3Rpb24gZWxlbWVudFJlZihlbCkgewogICAgICB0aGlzLmVsZW1lbnQgPSBlbDsKICAgIH0sCiAgICBjb250ZW50UmVmOiBmdW5jdGlvbiBjb250ZW50UmVmKGVsKSB7CiAgICAgIHRoaXMuY29udGVudCA9IGVsOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbnRhaW5lckNsYXNzOiBmdW5jdGlvbiBjb250YWluZXJDbGFzcygpIHsKICAgICAgcmV0dXJuIFsncC12aXJ0dWFsc2Nyb2xsZXInLCB0aGlzWyJjbGFzcyJdLCB7CiAgICAgICAgJ3AtdmlydHVhbHNjcm9sbGVyLWlubGluZSc6IHRoaXMuaW5saW5lLAogICAgICAgICdwLXZpcnR1YWxzY3JvbGxlci1ib3RoIHAtYm90aC1zY3JvbGwnOiB0aGlzLmlzQm90aCgpLAogICAgICAgICdwLXZpcnR1YWxzY3JvbGxlci1ob3Jpem9udGFsIHAtaG9yaXpvbnRhbC1zY3JvbGwnOiB0aGlzLmlzSG9yaXpvbnRhbCgpCiAgICAgIH1dOwogICAgfSwKICAgIGNvbnRlbnRDbGFzczogZnVuY3Rpb24gY29udGVudENsYXNzKCkgewogICAgICByZXR1cm4gWydwLXZpcnR1YWxzY3JvbGxlci1jb250ZW50JywgewogICAgICAgICdwLXZpcnR1YWxzY3JvbGxlci1sb2FkaW5nJzogdGhpcy5kX2xvYWRpbmcKICAgICAgfV07CiAgICB9LAogICAgbG9hZGVyQ2xhc3M6IGZ1bmN0aW9uIGxvYWRlckNsYXNzKCkgewogICAgICByZXR1cm4gWydwLXZpcnR1YWxzY3JvbGxlci1sb2FkZXInLCB7CiAgICAgICAgJ3AtY29tcG9uZW50LW92ZXJsYXknOiAhdGhpcy4kc2xvdHMubG9hZGVyCiAgICAgIH1dOwogICAgfSwKICAgIGxvYWRlZEl0ZW1zOiBmdW5jdGlvbiBsb2FkZWRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwogICAgICBpZiAodGhpcy5pdGVtcyAmJiAhdGhpcy5kX2xvYWRpbmcpIHsKICAgICAgICBpZiAodGhpcy5pc0JvdGgoKSkgcmV0dXJuIHRoaXMuaXRlbXMuc2xpY2UodGhpcy5hcHBlbmRPbmx5ID8gMCA6IHRoaXMuZmlyc3Qucm93cywgdGhpcy5sYXN0LnJvd3MpLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMTEuY29sdW1ucyA/IGl0ZW0gOiBpdGVtLnNsaWNlKF90aGlzMTEuYXBwZW5kT25seSA/IDAgOiBfdGhpczExLmZpcnN0LmNvbHMsIF90aGlzMTEubGFzdC5jb2xzKTsKICAgICAgICB9KTtlbHNlIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpICYmIHRoaXMuY29sdW1ucykgcmV0dXJuIHRoaXMuaXRlbXM7ZWxzZSByZXR1cm4gdGhpcy5pdGVtcy5zbGljZSh0aGlzLmFwcGVuZE9ubHkgPyAwIDogdGhpcy5maXJzdCwgdGhpcy5sYXN0KTsKICAgICAgfQogICAgICByZXR1cm4gW107CiAgICB9LAogICAgbG9hZGVkUm93czogZnVuY3Rpb24gbG9hZGVkUm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMuZF9sb2FkaW5nID8gdGhpcy5sb2FkZXJEaXNhYmxlZCA/IHRoaXMubG9hZGVyQXJyIDogW10gOiB0aGlzLmxvYWRlZEl0ZW1zOwogICAgfSwKICAgIGxvYWRlZENvbHVtbnM6IGZ1bmN0aW9uIGxvYWRlZENvbHVtbnMoKSB7CiAgICAgIGlmICh0aGlzLmNvbHVtbnMpIHsKICAgICAgICB2YXIgYm90aCA9IHRoaXMuaXNCb3RoKCk7CiAgICAgICAgdmFyIGhvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpOwogICAgICAgIGlmIChib3RoIHx8IGhvcml6b250YWwpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmRfbG9hZGluZyAmJiB0aGlzLmxvYWRlckRpc2FibGVkID8gYm90aCA/IHRoaXMubG9hZGVyQXJyWzBdIDogdGhpcy5sb2FkZXJBcnIgOiB0aGlzLmNvbHVtbnMuc2xpY2UoYm90aCA/IHRoaXMuZmlyc3QuY29scyA6IHRoaXMuZmlyc3QsIGJvdGggPyB0aGlzLmxhc3QuY29scyA6IHRoaXMubGFzdCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmNvbHVtbnM7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTcGlubmVySWNvbjogU3Bpbm5lckljb24KICB9Cn07CnZhciBfaG9pc3RlZF8xID0gWyJ0YWJpbmRleCJdOwpmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfU3Bpbm5lckljb24gPSByZXNvbHZlQ29tcG9uZW50KCJTcGlubmVySWNvbiIpOwogIHJldHVybiAhX2N0eC5kaXNhYmxlZCA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBtZXJnZVByb3BzKHsKICAgIGtleTogMCwKICAgIHJlZjogJG9wdGlvbnMuZWxlbWVudFJlZiwKICAgICJjbGFzcyI6ICRvcHRpb25zLmNvbnRhaW5lckNsYXNzLAogICAgdGFiaW5kZXg6IF9jdHgudGFiaW5kZXgsCiAgICBzdHlsZTogX2N0eC5zdHlsZSwKICAgIG9uU2Nyb2xsOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLm9uU2Nyb2xsICYmICRvcHRpb25zLm9uU2Nyb2xsLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBfY3R4LnB0bWkoJ3Jvb3QnKSksIFtyZW5kZXJTbG90KF9jdHguJHNsb3RzLCAiY29udGVudCIsIHsKICAgIHN0eWxlQ2xhc3M6ICRvcHRpb25zLmNvbnRlbnRDbGFzcywKICAgIGl0ZW1zOiAkb3B0aW9ucy5sb2FkZWRJdGVtcywKICAgIGdldEl0ZW1PcHRpb25zOiAkb3B0aW9ucy5nZXRPcHRpb25zLAogICAgbG9hZGluZzogJGRhdGEuZF9sb2FkaW5nLAogICAgZ2V0TG9hZGVyT3B0aW9uczogJG9wdGlvbnMuZ2V0TG9hZGVyT3B0aW9ucywKICAgIGl0ZW1TaXplOiBfY3R4Lml0ZW1TaXplLAogICAgcm93czogJG9wdGlvbnMubG9hZGVkUm93cywKICAgIGNvbHVtbnM6ICRvcHRpb25zLmxvYWRlZENvbHVtbnMsCiAgICBjb250ZW50UmVmOiAkb3B0aW9ucy5jb250ZW50UmVmLAogICAgc3BhY2VyU3R5bGU6ICRkYXRhLnNwYWNlclN0eWxlLAogICAgY29udGVudFN0eWxlOiAkZGF0YS5jb250ZW50U3R5bGUsCiAgICB2ZXJ0aWNhbDogJG9wdGlvbnMuaXNWZXJ0aWNhbCgpLAogICAgaG9yaXpvbnRhbDogJG9wdGlvbnMuaXNIb3Jpem9udGFsKCksCiAgICBib3RoOiAkb3B0aW9ucy5pc0JvdGgoKQogIH0sIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBbY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBtZXJnZVByb3BzKHsKICAgICAgcmVmOiAkb3B0aW9ucy5jb250ZW50UmVmLAogICAgICAiY2xhc3MiOiAkb3B0aW9ucy5jb250ZW50Q2xhc3MsCiAgICAgIHN0eWxlOiAkZGF0YS5jb250ZW50U3R5bGUKICAgIH0sIF9jdHgucHRtKCdjb250ZW50JykpLCBbKG9wZW5CbG9jayh0cnVlKSwgY3JlYXRlRWxlbWVudEJsb2NrKEZyYWdtZW50LCBudWxsLCByZW5kZXJMaXN0KCRvcHRpb25zLmxvYWRlZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJpdGVtIiwgewogICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICBvcHRpb25zOiAkb3B0aW9ucy5nZXRPcHRpb25zKGluZGV4KQogICAgICB9KTsKICAgIH0pLCAxMjgpKV0sIDE2KV07CiAgfSksIF9jdHguc2hvd1NwYWNlciA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBtZXJnZVByb3BzKHsKICAgIGtleTogMCwKICAgICJjbGFzcyI6ICJwLXZpcnR1YWxzY3JvbGxlci1zcGFjZXIiLAogICAgc3R5bGU6ICRkYXRhLnNwYWNlclN0eWxlCiAgfSwgX2N0eC5wdG0oJ3NwYWNlcicpKSwgbnVsbCwgMTYpKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksICFfY3R4LmxvYWRlckRpc2FibGVkICYmIF9jdHguc2hvd0xvYWRlciAmJiAkZGF0YS5kX2xvYWRpbmcgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgbWVyZ2VQcm9wcyh7CiAgICBrZXk6IDEsCiAgICAiY2xhc3MiOiAkb3B0aW9ucy5sb2FkZXJDbGFzcwogIH0sIF9jdHgucHRtKCdsb2FkZXInKSksIFtfY3R4LiRzbG90cyAmJiBfY3R4LiRzbG90cy5sb2FkZXIgPyAob3BlbkJsb2NrKHRydWUpLCBjcmVhdGVFbGVtZW50QmxvY2soRnJhZ21lbnQsIHsKICAgIGtleTogMAogIH0sIHJlbmRlckxpc3QoJGRhdGEubG9hZGVyQXJyLCBmdW5jdGlvbiAoXywgaW5kZXgpIHsKICAgIHJldHVybiByZW5kZXJTbG90KF9jdHguJHNsb3RzLCAibG9hZGVyIiwgewogICAgICBrZXk6IGluZGV4LAogICAgICBvcHRpb25zOiAkb3B0aW9ucy5nZXRMb2FkZXJPcHRpb25zKGluZGV4LCAkb3B0aW9ucy5pc0JvdGgoKSAmJiB7CiAgICAgICAgbnVtQ29sczogX2N0eC5kX251bUl0ZW1zSW5WaWV3cG9ydC5jb2xzCiAgICAgIH0pCiAgICB9KTsKICB9KSwgMTI4KSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCByZW5kZXJTbG90KF9jdHguJHNsb3RzLCAibG9hZGluZ2ljb24iLCB7fSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIFtjcmVhdGVWTm9kZShfY29tcG9uZW50X1NwaW5uZXJJY29uLCBtZXJnZVByb3BzKHsKICAgICAgc3BpbjogIiIsCiAgICAgICJjbGFzcyI6ICJwLXZpcnR1YWxzY3JvbGxlci1sb2FkaW5nLWljb24iCiAgICB9LCBfY3R4LnB0bSgnbG9hZGluZ0ljb24nKSksIG51bGwsIDE2KV07CiAgfSldLCAxNikpIDogY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0sIDE2LCBfaG9pc3RlZF8xKSkgOiAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhGcmFnbWVudCwgewogICAga2V5OiAxCiAgfSwgW3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJkZWZhdWx0IiksIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJjb250ZW50IiwgewogICAgaXRlbXM6IF9jdHguaXRlbXMsCiAgICByb3dzOiBfY3R4Lml0ZW1zLAogICAgY29sdW1uczogJG9wdGlvbnMubG9hZGVkQ29sdW1ucwogIH0pXSwgNjQpKTsKfQpzY3JpcHQucmVuZGVyID0gcmVuZGVyOwpleHBvcnQgeyBzY3JpcHQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["SpinnerIcon","DomHandler","BaseComponent","VirtualScrollerStyle","resolveComponent","openBlock","createElementBlock","mergeProps","renderSlot","createElementVNode","Fragment","renderList","createCommentVNode","createVNode","script$1","name","props","id","type","String","style","items","Array","itemSize","Number","scrollHeight","scrollWidth","orientation","numToleratedItems","delay","resizeDelay","lazy","Boolean","disabled","loaderDisabled","columns","loading","showSpacer","showLoader","tabindex","inline","step","appendOnly","autoSize","provide","$parentInstance","beforeMount","_this$$primevueConfig","loadStyle","nonce","$primevueConfig","csp","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","script","inheritAttrs","emits","data","both","isBoth","first","rows","cols","last","page","numItemsInViewport","lastScrollPos","top","left","d_numToleratedItems","d_loading","loaderArr","spacerStyle","contentStyle","element","content","scrollTimeout","resizeTimeout","defaultWidth","defaultHeight","defaultContentWidth","defaultContentHeight","isRangeChanged","lazyLoadState","resizeListener","initialized","watch","newValue","oldValue","init","calculateAutoSize","mounted","viewInit","updated","unmounted","unbindResizeListener","methods","isVisible","setContentEl","bindResizeListener","getWidth","getHeight","setSize","calculateOptions","setSpacerSize","isVertical","isHorizontal","scrollTo","options","scrollToIndex","index","_this","behavior","undefined","horizontal","valid","every","_this$element","_this$element$scrollT","scrollTop","_this$element$scrollL","scrollLeft","_this$calculateNumIte","calculateNumItems","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","newFirst","isScrollChanged","scrollInView","to","_this2","_this$getRenderedRang","getRenderedRange","viewport","isToStart","isToEnd","pos","_pos2","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","_this$element2","scrollPos","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","_this3","_this$calculateNumIte2","calculateLast","_num","_isCols","getLast","$emit","from","map","Promise","resolve","then","_this3$items","min","_this4","vertical","minHeight","minWidth","position","contain","_ref","width","height","_ref2","_this$items","isCols","getComputedStyle","parseFloat","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","_this5","parentElement","concat","setProp","_name","_value","_this6","setContentPosition","_this7","calculateTranslateVal","setTransform","_x","_y","transform","translateVal","onScrollPositionChange","event","_this8","target","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","newScrollPos","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_this$onScrollPositio","newState","isPageChanged","_this$items2","_this$items3","getPageByFirst","isLazyStateChanged","onScroll","_this9","clearTimeout","_this$onScrollPositio2","changed","setTimeout","onResize","_this10","_ref3","isDiffWidth","isDiffHeight","reinit","bind","window","addEventListener","removeEventListener","getOptions","renderedIndex","count","even","odd","getLoaderOptions","extOptions","el","findSingle","elementRef","contentRef","computed","containerClass","contentClass","loaderClass","$slots","loader","loadedItems","_this11","slice","item","loadedRows","loadedColumns","components","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","_component_SpinnerIcon","ref","ptmi","styleClass","getItemOptions","ptm","_","numCols","d_numItemsInViewport","spin","default"],"sources":["C:/Users/Marc/source/repos/openESEA/openESEA_interpreter/frontend/node_modules/primevue/virtualscroller/virtualscroller.esm.js"],"sourcesContent":["import SpinnerIcon from 'primevue/icons/spinner';\nimport { DomHandler } from 'primevue/utils';\nimport BaseComponent from 'primevue/basecomponent';\nimport VirtualScrollerStyle from 'primevue/virtualscroller/style';\nimport { resolveComponent, openBlock, createElementBlock, mergeProps, renderSlot, createElementVNode, Fragment, renderList, createCommentVNode, createVNode } from 'vue';\n\nvar script$1 = {\n  name: 'BaseVirtualScroller',\n  \"extends\": BaseComponent,\n  props: {\n    id: {\n      type: String,\n      \"default\": null\n    },\n    style: null,\n    \"class\": null,\n    items: {\n      type: Array,\n      \"default\": null\n    },\n    itemSize: {\n      type: [Number, Array],\n      \"default\": 0\n    },\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: {\n      type: String,\n      \"default\": 'vertical'\n    },\n    numToleratedItems: {\n      type: Number,\n      \"default\": null\n    },\n    delay: {\n      type: Number,\n      \"default\": 0\n    },\n    resizeDelay: {\n      type: Number,\n      \"default\": 10\n    },\n    lazy: {\n      type: Boolean,\n      \"default\": false\n    },\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    loaderDisabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    columns: {\n      type: Array,\n      \"default\": null\n    },\n    loading: {\n      type: Boolean,\n      \"default\": false\n    },\n    showSpacer: {\n      type: Boolean,\n      \"default\": true\n    },\n    showLoader: {\n      type: Boolean,\n      \"default\": false\n    },\n    tabindex: {\n      type: Number,\n      \"default\": 0\n    },\n    inline: {\n      type: Boolean,\n      \"default\": false\n    },\n    step: {\n      type: Number,\n      \"default\": 0\n    },\n    appendOnly: {\n      type: Boolean,\n      \"default\": false\n    },\n    autoSize: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  style: VirtualScrollerStyle,\n  provide: function provide() {\n    return {\n      $parentInstance: this\n    };\n  },\n  beforeMount: function beforeMount() {\n    var _this$$primevueConfig;\n    VirtualScrollerStyle.loadStyle({\n      nonce: (_this$$primevueConfig = this.$primevueConfig) === null || _this$$primevueConfig === void 0 || (_this$$primevueConfig = _this$$primevueConfig.csp) === null || _this$$primevueConfig === void 0 ? void 0 : _this$$primevueConfig.nonce\n    });\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar script = {\n  name: 'VirtualScroller',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  emits: ['update:numToleratedItems', 'scroll', 'scroll-index-change', 'lazy-load'],\n  data: function data() {\n    var both = this.isBoth();\n    return {\n      first: both ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: both ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      page: both ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: both ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      lastScrollPos: both ? {\n        top: 0,\n        left: 0\n      } : 0,\n      d_numToleratedItems: this.numToleratedItems,\n      d_loading: this.loading,\n      loaderArr: [],\n      spacerStyle: {},\n      contentStyle: {}\n    };\n  },\n  element: null,\n  content: null,\n  lastScrollPos: null,\n  scrollTimeout: null,\n  resizeTimeout: null,\n  defaultWidth: 0,\n  defaultHeight: 0,\n  defaultContentWidth: 0,\n  defaultContentHeight: 0,\n  isRangeChanged: false,\n  lazyLoadState: {},\n  resizeListener: null,\n  initialized: false,\n  watch: {\n    numToleratedItems: function numToleratedItems(newValue) {\n      this.d_numToleratedItems = newValue;\n    },\n    loading: function loading(newValue, oldValue) {\n      if (this.lazy && newValue !== oldValue && newValue !== this.d_loading) {\n        this.d_loading = newValue;\n      }\n    },\n    items: function items(newValue, oldValue) {\n      if (!oldValue || oldValue.length !== (newValue || []).length) {\n        this.init();\n        this.calculateAutoSize();\n      }\n    },\n    itemSize: function itemSize() {\n      this.init();\n      this.calculateAutoSize();\n    },\n    orientation: function orientation() {\n      this.lastScrollPos = this.isBoth() ? {\n        top: 0,\n        left: 0\n      } : 0;\n    },\n    scrollHeight: function scrollHeight() {\n      this.init();\n      this.calculateAutoSize();\n    },\n    scrollWidth: function scrollWidth() {\n      this.init();\n      this.calculateAutoSize();\n    }\n  },\n  mounted: function mounted() {\n    this.viewInit();\n    this.lastScrollPos = this.isBoth() ? {\n      top: 0,\n      left: 0\n    } : 0;\n    this.lazyLoadState = this.lazyLoadState || {};\n  },\n  updated: function updated() {\n    !this.initialized && this.viewInit();\n  },\n  unmounted: function unmounted() {\n    this.unbindResizeListener();\n    this.initialized = false;\n  },\n  methods: {\n    viewInit: function viewInit() {\n      if (DomHandler.isVisible(this.element)) {\n        this.setContentEl(this.content);\n        this.init();\n        this.calculateAutoSize();\n        this.bindResizeListener();\n        this.defaultWidth = DomHandler.getWidth(this.element);\n        this.defaultHeight = DomHandler.getHeight(this.element);\n        this.defaultContentWidth = DomHandler.getWidth(this.content);\n        this.defaultContentHeight = DomHandler.getHeight(this.content);\n        this.initialized = true;\n      }\n    },\n    init: function init() {\n      if (!this.disabled) {\n        this.setSize();\n        this.calculateOptions();\n        this.setSpacerSize();\n      }\n    },\n    isVertical: function isVertical() {\n      return this.orientation === 'vertical';\n    },\n    isHorizontal: function isHorizontal() {\n      return this.orientation === 'horizontal';\n    },\n    isBoth: function isBoth() {\n      return this.orientation === 'both';\n    },\n    scrollTo: function scrollTo(options) {\n      //this.lastScrollPos = this.both ? { top: 0, left: 0 } : 0;\n      this.element && this.element.scrollTo(options);\n    },\n    scrollToIndex: function scrollToIndex(index) {\n      var _this = this;\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var both = this.isBoth();\n      var horizontal = this.isHorizontal();\n      var valid = both ? index.every(function (i) {\n        return i > -1;\n      }) : index > -1;\n      if (valid) {\n        var first = this.first;\n        var _this$element = this.element,\n          _this$element$scrollT = _this$element.scrollTop,\n          scrollTop = _this$element$scrollT === void 0 ? 0 : _this$element$scrollT,\n          _this$element$scrollL = _this$element.scrollLeft,\n          scrollLeft = _this$element$scrollL === void 0 ? 0 : _this$element$scrollL;\n        var _this$calculateNumIte = this.calculateNumItems(),\n          numToleratedItems = _this$calculateNumIte.numToleratedItems;\n        var contentPos = this.getContentPosition();\n        var itemSize = this.itemSize;\n        var calculateFirst = function calculateFirst() {\n          var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var _numT = arguments.length > 1 ? arguments[1] : undefined;\n          return _index <= _numT ? 0 : _index;\n        };\n        var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n          return _first * _size + _cpos;\n        };\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n        var newFirst = both ? {\n          rows: 0,\n          cols: 0\n        } : 0;\n        var isRangeChanged = false,\n          isScrollChanged = false;\n        if (both) {\n          newFirst = {\n            rows: calculateFirst(index[0], numToleratedItems[0]),\n            cols: calculateFirst(index[1], numToleratedItems[1])\n          };\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n          isScrollChanged = this.lastScrollPos.top !== scrollTop || this.lastScrollPos.left !== scrollLeft;\n          isRangeChanged = newFirst.rows !== first.rows || newFirst.cols !== first.cols;\n        } else {\n          newFirst = calculateFirst(index, numToleratedItems);\n          horizontal ? scrollTo(calculateCoord(newFirst, itemSize, contentPos.left), scrollTop) : scrollTo(scrollLeft, calculateCoord(newFirst, itemSize, contentPos.top));\n          isScrollChanged = this.lastScrollPos !== (horizontal ? scrollLeft : scrollTop);\n          isRangeChanged = newFirst !== first;\n        }\n        this.isRangeChanged = isRangeChanged;\n        isScrollChanged && (this.first = newFirst);\n      }\n    },\n    scrollInView: function scrollInView(index, to) {\n      var _this2 = this;\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n      if (to) {\n        var both = this.isBoth();\n        var horizontal = this.isHorizontal();\n        var valid = both ? index.every(function (i) {\n          return i > -1;\n        }) : index > -1;\n        if (valid) {\n          var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n          var scrollTo = function scrollTo() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            return _this2.scrollTo({\n              left: left,\n              top: top,\n              behavior: behavior\n            });\n          };\n          var isToStart = to === 'to-start';\n          var isToEnd = to === 'to-end';\n          if (isToStart) {\n            if (both) {\n              if (viewport.first.rows - first.rows > index[0]) {\n                scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows - 1) * this.itemSize[0]);\n              } else if (viewport.first.cols - first.cols > index[1]) {\n                scrollTo((viewport.first.cols - 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n              }\n            } else {\n              if (viewport.first - first > index) {\n                var pos = (viewport.first - 1) * this.itemSize;\n                horizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n              }\n            }\n          } else if (isToEnd) {\n            if (both) {\n              if (viewport.last.rows - first.rows <= index[0] + 1) {\n                scrollTo(viewport.first.cols * this.itemSize[1], (viewport.first.rows + 1) * this.itemSize[0]);\n              } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n                scrollTo((viewport.first.cols + 1) * this.itemSize[1], viewport.first.rows * this.itemSize[0]);\n              }\n            } else {\n              if (viewport.last - first <= index + 1) {\n                var _pos2 = (viewport.first + 1) * this.itemSize;\n                horizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n              }\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    },\n    getRenderedRange: function getRenderedRange() {\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n      var firstInViewport = this.first;\n      var lastInViewport = 0;\n      if (this.element) {\n        var both = this.isBoth();\n        var horizontal = this.isHorizontal();\n        var _this$element2 = this.element,\n          scrollTop = _this$element2.scrollTop,\n          scrollLeft = _this$element2.scrollLeft;\n        if (both) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, this.itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, this.itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + this.numItemsInViewport.rows,\n            cols: firstInViewport.cols + this.numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = horizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, this.itemSize);\n          lastInViewport = firstInViewport + this.numItemsInViewport;\n        }\n      }\n      return {\n        first: this.first,\n        last: this.last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    },\n    calculateNumItems: function calculateNumItems() {\n      var both = this.isBoth();\n      var horizontal = this.isHorizontal();\n      var itemSize = this.itemSize;\n      var contentPos = this.getContentPosition();\n      var contentWidth = this.element ? this.element.offsetWidth - contentPos.left : 0;\n      var contentHeight = this.element ? this.element.offsetHeight - contentPos.top : 0;\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n      var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n        return Math.ceil(_numItems / 2);\n      };\n      var numItemsInViewport = both ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.d_numToleratedItems || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n      return {\n        numItemsInViewport: numItemsInViewport,\n        numToleratedItems: numToleratedItems\n      };\n    },\n    calculateOptions: function calculateOptions() {\n      var _this3 = this;\n      var both = this.isBoth();\n      var first = this.first;\n      var _this$calculateNumIte2 = this.calculateNumItems(),\n        numItemsInViewport = _this$calculateNumIte2.numItemsInViewport,\n        numToleratedItems = _this$calculateNumIte2.numToleratedItems;\n      var calculateLast = function calculateLast(_first, _num, _numT) {\n        var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        return _this3.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n      };\n      var last = both ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      this.last = last;\n      this.numItemsInViewport = numItemsInViewport;\n      this.d_numToleratedItems = numToleratedItems;\n      this.$emit('update:numToleratedItems', this.d_numToleratedItems);\n      if (this.showLoader) {\n        this.loaderArr = both ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(function () {\n          return Array.from({\n            length: numItemsInViewport.cols\n          });\n        }) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n      if (this.lazy) {\n        Promise.resolve().then(function () {\n          var _this3$items;\n          _this3.lazyLoadState = {\n            first: _this3.step ? both ? {\n              rows: 0,\n              cols: first.cols\n            } : 0 : first,\n            last: Math.min(_this3.step ? _this3.step : last, ((_this3$items = _this3.items) === null || _this3$items === void 0 ? void 0 : _this3$items.length) || 0)\n          };\n          _this3.$emit('lazy-load', _this3.lazyLoadState);\n        });\n      }\n    },\n    calculateAutoSize: function calculateAutoSize() {\n      var _this4 = this;\n      if (this.autoSize && !this.d_loading) {\n        Promise.resolve().then(function () {\n          if (_this4.content) {\n            var both = _this4.isBoth();\n            var horizontal = _this4.isHorizontal();\n            var vertical = _this4.isVertical();\n            _this4.content.style.minHeight = _this4.content.style.minWidth = 'auto';\n            _this4.content.style.position = 'relative';\n            _this4.element.style.contain = 'none';\n\n            /*const [contentWidth, contentHeight] = [DomHandler.getWidth(this.content), DomHandler.getHeight(this.content)];\n             contentWidth !== this.defaultContentWidth && (this.element.style.width = '');\n            contentHeight !== this.defaultContentHeight && (this.element.style.height = '');*/\n\n            var _ref = [DomHandler.getWidth(_this4.element), DomHandler.getHeight(_this4.element)],\n              width = _ref[0],\n              height = _ref[1];\n            (both || horizontal) && (_this4.element.style.width = width < _this4.defaultWidth ? width + 'px' : _this4.scrollWidth || _this4.defaultWidth + 'px');\n            (both || vertical) && (_this4.element.style.height = height < _this4.defaultHeight ? height + 'px' : _this4.scrollHeight || _this4.defaultHeight + 'px');\n            _this4.content.style.minHeight = _this4.content.style.minWidth = '';\n            _this4.content.style.position = '';\n            _this4.element.style.contain = '';\n          }\n        });\n      }\n    },\n    getLast: function getLast() {\n      var _ref2, _this$items;\n      var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var isCols = arguments.length > 1 ? arguments[1] : undefined;\n      return this.items ? Math.min(isCols ? ((_ref2 = this.columns || this.items[0]) === null || _ref2 === void 0 ? void 0 : _ref2.length) || 0 : ((_this$items = this.items) === null || _this$items === void 0 ? void 0 : _this$items.length) || 0, last) : 0;\n    },\n    getContentPosition: function getContentPosition() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n        var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n        var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n        var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    },\n    setSize: function setSize() {\n      var _this5 = this;\n      if (this.element) {\n        var both = this.isBoth();\n        var horizontal = this.isHorizontal();\n        var parentElement = this.element.parentElement;\n        var width = this.scrollWidth || \"\".concat(this.element.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.scrollHeight || \"\".concat(this.element.offsetHeight || parentElement.offsetHeight, \"px\");\n        var setProp = function setProp(_name, _value) {\n          return _this5.element.style[_name] = _value;\n        };\n        if (both || horizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    },\n    setSpacerSize: function setSpacerSize() {\n      var _this6 = this;\n      var items = this.items;\n      if (items) {\n        var both = this.isBoth();\n        var horizontal = this.isHorizontal();\n        var contentPos = this.getContentPosition();\n        var setProp = function setProp(_name, _value, _size) {\n          var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n          return _this6.spacerStyle = _objectSpread(_objectSpread({}, _this6.spacerStyle), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n        };\n        if (both) {\n          setProp('height', items, this.itemSize[0], contentPos.y);\n          setProp('width', this.columns || items[1], this.itemSize[1], contentPos.x);\n        } else {\n          horizontal ? setProp('width', this.columns || items, this.itemSize, contentPos.x) : setProp('height', items, this.itemSize, contentPos.y);\n        }\n      }\n    },\n    setContentPosition: function setContentPosition(pos) {\n      var _this7 = this;\n      if (this.content && !this.appendOnly) {\n        var both = this.isBoth();\n        var horizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.first;\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this7.contentStyle = _objectSpread(_objectSpread({}, _this7.contentStyle), {\n            transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n          });\n        };\n        if (both) {\n          setTransform(calculateTranslateVal(first.cols, this.itemSize[1]), calculateTranslateVal(first.rows, this.itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, this.itemSize);\n          horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    },\n    onScrollPositionChange: function onScrollPositionChange(event) {\n      var _this8 = this;\n      var target = event.target;\n      var both = this.isBoth();\n      var horizontal = this.isHorizontal();\n      var contentPos = this.getContentPosition();\n      var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n        return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n      };\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n      };\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n        var lastValue = _first + _num + 2 * _numT;\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n        return _this8.getLast(lastValue, _isCols);\n      };\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      var newFirst = both ? {\n        rows: 0,\n        cols: 0\n      } : 0;\n      var newLast = this.last;\n      var isRangeChanged = false;\n      var newScrollPos = this.lastScrollPos;\n      if (both) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        if (!this.appendOnly || this.appendOnly && (isScrollDown || isScrollRight)) {\n          var currentIndex = {\n            rows: calculateCurrentIndex(scrollTop, this.itemSize[0]),\n            cols: calculateCurrentIndex(scrollLeft, this.itemSize[1])\n          };\n          var triggerIndex = {\n            rows: calculateTriggerIndex(currentIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n            cols: calculateTriggerIndex(currentIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n          };\n          newFirst = {\n            rows: calculateFirst(currentIndex.rows, triggerIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0], isScrollDown),\n            cols: calculateFirst(currentIndex.cols, triggerIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], isScrollRight)\n          };\n          newLast = {\n            rows: calculateLast(currentIndex.rows, newFirst.rows, this.last.rows, this.numItemsInViewport.rows, this.d_numToleratedItems[0]),\n            cols: calculateLast(currentIndex.cols, newFirst.cols, this.last.cols, this.numItemsInViewport.cols, this.d_numToleratedItems[1], true)\n          };\n          isRangeChanged = newFirst.rows !== this.first.rows || newLast.rows !== this.last.rows || newFirst.cols !== this.first.cols || newLast.cols !== this.last.cols || this.isRangeChanged;\n          newScrollPos = {\n            top: scrollTop,\n            left: scrollLeft\n          };\n        }\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n        if (!this.appendOnly || this.appendOnly && isScrollDownOrRight) {\n          var _currentIndex2 = calculateCurrentIndex(scrollPos, this.itemSize);\n          var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n          newFirst = calculateFirst(_currentIndex2, _triggerIndex2, this.first, this.last, this.numItemsInViewport, this.d_numToleratedItems, isScrollDownOrRight);\n          newLast = calculateLast(_currentIndex2, newFirst, this.last, this.numItemsInViewport, this.d_numToleratedItems);\n          isRangeChanged = newFirst !== this.first || newLast !== this.last || this.isRangeChanged;\n          newScrollPos = scrollPos;\n        }\n      }\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged,\n        scrollPos: newScrollPos\n      };\n    },\n    onScrollChange: function onScrollChange(event) {\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n        first = _this$onScrollPositio.first,\n        last = _this$onScrollPositio.last,\n        isRangeChanged = _this$onScrollPositio.isRangeChanged,\n        scrollPos = _this$onScrollPositio.scrollPos;\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n        this.first = first;\n        this.last = last;\n        this.lastScrollPos = scrollPos;\n        this.$emit('scroll-index-change', newState);\n        if (this.lazy && this.isPageChanged(first)) {\n          var _this$items2, _this$items3;\n          var lazyLoadState = {\n            first: this.step ? Math.min(this.getPageByFirst(first) * this.step, (((_this$items2 = this.items) === null || _this$items2 === void 0 ? void 0 : _this$items2.length) || 0) - this.step) : first,\n            last: Math.min(this.step ? (this.getPageByFirst(first) + 1) * this.step : last, ((_this$items3 = this.items) === null || _this$items3 === void 0 ? void 0 : _this$items3.length) || 0)\n          };\n          var isLazyStateChanged = this.lazyLoadState.first !== lazyLoadState.first || this.lazyLoadState.last !== lazyLoadState.last;\n          isLazyStateChanged && this.$emit('lazy-load', lazyLoadState);\n          this.lazyLoadState = lazyLoadState;\n        }\n      }\n    },\n    onScroll: function onScroll(event) {\n      var _this9 = this;\n      this.$emit('scroll', event);\n      if (this.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n        if (this.isPageChanged()) {\n          if (!this.d_loading && this.showLoader) {\n            var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              isRangeChanged = _this$onScrollPositio2.isRangeChanged;\n            var changed = isRangeChanged || (this.step ? this.isPageChanged() : false);\n            changed && (this.d_loading = true);\n          }\n          this.scrollTimeout = setTimeout(function () {\n            _this9.onScrollChange(event);\n            if (_this9.d_loading && _this9.showLoader && (!_this9.lazy || _this9.loading === undefined)) {\n              _this9.d_loading = false;\n              _this9.page = _this9.getPageByFirst();\n            }\n          }, this.delay);\n        }\n      } else {\n        this.onScrollChange(event);\n      }\n    },\n    onResize: function onResize() {\n      var _this10 = this;\n      if (this.resizeTimeout) {\n        clearTimeout(this.resizeTimeout);\n      }\n      this.resizeTimeout = setTimeout(function () {\n        if (DomHandler.isVisible(_this10.element)) {\n          var both = _this10.isBoth();\n          var vertical = _this10.isVertical();\n          var horizontal = _this10.isHorizontal();\n          var _ref3 = [DomHandler.getWidth(_this10.element), DomHandler.getHeight(_this10.element)],\n            width = _ref3[0],\n            height = _ref3[1];\n          var isDiffWidth = width !== _this10.defaultWidth,\n            isDiffHeight = height !== _this10.defaultHeight;\n          var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n          if (reinit) {\n            _this10.d_numToleratedItems = _this10.numToleratedItems;\n            _this10.defaultWidth = width;\n            _this10.defaultHeight = height;\n            _this10.defaultContentWidth = DomHandler.getWidth(_this10.content);\n            _this10.defaultContentHeight = DomHandler.getHeight(_this10.content);\n            _this10.init();\n          }\n        }\n      }, this.resizeDelay);\n    },\n    bindResizeListener: function bindResizeListener() {\n      if (!this.resizeListener) {\n        this.resizeListener = this.onResize.bind(this);\n        window.addEventListener('resize', this.resizeListener);\n        window.addEventListener('orientationchange', this.resizeListener);\n      }\n    },\n    unbindResizeListener: function unbindResizeListener() {\n      if (this.resizeListener) {\n        window.removeEventListener('resize', this.resizeListener);\n        window.removeEventListener('orientationchange', this.resizeListener);\n        this.resizeListener = null;\n      }\n    },\n    getOptions: function getOptions(renderedIndex) {\n      var count = (this.items || []).length;\n      var index = this.isBoth() ? this.first.rows + renderedIndex : this.first + renderedIndex;\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0\n      };\n    },\n    getLoaderOptions: function getLoaderOptions(index, extOptions) {\n      var count = this.loaderArr.length;\n      return _objectSpread({\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0\n      }, extOptions);\n    },\n    getPageByFirst: function getPageByFirst(first) {\n      return Math.floor(((first !== null && first !== void 0 ? first : this.first) + this.d_numToleratedItems * 4) / (this.step || 1));\n    },\n    isPageChanged: function isPageChanged(first) {\n      return this.step ? this.page !== this.getPageByFirst(first !== null && first !== void 0 ? first : this.first) : true;\n    },\n    setContentEl: function setContentEl(el) {\n      this.content = el || this.content || DomHandler.findSingle(this.element, '[data-pc-section=\"content\"]');\n    },\n    elementRef: function elementRef(el) {\n      this.element = el;\n    },\n    contentRef: function contentRef(el) {\n      this.content = el;\n    }\n  },\n  computed: {\n    containerClass: function containerClass() {\n      return ['p-virtualscroller', this[\"class\"], {\n        'p-virtualscroller-inline': this.inline,\n        'p-virtualscroller-both p-both-scroll': this.isBoth(),\n        'p-virtualscroller-horizontal p-horizontal-scroll': this.isHorizontal()\n      }];\n    },\n    contentClass: function contentClass() {\n      return ['p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.d_loading\n      }];\n    },\n    loaderClass: function loaderClass() {\n      return ['p-virtualscroller-loader', {\n        'p-component-overlay': !this.$slots.loader\n      }];\n    },\n    loadedItems: function loadedItems() {\n      var _this11 = this;\n      if (this.items && !this.d_loading) {\n        if (this.isBoth()) return this.items.slice(this.appendOnly ? 0 : this.first.rows, this.last.rows).map(function (item) {\n          return _this11.columns ? item : item.slice(_this11.appendOnly ? 0 : _this11.first.cols, _this11.last.cols);\n        });else if (this.isHorizontal() && this.columns) return this.items;else return this.items.slice(this.appendOnly ? 0 : this.first, this.last);\n      }\n      return [];\n    },\n    loadedRows: function loadedRows() {\n      return this.d_loading ? this.loaderDisabled ? this.loaderArr : [] : this.loadedItems;\n    },\n    loadedColumns: function loadedColumns() {\n      if (this.columns) {\n        var both = this.isBoth();\n        var horizontal = this.isHorizontal();\n        if (both || horizontal) {\n          return this.d_loading && this.loaderDisabled ? both ? this.loaderArr[0] : this.loaderArr : this.columns.slice(both ? this.first.cols : this.first, both ? this.last.cols : this.last);\n        }\n      }\n      return this.columns;\n    }\n  },\n  components: {\n    SpinnerIcon: SpinnerIcon\n  }\n};\n\nvar _hoisted_1 = [\"tabindex\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SpinnerIcon = resolveComponent(\"SpinnerIcon\");\n  return !_ctx.disabled ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 0,\n    ref: $options.elementRef,\n    \"class\": $options.containerClass,\n    tabindex: _ctx.tabindex,\n    style: _ctx.style,\n    onScroll: _cache[0] || (_cache[0] = function () {\n      return $options.onScroll && $options.onScroll.apply($options, arguments);\n    })\n  }, _ctx.ptmi('root')), [renderSlot(_ctx.$slots, \"content\", {\n    styleClass: $options.contentClass,\n    items: $options.loadedItems,\n    getItemOptions: $options.getOptions,\n    loading: $data.d_loading,\n    getLoaderOptions: $options.getLoaderOptions,\n    itemSize: _ctx.itemSize,\n    rows: $options.loadedRows,\n    columns: $options.loadedColumns,\n    contentRef: $options.contentRef,\n    spacerStyle: $data.spacerStyle,\n    contentStyle: $data.contentStyle,\n    vertical: $options.isVertical(),\n    horizontal: $options.isHorizontal(),\n    both: $options.isBoth()\n  }, function () {\n    return [createElementVNode(\"div\", mergeProps({\n      ref: $options.contentRef,\n      \"class\": $options.contentClass,\n      style: $data.contentStyle\n    }, _ctx.ptm('content')), [(openBlock(true), createElementBlock(Fragment, null, renderList($options.loadedItems, function (item, index) {\n      return renderSlot(_ctx.$slots, \"item\", {\n        key: index,\n        item: item,\n        options: $options.getOptions(index)\n      });\n    }), 128))], 16)];\n  }), _ctx.showSpacer ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 0,\n    \"class\": \"p-virtualscroller-spacer\",\n    style: $data.spacerStyle\n  }, _ctx.ptm('spacer')), null, 16)) : createCommentVNode(\"\", true), !_ctx.loaderDisabled && _ctx.showLoader && $data.d_loading ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 1,\n    \"class\": $options.loaderClass\n  }, _ctx.ptm('loader')), [_ctx.$slots && _ctx.$slots.loader ? (openBlock(true), createElementBlock(Fragment, {\n    key: 0\n  }, renderList($data.loaderArr, function (_, index) {\n    return renderSlot(_ctx.$slots, \"loader\", {\n      key: index,\n      options: $options.getLoaderOptions(index, $options.isBoth() && {\n        numCols: _ctx.d_numItemsInViewport.cols\n      })\n    });\n  }), 128)) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"loadingicon\", {}, function () {\n    return [createVNode(_component_SpinnerIcon, mergeProps({\n      spin: \"\",\n      \"class\": \"p-virtualscroller-loading-icon\"\n    }, _ctx.ptm('loadingIcon')), null, 16)];\n  })], 16)) : createCommentVNode(\"\", true)], 16, _hoisted_1)) : (openBlock(), createElementBlock(Fragment, {\n    key: 1\n  }, [renderSlot(_ctx.$slots, \"default\"), renderSlot(_ctx.$slots, \"content\", {\n    items: _ctx.items,\n    rows: _ctx.items,\n    columns: $options.loadedColumns\n  })], 64));\n}\n\nscript.render = render;\n\nexport { script as default };\n"],"mappings":"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","ignoreList":[]}]}