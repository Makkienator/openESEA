{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\organisation\\OrganisationNetworks.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\organisation\\OrganisationNetworks.vue","mtime":1707572265524},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgTmV0d29ya0xpc3QgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9saXN0cy9OZXR3b3JrTGlzdCc7CmltcG9ydCBJbnZpdGF0aW9uV2luZG93IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvSW52aXRhdGlvbldpbmRvdyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBOZXR3b3JrTGlzdCwKICAgIEludml0YXRpb25XaW5kb3cKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBqb2luYWJsZU5ldHdvcmtzQm9vbDogZmFsc2UsCiAgICAgIHJlZnJlc2g6IGZhbHNlLAogICAgICByZW1vdmVEaWFsb2c6IGZhbHNlLAogICAgICByZXF1ZXN0UGFydGljaXBhdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHNlbGVjdGVkTmV0d29yazogbnVsbCwKICAgICAgY29sdW1uczogW3sKICAgICAgICBmaWVsZDogJ25ldHdvcmtfbmFtZScsCiAgICAgICAgaGVhZGVyOiAnTmFtZScKICAgICAgfSwgewogICAgICAgIGZpZWxkOiAnbmV0d29ya19kZXNjcmlwdGlvbicsCiAgICAgICAgaGVhZGVyOiAnRGVzY3JpcHRpb24nCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCduZXR3b3JrJywgWyduZXR3b3JrcyddKSwKICAgIC4uLm1hcFN0YXRlKCdvcmdhbmlzYXRpb24nLCBbJ29yZ2FuaXNhdGlvbiddKSwKICAgIHBlcm1pc3Npb24oKSB7CiAgICAgIGlmICh0aGlzLm9yZ2FuaXNhdGlvbi5hY2Nlc0xldmVsKSB7CiAgICAgICAgY29uc3QgYWNjZXNMZXZlbCA9IHRoaXMub3JnYW5pc2F0aW9uLmFjY2VzTGV2ZWw7CiAgICAgICAgaWYgKGFjY2VzTGV2ZWwgPT09ICdhZG1pbicgfHwgYWNjZXNMZXZlbCA9PT0gJ29yZ2FuaXNhdGlvbiBhZG1pbicpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgam9pbmFibGVOZXR3b3Jrc0Jvb2wodmFsKSB7CiAgICAgIHRoaXMucmVmcmVzaCA9ICF0aGlzLnJlZnJlc2g7CiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5yZWZyZXNoRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygnb3JnYW5pc2F0aW9uJywgWydwYXRjaE9yZ2FuaXNhdGlvbiddKSwKICAgIC4uLm1hcEFjdGlvbnMoJ21lbWJlcnNoaXAnLCBbJ2ZldGNoTWVtYmVyc2hpcHMnLCAnY3JlYXRlTWVtYmVyc2hpcCcsICd1cGRhdGVNZW1iZXJzaGlwJ10pLAogICAgYXN5bmMgcmVmcmVzaERhdGEoKSB7CiAgICAgIHRoaXMucmVmcmVzaCA9ICF0aGlzLnJlZnJlc2g7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hNZW1iZXJzaGlwcyh7CiAgICAgICAgcXVlcnk6IGA/b3JnYW5pc2F0aW9uPSR7dGhpcy4kcm91dGUucGFyYW1zLk9yZ2FuaXNhdGlvbklkfWAKICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIG9wZW5Kb2luTmV0d29ya0RpYWxvZyhuZXR3b3JrKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWROZXR3b3JrID0gbmV0d29yazsKICAgICAgdGhpcy5yZXF1ZXN0UGFydGljaXBhdGlvbkRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgcmVxdWVzdE5ldHdvcmtQYXJ0aWNpcGF0aW9uKCkgewogICAgICB0aGlzLmpvaW5hYmxlTmV0d29ya3NCb29sID0gZmFsc2U7CiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlTWVtYmVyc2hpcCh7CiAgICAgICAgZGF0YTogewogICAgICAgICAgbmV0d29yazogdGhpcy5zZWxlY3RlZE5ldHdvcmsuaWQsCiAgICAgICAgICBvcmdhbmlzYXRpb246IHRoaXMuJHJvdXRlLnBhcmFtcy5PcmdhbmlzYXRpb25JZCwKICAgICAgICAgIHJlcXVlc3RlcjogJ29yZ2FuaXNhdGlvbicKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnJlcXVlc3RQYXJ0aWNpcGF0aW9uRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMucmVmcmVzaERhdGEoKTsKICAgIH0sCiAgICBvcGVuTGVhdmVOZXR3b3JrRGlhbG9nKG5ldHdvcmspIHsKICAgICAgdGhpcy5zZWxlY3RlZE5ldHdvcmsgPSBuZXR3b3JrOwogICAgICB0aGlzLnJlbW92ZURpYWxvZyA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgcmVtb3ZlTmV0d29yaygpIHsKICAgICAgdGhpcy5yZW1vdmVEaWFsb2cgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWROZXR3b3JrKSB7CiAgICAgICAgdmFyIG5ld0xpc3RPZk5ldHdvcmtzID0gdGhpcy5vcmdhbmlzYXRpb24ubmV0d29ya3MuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gdGhpcy5zZWxlY3RlZE5ldHdvcmsuaWQpOwogICAgICAgIGF3YWl0IHRoaXMucGF0Y2hPcmdhbmlzYXRpb24oewogICAgICAgICAgbmV0d29ya3M6IG5ld0xpc3RPZk5ldHdvcmtzCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5yZWZyZXNoRGF0YSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","mapActions","NetworkList","InvitationWindow","components","data","joinableNetworksBool","refresh","removeDialog","requestParticipationDialog","loading","selectedNetwork","columns","field","header","computed","permission","organisation","accesLevel","watch","val","created","refreshData","methods","fetchMemberships","query","$route","params","OrganisationId","openJoinNetworkDialog","network","requestNetworkParticipation","createMembership","id","requester","openLeaveNetworkDialog","removeNetwork","newListOfNetworks","networks","filter","item","patchOrganisation"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\views\\organisation\\OrganisationNetworks.vue"],"sourcesContent":["// http://localhost:8081/organisation/1/networks/\r\n\r\n<template>\r\n    <network-list :permission=\"permission\" v-model:refresh=\"refresh\" :organisationnetworks=\"true\" :joinableNetworks=\"joinableNetworksBool\" @leave-network=\"openLeaveNetworkDialog\" @join-network=\"openJoinNetworkDialog\">\r\n        <Button v-if=\"permission\" :label=\"(joinableNetworksBool) ? 'Show own Network':'Join Network'\" :class=\"(joinableNetworksBool) ? 'p-button-warning':'p-button-success'\" @click=\"joinableNetworksBool= !joinableNetworksBool\" />\r\n    </network-list>\r\n\r\n    <invitation-window v-if=\"permission\" parenttype=\"organisation\" @refresh=\"refreshData()\" />\r\n\r\n    <Dialog v-model:visible=\"removeDialog\" style=\"width: 500px\" header=\"Confirm Deletion\" :modal=\"true\"  :dismissableMask=\"true\">\r\n            Are you sure you want to <b>delete</b> the following network?\r\n            <div class=\"p-shadow-1 p-p-3 p-m-5\">{{selectedNetwork.name}}</div>\r\n        <template #footer>\r\n        <Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"removeDialog=false\" />\r\n        <Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"removeNetwork()\" />\r\n      </template>\r\n    </Dialog>\r\n\r\n    <Dialog v-model:visible=\"requestParticipationDialog\" class=\"p-fluid\" style=\"width: 500px\" :header=\"`Network: ${selectedNetwork?.name}`\" :modal=\"true\" :dismissableMask=\"true\">\r\n        <div class=\"p-field\">\r\n        <label for=\"message\">Message</label>\r\n        <Textarea id=\"message\" v-model=\"something\" rows=\"5\" :autoResize=\"true\" placeholder=\"Write a message to the network you want to participate in.\" />\r\n        </div>\r\n        <template #footer>\r\n            <Button label=\"Cancel\" icon=\"pi pi-times\" @click=\"requestParticipationDialog=false\" class=\"p-button-text\"/>\r\n            <Button label=\"Request Participation\" icon=\"pi pi-check\" @click=\"requestNetworkParticipation\" />\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions } from 'vuex'\r\n    import NetworkList from '../../components/lists/NetworkList'\r\n    import InvitationWindow from '../../components/InvitationWindow'\r\n\r\n    export default {\r\n        components: {\r\n            NetworkList,\r\n            InvitationWindow\r\n        },\r\n        data () {\r\n            return {\r\n                joinableNetworksBool: false,\r\n                refresh: false,\r\n                removeDialog: false,\r\n                requestParticipationDialog: false,\r\n                loading: true,\r\n                selectedNetwork: null,\r\n                columns: [\r\n                        { field: 'network_name', header: 'Name' },\r\n                        { field: 'network_description', header: 'Description' }\r\n                    ]\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('network', ['networks']),\r\n            ...mapState('organisation', ['organisation']),\r\n            permission () {\r\n                if (this.organisation.accesLevel) {\r\n                    const accesLevel = this.organisation.accesLevel\r\n                    if (accesLevel === 'admin' || accesLevel === 'organisation admin') {\r\n                        return true\r\n                    }\r\n                }\r\n                return false\r\n            }\r\n        },\r\n        watch: {\r\n            joinableNetworksBool (val) {\r\n                this.refresh = !this.refresh\r\n            }\r\n        },\r\n        async created () {\r\n        this.refreshData()\r\n        },\r\n        methods: {\r\n            ...mapActions('organisation', ['patchOrganisation']),\r\n            ...mapActions('membership', ['fetchMemberships', 'createMembership', 'updateMembership']),\r\n            async refreshData () {\r\n                this.refresh = !this.refresh\r\n                this.loading = true\r\n                await this.fetchMemberships({ query: `?organisation=${this.$route.params.OrganisationId}` })\r\n                this.loading = false\r\n            },\r\n            openJoinNetworkDialog (network) {\r\n                this.selectedNetwork = network\r\n                this.requestParticipationDialog = true\r\n            },\r\n            async requestNetworkParticipation () {\r\n                this.joinableNetworksBool = false\r\n                await this.createMembership({ data: { network: this.selectedNetwork.id, organisation: this.$route.params.OrganisationId, requester: 'organisation' } })\r\n                this.requestParticipationDialog = false\r\n                this.refreshData()\r\n            },\r\n            openLeaveNetworkDialog (network) {\r\n                this.selectedNetwork = network\r\n                this.removeDialog = true\r\n            },\r\n            async removeNetwork () {\r\n                this.removeDialog = false\r\n                if (this.selectedNetwork) {\r\n                    var newListOfNetworks = this.organisation.networks.filter(item => item !== this.selectedNetwork.id)\r\n                    await this.patchOrganisation({ networks: newListOfNetworks })\r\n                }\r\n                this.refreshData()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}