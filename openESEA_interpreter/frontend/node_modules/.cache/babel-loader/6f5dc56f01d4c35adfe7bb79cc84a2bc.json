{"remainingRequest":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\QuestionForm.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\QuestionForm.vue","mtime":1707572265305},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\babel.config.js","mtime":1707572265264},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1741014593746},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1741014584802},{"path":"C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1741014595374}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5yZWR1Y2UuanMiOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB1c2VWdWVsaWRhdGUgZnJvbSAnQHZ1ZWxpZGF0ZS9jb3JlJzsKaW1wb3J0IHsgVUlfQ09NUE9ORU5UUyB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnN0YW50cyc7CmltcG9ydCBIYW5kbGVWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uLy4uL3V0aWxzL0hhbmRsZVZhbGlkYXRpb25FcnJvcnMnOwppbXBvcnQgeyBpc0VxdWFsLCBjbG9uZURlZXAgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyByZXF1aXJlZCwgbWF4TGVuZ3RoIH0gZnJvbSAnLi4vLi4vdXRpbHMvdmFsaWRhdG9ycyc7CmltcG9ydCBEcm9wZG93biBmcm9tICdwcmltZXZ1ZS9kcm9wZG93bic7CmltcG9ydCBJbnB1dFN3aXRjaCBmcm9tICdwcmltZXZ1ZS9pbnB1dHN3aXRjaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEcm9wZG93biwKICAgIElucHV0U3dpdGNoCiAgfSwKICBwcm9wczogewogICAgcXVlc3Rpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGFjdGl2ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGVycm9yczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSkKICAgIH0sCiAgICBjaGVja1NhdmluZ1N0YXR1czogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9CiAgfSwKICBzZXR1cDogKCkgPT4gKHsKICAgIHYkOiB1c2VWdWVsaWRhdGUoKQogIH0pLAogIHZhbGlkYXRpb25zOiB7CiAgICBsYXp5UXVlc3Rpb246IHsKICAgICAgbmFtZTogewogICAgICAgIHJlcXVpcmVkLAogICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDUxMSkKICAgICAgfSwKICAgICAgdWlDb21wb25lbnQ6IHsKICAgICAgICByZXF1aXJlZAogICAgICB9LAogICAgICBpc01hbmRhdG9yeTogewogICAgICAgIHJlcXVpcmVkCiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYXp5UXVlc3Rpb246IGNsb25lRGVlcCh0aGlzLnF1ZXN0aW9uKSB8fCB7fSwKICAgICAgdWlDb21wb25lbnRzOiBVSV9DT01QT05FTlRTLAogICAgICByZXF1aXJlZExpc3Q6IFt7CiAgICAgICAgbmFtZTogJ1JlcXVpcmVkJywKICAgICAgICB2YWx1ZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ09wdGlvbmFsJywKICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICB9XSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZhaWxlZFRvVXBEYXRlOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1aUNvbXBvbmVudHNMaXN0KCkgewogICAgICB2YXIgX3RoaXMkbGF6eVF1ZXN0aW9uJGRpLCBfdGhpcyRsYXp5UXVlc3Rpb24kZGkyOwogICAgICBsZXQgYWNjZXB0ZWRVSUNvbXBvbmVudHMgPSB0aGlzLnVpQ29tcG9uZW50cy5yZWR1Y2UoKHJlc3VsdCwgb3B0aW9uKSA9PiByZXN1bHQuY29uY2F0KG9wdGlvbi52YWx1ZSksIFtdKTsKICAgICAgaWYgKChfdGhpcyRsYXp5UXVlc3Rpb24kZGkgPSB0aGlzLmxhenlRdWVzdGlvbi5kaXJlY3RfaW5kaWNhdG9yKSAhPT0gbnVsbCAmJiBfdGhpcyRsYXp5UXVlc3Rpb24kZGkgIT09IHZvaWQgMCAmJiAoX3RoaXMkbGF6eVF1ZXN0aW9uJGRpMiA9IF90aGlzJGxhenlRdWVzdGlvbiRkaVswXSkgIT09IG51bGwgJiYgX3RoaXMkbGF6eVF1ZXN0aW9uJGRpMiAhPT0gdm9pZCAwICYmIF90aGlzJGxhenlRdWVzdGlvbiRkaTIuZGF0YXR5cGUpIHsKICAgICAgICAvLyB0ZXh0OiBvcHRpb24udGV4dCwgdmFsdWU6IG9wdGlvbi52YWx1ZQogICAgICAgIGFjY2VwdGVkVUlDb21wb25lbnRzID0gdGhpcy51aUNvbXBvbmVudHMucmVkdWNlKChyZXN1bHQsIG9wdGlvbikgPT4gewogICAgICAgICAgdmFyIF90aGlzJGxhenlRdWVzdGlvbiRkaTMsIF90aGlzJGxhenlRdWVzdGlvbiRkaTQ7CiAgICAgICAgICByZXR1cm4gb3B0aW9uLnBvc3NpYmxlRGF0YVR5cGVzLmluY2x1ZGVzKChfdGhpcyRsYXp5UXVlc3Rpb24kZGkzID0gdGhpcy5sYXp5UXVlc3Rpb24uZGlyZWN0X2luZGljYXRvcikgPT09IG51bGwgfHwgX3RoaXMkbGF6eVF1ZXN0aW9uJGRpMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJGxhenlRdWVzdGlvbiRkaTQgPSBfdGhpcyRsYXp5UXVlc3Rpb24kZGkzWzBdKSA9PT0gbnVsbCB8fCBfdGhpcyRsYXp5UXVlc3Rpb24kZGk0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRsYXp5UXVlc3Rpb24kZGk0LmRhdGF0eXBlKSA/IHJlc3VsdC5jb25jYXQob3B0aW9uLnZhbHVlKSA6IHJlc3VsdDsKICAgICAgICB9LCBbXSk7IC8vIE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YVR5cGVzKS5yZWR1Y2UoKHJlc3VsdCwgZGF0YXR5cGUsIHtpbmNsdWRlcyhkYXRhdHlwZS52YWx1ZSl9KQogICAgICB9CiAgICAgIHJldHVybiBhY2NlcHRlZFVJQ29tcG9uZW50czsgLy8gcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudWlDb21wb25lbnRzKS5tYXAoKFt0ZXh0LCB2YWx1ZV0pID0+ICh7IHRleHQsIHZhbHVlIH0pKQogICAgfSwKICAgIG5hbWVFcnJvcnMoKSB7CiAgICAgIHJldHVybiBIYW5kbGVWYWxpZGF0aW9uRXJyb3JzKHRoaXMudiQubGF6eVF1ZXN0aW9uLm5hbWUsIHRoaXMuZXJyb3JzLm5hbWUpOwogICAgfSwKICAgIHVpQ29tcG9uZW50RXJyb3JzKCkgewogICAgICByZXR1cm4gSGFuZGxlVmFsaWRhdGlvbkVycm9ycyh0aGlzLnYkLmxhenlRdWVzdGlvbi51aUNvbXBvbmVudCwgdGhpcy5lcnJvcnMudWlDb21wb25lbnQpOwogICAgfSwKICAgIHZhbGlkKCkgewogICAgICByZXR1cm4gIXRoaXMudiQubGF6eVF1ZXN0aW9uLiRpbnZhbGlkICYmIHRoaXMubGF6eVF1ZXN0aW9uLmlkID4gMCAmJiB0aGlzLnVwdG9kYXRlOwogICAgfSwKICAgIHVwdG9kYXRlKCkgewogICAgICByZXR1cm4gaXNFcXVhbCh0aGlzLmxhenlRdWVzdGlvbiwgdGhpcy5xdWVzdGlvbik7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcXVlc3Rpb246IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAoaXNFcXVhbCh0aGlzLmxhenlRdWVzdGlvbiwgdmFsKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmxhenlRdWVzdGlvbiA9IGNsb25lRGVlcCh2YWwpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgbGF6eVF1ZXN0aW9uOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5mYWlsZWRUb1VwRGF0ZSA9IGZhbHNlOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgaWYgKCF0aGlzLnVpQ29tcG9uZW50c0xpc3QuaW5jbHVkZXModmFsLnVpQ29tcG9uZW50KSkgewogICAgICAgICAgICB0aGlzLmxhenlRdWVzdGlvbi51aUNvbXBvbmVudCA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXNFcXVhbCh0aGlzLnF1ZXN0aW9uLCB0aGlzLmxhenlRdWVzdGlvbikpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy52JC5sYXp5UXVlc3Rpb24uJHRvdWNoKCk7CiAgICAgICAgICBpZiAodGhpcy52JC5sYXp5UXVlc3Rpb24uJGludmFsaWQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy51cGRhdGVUaGlzUXVlc3Rpb24oKTsKICAgICAgICB9LCAyMDApOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgYWN0aXZlKHZhbCkgewogICAgICB0aGlzLnYkLmxhenlRdWVzdGlvbi4kdG91Y2goKTsKICAgIH0sCiAgICBjaGVja1NhdmluZ1N0YXR1cygpIHsKICAgICAgdGhpcy4kZW1pdCgnc2F2aW5nc3RhdHVzJywgdGhpcy52JC5sYXp5UXVlc3Rpb24uJGludmFsaWQpOwogICAgfSwKICAgIHVpQ29tcG9uZW50c0xpc3QodmFsKSB7CiAgICAgIGlmICh0aGlzLnVpQ29tcG9uZW50c0xpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgdGhpcy5sYXp5UXVlc3Rpb24udWlDb21wb25lbnQgPSB0aGlzLnVpQ29tcG9uZW50c0xpc3RbMF07CiAgICAgICAgY29uc29sZS5sb2coJ2xlbmd0aDonLCB2YWwubGVuZ3RoLCB0aGlzLnVpQ29tcG9uZW50c0xpc3QpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdxdWVzdGlvbicsIFsndXBkYXRlUXVlc3Rpb24nLCAnZGVsZXRlUXVlc3Rpb24nXSksCiAgICBhc3luYyBvbkRyb3AoZXZ0KSB7CiAgICAgIGNvbnN0IG15aXRlbSA9IGV2dC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnZHJhZ2dlZEl0ZW0nKTsKICAgICAgY29uc3QgcGFyc2VkaXRlbSA9IEpTT04ucGFyc2UobXlpdGVtKTsKICAgICAgZGVsZXRlIHBhcnNlZGl0ZW0ubWV0aG9kOwogICAgICBkZWxldGUgcGFyc2VkaXRlbS5xdWVzdGlvbjsKICAgICAgdGhpcy5sYXp5UXVlc3Rpb24uZGlyZWN0X2luZGljYXRvciA9IFtwYXJzZWRpdGVtXTsKICAgIH0sCiAgICBkZWxldGVJbmRpY2F0b3IoKSB7CiAgICAgIHRoaXMubGF6eVF1ZXN0aW9uLmRpcmVjdF9pbmRpY2F0b3IgPSBbXTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVUaGlzUXVlc3Rpb24oKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZmFpbGVkVG9VcERhdGUgPSBmYWxzZTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5mYWlsZWRUb1VwRGF0ZSA9IHRydWU7CiAgICAgIH0sIDUwMDApOwogICAgICBhd2FpdCB0aGlzLnVwZGF0ZVF1ZXN0aW9uKHsKICAgICAgICBtSWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICBTdUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuU3VydmV5SWQsCiAgICAgICAgU2VJZDogdGhpcy5sYXp5UXVlc3Rpb24uc2VjdGlvbiB8fCAwLAogICAgICAgIHF1ZXN0aW9uOiB0aGlzLmxhenlRdWVzdGlvbgogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyByZW1vdmVRdWVzdGlvbigpIHsKICAgICAgYXdhaXQgdGhpcy5kZWxldGVRdWVzdGlvbih7CiAgICAgICAgbUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgU3VJZDogdGhpcy4kcm91dGUucGFyYW1zLlN1cnZleUlkLAogICAgICAgIFNlSWQ6IHRoaXMubGF6eVF1ZXN0aW9uLnNlY3Rpb24gfHwgMCwKICAgICAgICBpZDogdGhpcy5xdWVzdGlvbi5pZAogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapActions","useVuelidate","UI_COMPONENTS","HandleValidationErrors","isEqual","cloneDeep","required","maxLength","Dropdown","InputSwitch","components","props","question","type","Object","active","Boolean","default","errors","checkSavingStatus","setup","v$","validations","lazyQuestion","name","uiComponent","isMandatory","data","uiComponents","requiredList","value","loading","failedToUpDate","computed","uiComponentsList","_this$lazyQuestion$di","_this$lazyQuestion$di2","acceptedUIComponents","reduce","result","option","concat","direct_indicator","datatype","_this$lazyQuestion$di3","_this$lazyQuestion$di4","possibleDataTypes","includes","nameErrors","uiComponentErrors","valid","$invalid","id","uptodate","watch","handler","val","deep","setTimeout","$touch","updateThisQuestion","$emit","length","console","log","methods","onDrop","evt","myitem","dataTransfer","getData","parseditem","JSON","parse","method","deleteIndicator","updateQuestion","mId","$route","params","SuId","SurveyId","SeId","section","removeQuestion","deleteQuestion"],"sources":["C:\\Users\\Marc\\source\\repos\\openESEA\\openESEA_interpreter\\frontend\\src\\components\\forms\\QuestionForm.vue"],"sourcesContent":["// used by SurveyCreation.vue\r\n\r\n<template>\r\n    <form ref=\"form\" class=\"p-shadow-1 p-grid p-m-0 p-p-4 p-fluid p-input-filled\" style=\"border-radius: 5px;\" :style=\"[(active) ? 'border: 1px solid #9ecaed;':'border: 1px solid lightgrey;', (valid) ? '': 'border: 1px solid rgba(255, 0, 0, 0.3);']\" >\r\n        <!-- {{lazyQuestion}} <hr> {{question}} {{equal}} {{v$.$invalid}} -->\r\n        <template v-if=\"active\" class=\"p-grid p-col-12 p-py-5\">\r\n            <div class=\"p-col-8 p-m-0 p-my-1 p-field\">\r\n                <span class=\"p-float-label\">\r\n                    <InputText id=\"myAnchor\" type=\"text\" v-model=\"lazyQuestion.name\"  :class=\"{'p-invalid': nameErrors.length }\"  @blur=\"v$.lazyQuestion.name.$touch()\" :disabled=\"!active\" />\r\n                    <label for=\"myAnchor\">Question</label>\r\n                </span>\r\n                <div class=\"p-error p-text-italic\" v-for=\"error in nameErrors\" :key=\"error\"><small>{{error}}</small></div>\r\n            </div>\r\n            <div class=\"p-col-4\">\r\n                <span class=\"p-float-label\">\r\n                    <Dropdown id=\"questionuicomponent\" v-model=\"lazyQuestion.uiComponent\" :options=\"uiComponentsList\" :class=\"{'p-invalid': uiComponentErrors.length}\" @change=\"changeUIComponent\" :disabled=\"!active\" />\r\n                    <label v-if=\"active\" for=\"questionuicomponent\">Select ui Component...</label>\r\n                </span>\r\n            </div>\r\n\r\n                <div class=\"p-col-12 p-m-1 p-field\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"questiondescription\" type=\"text\" v-model=\"lazyQuestion.description\" :disabled=\"!active\" />\r\n                        <label for=\"questiondescription\">Description</label>\r\n                    </span>\r\n                </div>\r\n\r\n                <div class=\"p-col-12 p-m-1 p-field\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"questioninstruction\" type=\"text\" v-model=\"lazyQuestion.instruction\" :disabled=\"!active\" />\r\n                        <label for=\"questioninstruction\">Instruction</label>\r\n                    </span>\r\n                </div>\r\n\r\n            <Divider />\r\n            <div class=\"p-col-12 p-d-flex p-ai-center p-jc-end\">\r\n                <h3 v-if=\"!lazyQuestion.direct_indicator?.length\" class=\"p-col p-text-center p-text-italic p-text-light\" style=\"border: 3px dashed rgba(192,192,192,0.7); background-color:rgba(192,192,192,0.25); height: 50px; color: grey; padding: auto;\"  @drop='onDrop($event)'  @dragover.prevent @dragenter.prevent >{{ this.lazyQuestion.direct_indicator?.[0]?.key || 'Add Indicator by dragging it into the box' }}</h3>\r\n                <div v-else class=\"p-col p-d-flex p-ai-center\"><h3 class=\"p-col p-text-center p-text-italic p-text-light\" style=\"border: 3px dashed rgba(192,192,192,0.4); background-color:rgba(192,192,192,0.1); height: 50px; color: black; padding: auto;\"  @drop='onDrop($event)'  @dragover.prevent @dragenter.prevent>{{ this.lazyQuestion.direct_indicator?.[0]?.key }}</h3><i class=\"pi pi-trash p-p-2\" style=\"font-size: 25px; color: red;\" @click=\"deleteIndicator\" /></div>\r\n                <div class=\"p-d-flex p-ai-center p-ml-5\"><p class=\"p-mr-2\">Required</p> <InputSwitch v-model=\"lazyQuestion.isMandatory\" style=\"\" /></div>\r\n                <i class=\"pi pi-trash p-mx-5\" style=\"font-size: 25px; color: red; cursor: pointer;\" @click=\"removeQuestion()\" />\r\n                <i class=\"pi pi-ellipsis-v\" style=\"font-size: 25px; cursor: not-allowed;\" />\r\n            </div>\r\n        </template>\r\n        <div v-else>\r\n            <h3 class=\"p-col-12 p-m-0\" v-if=\"!active\"><span class=\"p-text-light p-mr-5\">Question:</span> {{lazyQuestion.name}}</h3>\r\n            <h3 class=\"p-col-12 p-m-0\"><span class=\"p-text-light p-mr-5\">Indicator:</span>   {{lazyQuestion.direct_indicator?.[0]?.key || 'None'}}</h3>\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\n    import { mapActions } from 'vuex'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { UI_COMPONENTS } from '../../utils/constants'\r\n    import HandleValidationErrors from '../../utils/HandleValidationErrors'\r\n    import { isEqual, cloneDeep } from 'lodash'\r\n    import { required, maxLength } from '../../utils/validators'\r\n    import Dropdown from 'primevue/dropdown'\r\n    import InputSwitch from 'primevue/inputswitch'\r\n\r\n    export default {\r\n        components: {\r\n            Dropdown,\r\n            InputSwitch\r\n        },\r\n        props: {\r\n            question: {\r\n                type: Object,\r\n                required: true\r\n            },\r\n            active: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            errors: {\r\n                type: Object,\r\n                default: () => ({})\r\n            },\r\n            checkSavingStatus: {\r\n                type: Boolean\r\n            }\r\n        },\r\n        setup: () => ({ v$: useVuelidate() }),\r\n        validations: {\r\n            lazyQuestion: {\r\n                name: { required, maxLength: maxLength(511) },\r\n                uiComponent: { required },\r\n                isMandatory: { required }\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                lazyQuestion: cloneDeep(this.question) || {},\r\n                uiComponents: UI_COMPONENTS,\r\n                requiredList: [{ name: 'Required', value: true }, { name: 'Optional', value: 'false' }],\r\n                loading: false,\r\n                failedToUpDate: false\r\n            }\r\n        },\r\n        computed: {\r\n            uiComponentsList () {\r\n                let acceptedUIComponents = this.uiComponents.reduce((result, option) => result.concat(option.value), [])\r\n                if (this.lazyQuestion.direct_indicator?.[0]?.datatype) { // text: option.text, value: option.value\r\n                    acceptedUIComponents = this.uiComponents.reduce((result, option) => option.possibleDataTypes.includes(this.lazyQuestion.direct_indicator?.[0]?.datatype) ? result.concat(option.value) : result, []) // Object.entries(this.dataTypes).reduce((result, datatype, {includes(datatype.value)})\r\n                }\r\n                return acceptedUIComponents // return Object.entries(this.uiComponents).map(([text, value]) => ({ text, value }))\r\n            },\r\n            nameErrors () {\r\n                return HandleValidationErrors(this.v$.lazyQuestion.name, this.errors.name)\r\n            },\r\n            uiComponentErrors () {\r\n                return HandleValidationErrors(this.v$.lazyQuestion.uiComponent, this.errors.uiComponent)\r\n            },\r\n            valid () {\r\n                return (!this.v$.lazyQuestion.$invalid && (this.lazyQuestion.id > 0) && this.uptodate)\r\n            },\r\n            uptodate () {\r\n                return isEqual(this.lazyQuestion, this.question)\r\n            }\r\n        },\r\n        watch: {\r\n            question: {\r\n                handler (val) {\r\n                    if (isEqual(this.lazyQuestion, val)) { return }\r\n                    this.lazyQuestion = cloneDeep(val)\r\n                },\r\n                deep: true\r\n            },\r\n            lazyQuestion: {\r\n                handler (val) {\r\n                    this.failedToUpDate = false\r\n                    setTimeout(() => {\r\n                        if (!this.uiComponentsList.includes(val.uiComponent)) {\r\n                            this.lazyQuestion.uiComponent = null\r\n                        }\r\n                        if (isEqual(this.question, this.lazyQuestion)) { return }\r\n                        this.v$.lazyQuestion.$touch()\r\n                        if (this.v$.lazyQuestion.$invalid) { return }\r\n                        this.updateThisQuestion()\r\n                    }, 200)\r\n                },\r\n                deep: true\r\n            },\r\n            active (val) {\r\n                this.v$.lazyQuestion.$touch()\r\n            },\r\n            checkSavingStatus () {\r\n                this.$emit('savingstatus', this.v$.lazyQuestion.$invalid)\r\n            },\r\n            uiComponentsList (val) {\r\n                if (this.uiComponentsList.length === 1) {\r\n                    this.lazyQuestion.uiComponent = this.uiComponentsList[0]\r\n                    console.log('length:', val.length, this.uiComponentsList)\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions('question', ['updateQuestion', 'deleteQuestion']),\r\n            async onDrop (evt) {\r\n                const myitem = evt.dataTransfer.getData('draggedItem')\r\n                const parseditem = JSON.parse(myitem)\r\n                delete parseditem.method\r\n                delete parseditem.question\r\n                this.lazyQuestion.direct_indicator = [parseditem]\r\n            },\r\n            deleteIndicator () {\r\n                this.lazyQuestion.direct_indicator = []\r\n            },\r\n            async updateThisQuestion () {\r\n                this.loading = true\r\n                this.failedToUpDate = false\r\n                setTimeout(() => { this.failedToUpDate = true }, 5000)\r\n                await this.updateQuestion({\r\n                    mId: this.$route.params.id,\r\n                    SuId: this.$route.params.SurveyId,\r\n                    SeId: this.lazyQuestion.section || 0,\r\n                    question: this.lazyQuestion\r\n                })\r\n            },\r\n            async removeQuestion () {\r\n                await this.deleteQuestion({\r\n                    mId: this.$route.params.id,\r\n                    SuId: this.$route.params.SurveyId,\r\n                    SeId: this.lazyQuestion.section || 0,\r\n                    id: this.question.id\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":";;;AAmDI,SAASA,UAAS,QAAS,MAAK;AAChC,OAAOC,YAAW,MAAO,iBAAgB;AACzC,SAASC,aAAY,QAAS,uBAAsB;AACpD,OAAOC,sBAAqB,MAAO,oCAAmC;AACtE,SAASC,OAAO,EAAEC,SAAQ,QAAS,QAAO;AAC1C,SAASC,QAAQ,EAAEC,SAAQ,QAAS,wBAAuB;AAC3D,OAAOC,QAAO,MAAO,mBAAkB;AACvC,OAAOC,WAAU,MAAO,sBAAqB;AAE7C,eAAe;EACXC,UAAU,EAAE;IACRF,QAAQ;IACRC;EACJ,CAAC;EACDE,KAAK,EAAE;IACHC,QAAQ,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZR,QAAQ,EAAE;IACd,CAAC;IACDS,MAAM,EAAE;MACJF,IAAI,EAAEG,OAAO;MACbC,OAAO,EAAE;IACb,CAAC;IACDC,MAAM,EAAE;MACJL,IAAI,EAAEC,MAAM;MACZG,OAAO,EAAEA,CAAA,MAAO,CAAC,CAAC;IACtB,CAAC;IACDE,iBAAiB,EAAE;MACfN,IAAI,EAAEG;IACV;EACJ,CAAC;EACDI,KAAK,EAAEA,CAAA,MAAO;IAAEC,EAAE,EAAEpB,YAAY,CAAC;EAAE,CAAC,CAAC;EACrCqB,WAAW,EAAE;IACTC,YAAY,EAAE;MACVC,IAAI,EAAE;QAAElB,QAAQ;QAAEC,SAAS,EAAEA,SAAS,CAAC,GAAG;MAAE,CAAC;MAC7CkB,WAAW,EAAE;QAAEnB;MAAS,CAAC;MACzBoB,WAAW,EAAE;QAAEpB;MAAS;IAC5B;EACJ,CAAC;EACDqB,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHJ,YAAY,EAAElB,SAAS,CAAC,IAAI,CAACO,QAAQ,KAAK,CAAC,CAAC;MAC5CgB,YAAY,EAAE1B,aAAa;MAC3B2B,YAAY,EAAE,CAAC;QAAEL,IAAI,EAAE,UAAU;QAAEM,KAAK,EAAE;MAAK,CAAC,EAAE;QAAEN,IAAI,EAAE,UAAU;QAAEM,KAAK,EAAE;MAAQ,CAAC,CAAC;MACvFC,OAAO,EAAE,KAAK;MACdC,cAAc,EAAE;IACpB;EACJ,CAAC;EACDC,QAAQ,EAAE;IACNC,gBAAeA,CAAA,EAAK;MAAA,IAAAC,qBAAA,EAAAC,sBAAA;MAChB,IAAIC,oBAAmB,GAAI,IAAI,CAACT,YAAY,CAACU,MAAM,CAAC,CAACC,MAAM,EAAEC,MAAM,KAAKD,MAAM,CAACE,MAAM,CAACD,MAAM,CAACV,KAAK,CAAC,EAAE,EAAE;MACvG,KAAAK,qBAAA,GAAI,IAAI,CAACZ,YAAY,CAACmB,gBAAgB,cAAAP,qBAAA,gBAAAC,sBAAA,GAAlCD,qBAAA,CAAqC,CAAC,CAAC,cAAAC,sBAAA,eAAvCA,sBAAA,CAAyCO,QAAQ,EAAE;QAAE;QACrDN,oBAAmB,GAAI,IAAI,CAACT,YAAY,CAACU,MAAM,CAAC,CAACC,MAAM,EAAEC,MAAM;UAAA,IAAAI,sBAAA,EAAAC,sBAAA;UAAA,OAAKL,MAAM,CAACM,iBAAiB,CAACC,QAAQ,EAAAH,sBAAA,GAAC,IAAI,CAACrB,YAAY,CAACmB,gBAAgB,cAAAE,sBAAA,wBAAAC,sBAAA,GAAlCD,sBAAA,CAAqC,CAAC,CAAC,cAAAC,sBAAA,uBAAvCA,sBAAA,CAAyCF,QAAQ,IAAIJ,MAAM,CAACE,MAAM,CAACD,MAAM,CAACV,KAAK,IAAIS,MAAM;QAAA,GAAE,EAAE,GAAE;MACzM;MACA,OAAOF,oBAAmB,EAAE;IAChC,CAAC;IACDW,UAASA,CAAA,EAAK;MACV,OAAO7C,sBAAsB,CAAC,IAAI,CAACkB,EAAE,CAACE,YAAY,CAACC,IAAI,EAAE,IAAI,CAACN,MAAM,CAACM,IAAI;IAC7E,CAAC;IACDyB,iBAAgBA,CAAA,EAAK;MACjB,OAAO9C,sBAAsB,CAAC,IAAI,CAACkB,EAAE,CAACE,YAAY,CAACE,WAAW,EAAE,IAAI,CAACP,MAAM,CAACO,WAAW;IAC3F,CAAC;IACDyB,KAAIA,CAAA,EAAK;MACL,OAAQ,CAAC,IAAI,CAAC7B,EAAE,CAACE,YAAY,CAAC4B,QAAO,IAAM,IAAI,CAAC5B,YAAY,CAAC6B,EAAC,GAAI,CAAC,IAAK,IAAI,CAACC,QAAQ;IACzF,CAAC;IACDA,QAAOA,CAAA,EAAK;MACR,OAAOjD,OAAO,CAAC,IAAI,CAACmB,YAAY,EAAE,IAAI,CAACX,QAAQ;IACnD;EACJ,CAAC;EACD0C,KAAK,EAAE;IACH1C,QAAQ,EAAE;MACN2C,OAAMA,CAAGC,GAAG,EAAE;QACV,IAAIpD,OAAO,CAAC,IAAI,CAACmB,YAAY,EAAEiC,GAAG,CAAC,EAAE;UAAE;QAAO;QAC9C,IAAI,CAACjC,YAAW,GAAIlB,SAAS,CAACmD,GAAG;MACrC,CAAC;MACDC,IAAI,EAAE;IACV,CAAC;IACDlC,YAAY,EAAE;MACVgC,OAAMA,CAAGC,GAAG,EAAE;QACV,IAAI,CAACxB,cAAa,GAAI,KAAI;QAC1B0B,UAAU,CAAC,MAAM;UACb,IAAI,CAAC,IAAI,CAACxB,gBAAgB,CAACa,QAAQ,CAACS,GAAG,CAAC/B,WAAW,CAAC,EAAE;YAClD,IAAI,CAACF,YAAY,CAACE,WAAU,GAAI,IAAG;UACvC;UACA,IAAIrB,OAAO,CAAC,IAAI,CAACQ,QAAQ,EAAE,IAAI,CAACW,YAAY,CAAC,EAAE;YAAE;UAAO;UACxD,IAAI,CAACF,EAAE,CAACE,YAAY,CAACoC,MAAM,CAAC;UAC5B,IAAI,IAAI,CAACtC,EAAE,CAACE,YAAY,CAAC4B,QAAQ,EAAE;YAAE;UAAO;UAC5C,IAAI,CAACS,kBAAkB,CAAC;QAC5B,CAAC,EAAE,GAAG;MACV,CAAC;MACDH,IAAI,EAAE;IACV,CAAC;IACD1C,MAAKA,CAAGyC,GAAG,EAAE;MACT,IAAI,CAACnC,EAAE,CAACE,YAAY,CAACoC,MAAM,CAAC;IAChC,CAAC;IACDxC,iBAAgBA,CAAA,EAAK;MACjB,IAAI,CAAC0C,KAAK,CAAC,cAAc,EAAE,IAAI,CAACxC,EAAE,CAACE,YAAY,CAAC4B,QAAQ;IAC5D,CAAC;IACDjB,gBAAeA,CAAGsB,GAAG,EAAE;MACnB,IAAI,IAAI,CAACtB,gBAAgB,CAAC4B,MAAK,KAAM,CAAC,EAAE;QACpC,IAAI,CAACvC,YAAY,CAACE,WAAU,GAAI,IAAI,CAACS,gBAAgB,CAAC,CAAC;QACvD6B,OAAO,CAACC,GAAG,CAAC,SAAS,EAAER,GAAG,CAACM,MAAM,EAAE,IAAI,CAAC5B,gBAAgB;MAC5D;IACJ;EACJ,CAAC;EACD+B,OAAO,EAAE;IACL,GAAGjE,UAAU,CAAC,UAAU,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;IAC/D,MAAMkE,MAAKA,CAAGC,GAAG,EAAE;MACf,MAAMC,MAAK,GAAID,GAAG,CAACE,YAAY,CAACC,OAAO,CAAC,aAAa;MACrD,MAAMC,UAAS,GAAIC,IAAI,CAACC,KAAK,CAACL,MAAM;MACpC,OAAOG,UAAU,CAACG,MAAK;MACvB,OAAOH,UAAU,CAAC3D,QAAO;MACzB,IAAI,CAACW,YAAY,CAACmB,gBAAe,GAAI,CAAC6B,UAAU;IACpD,CAAC;IACDI,eAAcA,CAAA,EAAK;MACf,IAAI,CAACpD,YAAY,CAACmB,gBAAe,GAAI,EAAC;IAC1C,CAAC;IACD,MAAMkB,kBAAiBA,CAAA,EAAK;MACxB,IAAI,CAAC7B,OAAM,GAAI,IAAG;MAClB,IAAI,CAACC,cAAa,GAAI,KAAI;MAC1B0B,UAAU,CAAC,MAAM;QAAE,IAAI,CAAC1B,cAAa,GAAI,IAAG;MAAE,CAAC,EAAE,IAAI;MACrD,MAAM,IAAI,CAAC4C,cAAc,CAAC;QACtBC,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC3B,EAAE;QAC1B4B,IAAI,EAAE,IAAI,CAACF,MAAM,CAACC,MAAM,CAACE,QAAQ;QACjCC,IAAI,EAAE,IAAI,CAAC3D,YAAY,CAAC4D,OAAM,IAAK,CAAC;QACpCvE,QAAQ,EAAE,IAAI,CAACW;MACnB,CAAC;IACL,CAAC;IACD,MAAM6D,cAAaA,CAAA,EAAK;MACpB,MAAM,IAAI,CAACC,cAAc,CAAC;QACtBR,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC3B,EAAE;QAC1B4B,IAAI,EAAE,IAAI,CAACF,MAAM,CAACC,MAAM,CAACE,QAAQ;QACjCC,IAAI,EAAE,IAAI,CAAC3D,YAAY,CAAC4D,OAAM,IAAK,CAAC;QACpC/B,EAAE,EAAE,IAAI,CAACxC,QAAQ,CAACwC;MACtB,CAAC;IACL;EACJ;AACJ","ignoreList":[]}]}